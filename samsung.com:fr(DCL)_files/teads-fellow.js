(()=>{var e={815:e=>{const t={},n="6.10.1_df8028e",o={conversionType:"conversion_type",price:"aepp",currency:"aepc",name:"aepn"},i="https://t.teads.tv/track",r="https://cm.teads.tv",a="tfpai",s=2592e3,d="tfpsi",c=1800,l="tfpvi",u=7776e3,p="js-web",g="js-gtm",v="internal",w="TEADS_PIXEL_LOADED",f="TEADS_PIXEL_EVENT";function _(e){return"[object Function]"===toString.call(e)}function m(){return!0!==window.teads_disable_first_party_cookie&&window.first_party_cookie_allowed}t.isFn=_,t.setPostMessageEventToOpener=function(e){window.teads_post_message_event_to_opener=e},t.isPostMessageEventToOpenerEnabled=function(){return!0===window.teads_post_message_event_to_opener},t.setPostMessageEventToWindow=function(e){window.teads_post_message_event_to_window=e},t.isPostMessageEventToWindowEnabled=function(){return!0===window.teads_post_message_event_to_window},t.appendTrackingEventSent=function(e){window.teads_tracking_events_sent||(window.teads_tracking_events_sent=[]),window.teads_tracking_events_sent.push(e)},t.getTrackingEventsSent=function(){return window.teads_tracking_events_sent||[]},t.buildPostMessagePayload=function(e){var t,n,o;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:e,id:null===(t=window)||void 0===t?void 0:t.name,ts:Date.now(),host:null===(n=window)||void 0===n||null===(o=n.location)||void 0===o?void 0:o.host,...i}},t.sendPostMessageToOpener=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"*";try{var i,r,a;const s=(null===(i=window)||void 0===i||null===(r=i.opener)||void 0===r?void 0:r.top)||(null===(a=window)||void 0===a?void 0:a.opener);_(s.postMessage)&&s.postMessage(t.buildPostMessagePayload(e,n),o)}catch(e){}},t.sendPostMessageToWindow=function(e){var n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";if(t.isFn(null===(n=window)||void 0===n?void 0:n.postMessage))try{window.postMessage(t.buildPostMessagePayload(e,o),i)}catch(e){}},t.initPostMessageCommunication=function(){var e;_(null===(e=window)||void 0===e?void 0:e.addEventListener)&&(t.sendPostMessageToOpener(w),t.sendPostMessageToWindow(w),window.addEventListener("message",t.handlePostMessage))},t.handlePostMessage=function(e){var n,o,i,r,a;null!==(n=window)&&void 0!==n&&n.opener&&("TEADS_PIXEL_DEBUG"===(null==e||null===(i=e.data)||void 0===i?void 0:i.type)&&t.setPostMessageEventToOpener(!0),"TEADS_SDK_PARAMETERS"===(null==e||null===(r=e.data)||void 0===r?void 0:r.type)&&null!=e&&null!==(a=e.data)&&void 0!==a&&a.teadsClickId&&(t.setAuctionId(e.data.teadsClickId),t.setAuctionIdForwardedBy("postMessage"),t.updateAuctionIdFirstPartyCookie())),"TEADS_ASK_PIXEL_INFO"===(null==e||null===(o=e.data)||void 0===o?void 0:o.type)&&(t.sendPostMessageToWindow("TEADS_PIXEL_INFO",{buyerPixelId:t.getBuyerPixelId(),advertiserId:t.getAdvertiserId(),trackingAllowed:t.getTrackingAllowed(),firstPartyCookieAllowed:t.getFirstPartyCookieAllowed(),gdprAdvertiser:t.getGdprAdvertiser(),ccpaAdvertiser:t.getCcpaAdvertiser(),advertiserDomain:t.getAdvertiserDomain(),auctionId:t.getAuctionId(),env:t.getEnv(),iabData:t.getIabConsentData(),uspData:t.getUspConsentData(),referer:t.sanitizeCurrentUrl(t.getTopUrl(window)),trackingEventsSent:t.getTrackingEventsSent(),request:e.data}),t.setPostMessageEventToWindow(!0))},t.lookupIabConsent=function(e,t){let n=0;function o(n,o){o?!1!==n.gdprApplies&&"tcloaded"!==n.eventStatus&&"useractioncomplete"!==n.eventStatus||e(n):t("CMP unable to register callback function. Please check CMP setup.")}function i(){return!(!window.$sf||!window.$sf.ext)}function r(e,t){window.$sf.ext.register(1,1,(function(n,o){if("cmpReturn"===n){const n="getConsentData"===e?o.vendorConsentData:o.vendorConsents;t(n)}})),window.$sf.ext.cmp(e)}function a(e){const t="".concat(2===n?"__tcfapi":"__cmp","Return"),o="string"==typeof e.data&&"".concat(e.data).includes(t)?JSON.parse(e.data):e.data;if(o[t]&&o[t].callId){const e=o[t];void 0!==c[e.callId]&&c[e.callId](e.returnValue,e.success)}}function s(e,t,o){const i=2===n?"__tcfapi":"__cmp",r="".concat(i,"Call");2===n?(window[i]=(e,n,o,i)=>{const a="".concat(Math.random()),s={[r]:{command:e,version:n,parameter:i,callId:a}};c[a]=o,t.postMessage(s,"*")},window.addEventListener("message",a,!1),window[i](e,n,o)):(window[i]=(e,n,o)=>{const i="".concat(Math.random()),a={[r]:{command:e,parameter:n,callId:i}};c[i]=o,t.postMessage(a,"*")},window.addEventListener("message",a,!1),window[i](e,void 0,o))}const d=function(){const t={};function n(){t.getConsentData&&t.getVendorConsents&&e(t)}return{consentDataCallback(e){t.getConsentData=e,n()},vendorConsentsCallback(e){t.getVendorConsents=e,n()}}}(),c={},{cmpFrame:l,cmpFunction:u}=function(){let e,t,o=window;for(;!e;){try{if("function"==typeof o.__tcfapi||"function"==typeof o.__cmp){"function"==typeof o.__tcfapi?(n=2,t=o.__tcfapi):(n=1,t=o.__cmp),e=o;break}}catch(e){}try{if(o.frames.__tcfapiLocator){n=2,e=o;break}}catch(e){}try{if(o.frames.__cmpLocator){n=1,e=o;break}}catch(e){}if(o===window.top)break;o=o.parent}return{cmpFrame:e,cmpFunction:t}}();if(!l)return!1;if(new Promise(((e,t)=>{_(u)?u("ping",null,(()=>e())):1===n&&i()&&"function"==typeof window.$sf.ext.cmp?r("ping",(()=>e())):s("ping",l,(()=>e())),setTimeout((()=>t()),100)})).catch((()=>t("Unable to ping the CMP"))),_(u)){if(1===n)return u("getConsentData",null,d.consentDataCallback),u("getVendorConsents",null,d.vendorConsentsCallback),!0;if(2===n)return u("addEventListener",n,o),!0}else{if(1===n&&i()&&"function"==typeof window.$sf.ext.cmp)return r("getConsentData",d.consentDataCallback),r("getVendorConsents",d.vendorConsentsCallback),!0;if(1===n)return s("getConsentData",l,d.consentDataCallback),s("getVendorConsents",l,d.vendorConsentsCallback),!0;if(2===n)return s("addEventListener",l,o),!0}return!1},t.lookupUspConsent=function(e,t){function n(e,t,n){window.__uspapi=(e,n,o)=>{const r="".concat(Math.random()),a={__uspapiCall:{command:e,version:n,callId:r}};i[r]=o,t.postMessage(a,"*")},window.addEventListener("message",(function(e){const t=e&&e.data&&e.data.__uspapiReturn;t&&t.callId&&void 0!==i[t.callId]&&(i[t.callId](t.returnValue,t.success),delete i[t.callId])}),!1),window.__uspapi(e,1,n)}const o=function(){const n={};return{consentDataCallback:(o,i)=>{i&&o.uspString&&(n.usPrivacy=o.uspString),n.usPrivacy?e(n):t("Unable to get USP consent string.")}}}(),i={},{uspapiFrame:r,uspapiFunction:a}=function(){let e,t,n=window;for(;!e;){try{if("function"==typeof n.__uspapi){t=n.__uspapi,e=n;break}}catch(e){}try{if(n.frames.__uspapiLocator){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{uspapiFrame:e,uspapiFunction:t}}();return!!r&&(new Promise(((e,t)=>{_(a)?a("getUSPData",null,(()=>e())):n("getUSPData",r,(()=>e())),setTimeout((()=>t()),100)})).catch((()=>t("Unable to ping the USP"))),_(a)?a("getUSPData",1,o.consentDataCallback):n("getUSPData",r,o.consentDataCallback),!0)},t.getHighestAccessibleWindow=function(e){let t=e,n=!1;try{for(let e=0;t.parent.document!==t.document||e<50;e+=1){if(!t.parent.document){n=!0;break}t=t.parent}}catch(e){n=!0}return{topFrame:t,err:n}},t.getTopUrl=function(e){let n="";const o=t.getHighestAccessibleWindow(e),{topFrame:i}=o;if(o.err)try{n=i.top.location.href}catch(e){n=i.location.href}else n=i.location.href;return n},t.getUserAgent=function(){return void 0!==window.navigator&&void 0!==window.navigator.userAgent?window.navigator.userAgent:""},t.buildQueryString=function(e){const t=[];return Object.keys(e).forEach((n=>{t.push("".concat(n,"=").concat(encodeURIComponent(e[n])))})),t.join("&")},t.sendLogUsingDOM=function(e){const n=document.createElement("img");n.width=0,n.height=0,n.alt="",n.style.position="absolute",n.src=e,(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.getElementsByTagName("script")[0].parentNode).insertBefore(n,null),t.isPostMessageEventToOpenerEnabled()&&t.sendPostMessageToOpener(f,{trackingUrl:e}),t.isPostMessageEventToWindowEnabled()&&t.sendPostMessageToWindow(f,{trackingUrl:e})},t.sendLogUsingFetch=function(e){fetch?fetch(e).then((()=>{t.isPostMessageEventToOpenerEnabled()&&t.sendPostMessageToOpener(f,{trackingUrl:e}),t.isPostMessageEventToWindowEnabled()&&t.sendPostMessageToWindow(f,{trackingUrl:e})})).catch((()=>{t.sendLogUsingDOM(e)})):t.sendLogUsingDOM(e)},t.sendLogUsingBeacon=function(e){const n=navigator.sendBeacon&&navigator.sendBeacon.bind(navigator);try{n&&n(e)?(t.isPostMessageEventToOpenerEnabled()&&t.sendPostMessageToOpener(f,{trackingUrl:e}),t.isPostMessageEventToWindowEnabled()&&t.sendPostMessageToWindow(f,{trackingUrl:e})):t.sendLogUsingFetch(e)}catch(e){}},t.extractAuctionIdFromUrl=function(e){try{const t=new RegExp(/(?:\?|&|%3F|%26)auctid(?:=|%3D)([0-9a-zA-Z-_]*)/).exec(e);if(t&&t.length>=2)return t[1]}catch(e){t.reportError("Error when extracting Auction ID from url",null==e?void 0:e.message,v)}},t.getTargetUrl=async function(e,o,i){var r,a;const s=t.getAdvertiserId(),d=t.getBuyerPixelId(),c=t.getEnv(),l=t.buildQueryString(o),u=t.getTopUrl(window),p=t.retrieveAuctionId(u),g=t.getAuctionIdForwardedBy(),v=t.getSessionId(),w=t.getViewerId(),f=t.getIabConsentData(),_=t.getUspConsentData(),m=t.getGdprAdvertiser(),y=t.getCcpaAdvertiser(),C=await t.getBrowserTopics(),I=t.sanitizeCurrentUrl(u);let k="".concat(i,"?action=").concat(e,"&env=").concat(encodeURIComponent(c),"&tag_version=").concat(encodeURIComponent(n));return l.length>0&&(k="".concat(k,"&").concat(l)),void 0!==d?k="".concat(k,"&buyer_pixel_id=").concat(encodeURIComponent(d)):void 0!==s&&(k="".concat(k,"&advertiser_id=").concat(encodeURIComponent(s))),k="".concat(k,"&referer=").concat(encodeURIComponent(I)),void 0!==p&&(k="".concat(k,"&auctid=").concat(p)),void 0!==g&&(k="".concat(k,"&cohort_id=").concat(g)),void 0!==v&&(k="".concat(k,"&user_session_id=").concat(v)),void 0!==w&&(k="".concat(k,"&firstPartyCookieTeadsId=").concat(w)),C&&(k="".concat(k,"&browser_topics=").concat(C)),void 0!==(null==f||null===(r=f.data)||void 0===r?void 0:r.tcString)&&(k="".concat(k,"&gdpr_consent=").concat(f.data.tcString)),null!=m&&m.apply?k="".concat(k,"&gdpr_status=12"):void 0!==(null==m?void 0:m.apply)&&(k="".concat(k,"&gdpr_status=0")),m&&(void 0!==m.apply&&(k="".concat(k,"&gdpr_apply=").concat(m.apply)),void 0!==m.teadsConsent&&(k="".concat(k,"&gtc=").concat(m.teadsConsent)),void 0!==m.isServiceSpecific&&(k="".concat(k,"&gdpr_is_service_specific=").concat(m.isServiceSpecific)),void 0!==m.cmpId&&(k="".concat(k,"&gdpr_cmp_id=").concat(m.cmpId)),void 0!==m.apiVersion&&(k="".concat(k,"&gdpr_api_version=").concat(m.apiVersion))),void 0!==(null==_||null===(a=_.data)||void 0===a?void 0:a.usPrivacy)&&(k="".concat(k,"&ccpa_consent=").concat(_.data.usPrivacy)),y&&(void 0!==y.apply&&(k="".concat(k,"&ca=").concat(y.apply)),void 0!==y.teadsConsent&&(k="".concat(k,"&ctc=").concat(y.teadsConsent))),k},t.sanitizeCurrentUrl=function(e){const t=["account","password","pass","secret","secretkey","username","user","login","ordernumber","orderid","email","mail","user.email","user.password","user.name","user.mail","user.lastname","user.firstname","user.phone","user.phonenumber","lastname","firstname","name","address","phonenumber","phone","client_secret","guid"];if(""!==e){const n=e.split("?").length>1?e.split("?")[1]:void 0;if(void 0!==n){let o="".concat(e.split("?")[0],"?");const i=n.split("&");for(let e=0;e<i.length;e+=1){const n=i[e].split(/=(.+)/);o="".concat(o+(0===e?"":"&")+n[0],"=").concat(t.indexOf(n[0])>=0?"XXXXXXXX":n[1])}e=o}}return e},t.buildEventParameters=function(e,n){const i={};return Object.keys(e).forEach((r=>{const a=r,s=e[r];Object.prototype.hasOwnProperty.call(o,a)?i[o[a]]=s+(n||""):t.reportError("Invalid parameter specified in event: ".concat(a))})),i},t.processQueuedEvents=async function(){if(void 0!==window.teads_e){const e=[];for(;window.teads_e.length;)e.push(t.sendEventBasedConversion(window.teads_e.shift()));try{await Promise.all(e)}catch(e){t.reportError("Error while sending event based conversion",null==e?void 0:e.message,v)}t.updateSessionIdFirstPartyCookie()}else t.reportError("The event queue is not defined.")},t.getCookieValue=function(e){try{const t="".concat(e,"="),n=document.cookie.split(";");for(let e=0;e<n.length;e+=1)if(n[e]=n[e].trim(),0===n[e].indexOf(t))return n[e].substring(t.length,n[e].length)}catch(n){t.reportError('Error while reading first-party cookie with key "'.concat(e,'"'),null==n?void 0:n.message,v)}return""},t.setCookie=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a="".concat(e,"=").concat(t);i&&(a+=";path=".concat(i)),"number"==typeof o&&(a+=";max-age=".concat(o)),n&&(a+=";domain=.".concat(n)),r&&(a+=";samesite=".concat(r)),document.cookie=a},t.deleteFirstPartyCookie=function(e){try{t.setCookie(e,"",t.getAdvertiserDomain(),0,"/","strict")}catch(n){t.reportError('Error while deleting cookie on domain with key "'.concat(e,'"'),null==n?void 0:n.message,v)}},t.setFirstPartyCookie=function(e,n,o){try{t.setCookie(e,n,t.getAdvertiserDomain(),o,"/","strict")}catch(n){t.reportError('Error while setting cookie on domain with key "'.concat(e,'"'),null==n?void 0:n.message,v)}},t.updateAuctionIdFirstPartyCookie=function(){const e=t.getAuctionId();t.getFirstPartyCookieAllowed()&&e&&t.setFirstPartyCookie(a,e,s)},t.updateSessionIdFirstPartyCookie=function(){const e=t.getSessionId();t.getFirstPartyCookieAllowed()&&e&&t.setFirstPartyCookie(d,e,c)},t.updateViewerIdFirstPartyCookie=function(){const e=t.getViewerId();t.getFirstPartyCookieAllowed()&&e&&t.setFirstPartyCookie(l,e,u)},t.buildAdvertiserInformationQueryString=function(e){var n;const o=t.getAdvertiserId(),i=t.getBuyerPixelId();let r="referer=".concat(encodeURIComponent(e));void 0!==i?r+="&buyer_pixel_id=".concat(encodeURIComponent(i)):void 0!==o&&(r+="&advertiser_id=".concat(encodeURIComponent(o)));const a=t.getIabConsentData();var s,d,c,l,u,p;a&&(void 0!==(null==a||null===(s=a.data)||void 0===s?void 0:s.gdprApplies)?r+="&gdpr_applies=".concat(encodeURIComponent(a.data.gdprApplies)):void 0!==(null==a||null===(d=a.data)||void 0===d||null===(c=d.getConsentData)||void 0===c?void 0:c.gdprApplies)&&(r+="&gdpr_applies=".concat(encodeURIComponent(a.data.getConsentData.gdprApplies))),null!=a&&null!==(l=a.data)&&void 0!==l&&l.tcString?r+="&gdpr_consent=".concat(encodeURIComponent(a.data.tcString)):null!=a&&null!==(u=a.data)&&void 0!==u&&null!==(p=u.getConsentData)&&void 0!==p&&p.consentData&&(r+="&gdpr_consent=".concat(encodeURIComponent(a.data.getConsentData.consentData))),null!=a&&a.error&&(r+="&gdpr_error=".concat(encodeURIComponent(a.error))));const g=t.getUspConsentData();null!=g&&null!==(n=g.data)&&void 0!==n&&n.usPrivacy&&(r+="&ccpa_consent=".concat(encodeURIComponent(g.data.usPrivacy))),null!=g&&g.error&&(r+="&ccpa_error=".concat(encodeURIComponent(g.error)));const v=t.getOptOut();return void 0!==v&&(r+="&web_opt_out=".concat(encodeURIComponent(v))),r},t.getAdvertiserInformation=async function(){const e=t.getTopUrl(window),n=t.buildAdvertiserInformationQueryString(e);try{const e=await fetch("".concat(r,"/v2/advertiser?").concat(n));if(200===(null==e?void 0:e.status)){var o,i,a,s,d,c;const t=await e.json();return{trackingAllowed:!1!==(null==t?void 0:t.tracking_allowed),firstPartyCookieAllowed:!0===(null==t?void 0:t.first_party_cookie_allowed),sessionId:null==t?void 0:t.session_id,auctionId:null==t?void 0:t.auction_id,viewerId:null==t?void 0:t.user_id,domain:null==t?void 0:t.domain,ccpa:null!=t&&t.ccpa?{apply:null===(o=t.ccpa)||void 0===o?void 0:o.apply,teadsConsent:null===(i=t.ccpa)||void 0===i?void 0:i.teads_consent}:void 0,gdpr:null!=t&&t.gdpr?{apply:null===(a=t.gdpr)||void 0===a?void 0:a.apply,teadsConsent:null===(s=t.gdpr)||void 0===s?void 0:s.teads_consent,apiVersion:null===(d=t.gdpr)||void 0===d?void 0:d.api_version,cmpId:null===(c=t.gdpr)||void 0===c?void 0:c.cmp_id,isServiceSpecific:null==t?void 0:t.gdpr.is_service_specific}:void 0}}}catch(e){t.reportError("Error while trigger API to know advertiser information",null==e?void 0:e.message,v)}const l=t.extractAuctionIdFromUrl(e);return l?{trackingAllowed:!0,firstPartyCookieAllowed:!1,auctionId:l}:{trackingAllowed:!0,firstPartyCookieAllowed:!1}},t.isBrowsingTopicsEnabled=function(){var e,t,n,o,i;return!(!("browsingTopics"in document)||null===(e=document)||void 0===e||null===(t=e.featurePolicy)||void 0===t||null===(n=t.allowedFeatures)||void 0===n||null===(o=n.call(t))||void 0===o||null===(i=o.includes)||void 0===i||!i.call(o,"browsing-topics"))},t.getBrowserTopics=async function(){let e=null;try{if(t.isBrowsingTopicsEnabled()){const t=await document.browsingTopics();t&&(e=btoa(JSON.stringify(t)))}}catch(e){t.reportError("Error when retrieving topics from Topics API",null==e?void 0:e.message,v)}return e},t.isAttributionReportingEnabled=function(){var e,t,n,o,i;return!(null===(e=document)||void 0===e||null===(t=e.featurePolicy)||void 0===t||null===(n=t.allowedFeatures)||void 0===n||null===(o=n.call(t))||void 0===o||null===(i=o.includes)||void 0===i||!i.call(o,"attribution-reporting"))},t.triggerAttributionReportingConversion=async function(e,n){try{if(t.isAttributionReportingEnabled()){const o=await t.getTargetUrl(e,n,"".concat(r,"/v3/conversion"));t.sendLogUsingDOM(o)}}catch(e){t.reportError("Error when triggering attribution reporting conversion",null==e?void 0:e.message,v)}},t.setAuctionId=function(e){window.teads_auction_id=e},t.getAuctionId=function(){return window.teads_auction_id},t.setAuctionIdForwardedBy=function(e){const t=window.teads_auction_id_forwarded_by||{};t[e]=!0,window.teads_auction_id_forwarded_by=t},t.getAuctionIdForwardedBy=function(){const e=window.teads_auction_id_forwarded_by;return e?Object.keys(e).join(","):void 0},t.setSessionId=function(e){window.teads_session_id=e},t.getSessionId=function(){return window.teads_session_id},t.setViewerId=function(e){window.teads_viewer_id=e},t.getViewerId=function(){return window.teads_viewer_id},t.retrieveAuctionId=function(e){let n=t.getAuctionId();if(!n){let o=e;e||(o=t.getTopUrl(window)),n=t.extractAuctionIdFromUrl(o),n&&(t.setAuctionId(n),t.setAuctionIdForwardedBy("url"))}return n},t.setIabConsentData=function(e){window.teads_iab_consent_data=e},t.getIabConsentData=function(){return window.teads_iab_consent_data},t.setUspConsentData=function(e){window.teads_usp_consent_data=e},t.getUspConsentData=function(){return window.teads_usp_consent_data},t.setGdprAdvertiser=function(e){window.teads_gdpr_advertiser=e},t.getGdprAdvertiser=function(){return window.teads_gdpr_advertiser},t.setCcpaAdvertiser=function(e){window.teads_ccpa_advertiser=e},t.getCcpaAdvertiser=function(){return window.teads_ccpa_advertiser},t.getOptOut=function(){const e=t.getCookieValue("optout");if(e)return"1"===e},t.setTrackingAllowed=function(e){window.teads_tracking_allowed=e},t.getTrackingAllowed=function(){return!0===window.teads_tracking_allowed},t.setFirstPartyCookieAllowed=function(e){window.first_party_cookie_allowed=e},t.getFirstPartyCookieAllowed=m,t.setAdvertiserDomain=function(e){window.advertiser_domain=e},t.getAdvertiserDomain=function(){return window.advertiser_domain},t.initAdvertiser=async function(){try{const{sessionId:e,auctionId:n,viewerId:o,gdpr:i,ccpa:r,firstPartyCookieAllowed:s,domain:c,trackingAllowed:u}=await t.getAdvertiserInformation();if(t.setFirstPartyCookieAllowed(s),u&&t.setTrackingAllowed(u),i&&t.setGdprAdvertiser(i),r&&t.setCcpaAdvertiser(r),c&&t.setAdvertiserDomain(c),n&&(t.setAuctionId(n),t.setAuctionIdForwardedBy("url")),m()){const i=t.getCookieValue(a);if(i){const e=t.getAuctionId();e&&e!==i||t.setAuctionIdForwardedBy("cookie"),e||t.setAuctionId(i)}t.updateAuctionIdFirstPartyCookie();const r=t.getCookieValue(d);i&&n&&i!==n?t.setSessionId(e):r?t.setSessionId(r):e&&t.setSessionId(e),t.updateSessionIdFirstPartyCookie();const s=t.getCookieValue(l);o?(s?t.setViewerId(s):t.setViewerId(o),t.updateViewerIdFirstPartyCookie()):t.deleteFirstPartyCookie(l)}else e&&t.setSessionId(e),t.deleteFirstPartyCookie(a),t.deleteFirstPartyCookie(d),t.deleteFirstPartyCookie(l);t.isPostMessageEventToWindowEnabled()&&t.sendPostMessageToWindow("TEADS_CONSENT_INFO_LOADED",{trackingAllowed:t.getTrackingAllowed(),firstPartyCookieAllowed:t.getFirstPartyCookieAllowed(),gdprAdvertiser:t.getGdprAdvertiser(),ccpaAdvertiser:t.getCcpaAdvertiser(),advertiserDomain:t.getAdvertiserDomain(),auctionId:t.getAuctionId(),iabData:t.getIabConsentData(),uspData:t.getUspConsentData()})}catch(e){t.reportError("Error while initializing advertiser",null==e?void 0:e.message,v)}},t.initialize=async function(){const e=t.getAdvertiserId(),n=t.getBuyerPixelId();"number"!=typeof e&&"number"!=typeof n||(await t.initAdvertiser(),await t.initTrackingLogs())},t.handle=async function(){t.setPrivacySandboxRelevanceAndMeasurementTrialToken();try{t.bindAdvertiserId(),t.bindBuyerPixelId()}catch(e){t.reportError("Error while binding advertiser and pixel ids",null==e?void 0:e.message)}await t.initialize()},t.injectBrowsingTopicsIframe=function(){if(t.isBrowsingTopicsEnabled()){const e=document.createElement("iframe");e.referrerPolicy="no-referrer-when-downgrade",e.width="0",e.height="0",e.src="https://p.teads.tv/topics.html",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]||document.getElementsByTagName("script")[0].parentNode).insertBefore(e,null)}},t.getAdvertiserId=function(){if(void 0!==window.teads&&void 0!==window.teads.advertiserId){if("number"==typeof window.teads.advertiserId)return window.teads.advertiserId;t.reportError("The format of AdvertiserId is not valid.")}else{if(void 0===window.teads_cv||void 0===window.teads_cv.advertiserId)return window.teads_adv_id;if("number"==typeof window.teads_cv.advertiserId)return window.teads_cv.advertiserId;t.reportError("The format of AdvertiserId is not valid.")}},t.getBuyerPixelId=function(){return window.teads_buyer_pixel_id},t.bindAdvertiserId=function(){window.teads_adv_id||Object.defineProperty(window,"teads_adv_id",{set(e){this._teads_adv_id=e,t.initialize()},get(){return this._teads_adv_id},configurable:!0})},t.bindBuyerPixelId=function(){window.teads_buyer_pixel_id||Object.defineProperty(window,"teads_buyer_pixel_id",{set(e){this._teads_buyer_pixel_id=e,t.initialize()},get(){return this._teads_buyer_pixel_id},configurable:!0})},t.getEnv=function(){return window.teads_env&&[p,g].includes(window.teads_env)?window.teads_env:p},t.sendEventBasedConversion=async function(e){if(!t.getTrackingAllowed())return;const n=t.buildEventParameters(e),o=await t.getTargetUrl("conversion",n,i);t.sendLogUsingDOM(o),t.appendTrackingEventSent(o),await t.triggerAttributionReportingConversion("conversion",n)},t.initTrackingLogs=async function(){if(!t.getTrackingAllowed())return;t.injectBrowsingTopicsIframe();const e=await t.getTargetUrl("pageView",{},i);t.sendLogUsingDOM(e),t.appendTrackingEventSent(e),await t.triggerAttributionReportingConversion("pageView",{});let n=!1;const o=await t.getTargetUrl("timeSpent",{},i);document.addEventListener("visibilitychange",(()=>{"hidden"!==document.visibilityState||n||(n=!0,t.sendLogUsingBeacon(o),t.updateSessionIdFirstPartyCookie(),t.appendTrackingEventSent(o))}));const r=window.teads_e||[];window.teads_e=[],window.teads_e.push=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return Array.prototype.push.apply(this,n),t.processQueuedEvents(),window.teads_e.length},window.teads_e.push(...r)},t.setPrivacySandboxRelevanceAndMeasurementTrialToken=function(){const e=document.createElement("meta");e.httpEquiv="origin-trial",e.content="Az9xQo/imzWWuauBg0JngENQMoxulJzGzdGQ0VfUZDk7et2DJfmfUxfOWnHlwQiZRFG+Grc8bH8xWgOPW2ltjQQAAAB+eyJvcmlnaW4iOiJodHRwczovL3RlYWRzLnR2OjQ0MyIsImZlYXR1cmUiOiJQcml2YWN5U2FuZGJveEFkc0FQSXMiLCJleHBpcnkiOjE2ODA2NTI3OTksImlzU3ViZG9tYWluIjp0cnVlLCJpc1RoaXJkUGFydHkiOnRydWV9",document.head.appendChild(e)},t.resolveConsentFramework=function(e,t){return new Promise((n=>{e((e=>{t({data:e}),n()}),(e=>{t({error:e}),n()}))||n()}))},t.checkConsentAndHandle=function(){return Promise.all([t.resolveConsentFramework(t.lookupIabConsent,t.setIabConsentData),t.resolveConsentFramework(t.lookupUspConsent,t.setUspConsentData)]).then((()=>t.handle()))},t.tag=async function(e){try{"undefined"!=typeof window&&(t.initPostMessageCommunication(),await new Promise(((n,o)=>{setTimeout((()=>{t.checkConsentAndHandle().then(n).catch(o)}),e>0?e:0)})))}catch(e){t.reportError("Unhandled exception",null==e?void 0:e.message,v)}},t.reportError=function(e,o,i){try{const r={errorMessage:e,topUrl:t.getTopUrl(window),userAgent:t.getUserAgent(),exception:o||"",version:n,type:i||"bad_integration"};e=JSON.stringify(r)}catch(e){}document.createElement("img").src="".concat("https://l.teads.tv/performance/http-source","?").concat(encodeURIComponent(e))},e.exports=t}},t={};function n(o){var i=t[o];if(void 0!==i)return i.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{const{tag:e}=n(815);e(0)})()})();