((self||this)["webpackJsonp@sprinklr/chat-web-client"]=(self||this)["webpackJsonp@sprinklr/chat-web-client"]||[]).push([[70],{1017:function(e,t,n){"use strict";var o=n(384),a=n(677),r=n.n(a),i=n(13),c=n.n(i),s=n(82),l=n.n(s),d=n(122),u=n.n(d),p=n(512),b=n.n(p),f=n(1431),h=n.n(f),g=n(829),y=n.n(g),O=n(215),m=n.n(O),v=n(60),j=n.n(v),I=n(411),E=n(1280),C=n(435);t.a=(e,t)=>{const n=Object(o.useRef)(!1);n.current=c()(e);const{getValue:a,defaultValue:i=!0,logOnFailure:s=!1,logOnSuccess:d=!1,subscribe:p}=t,[f,g]=Object(o.useState)(0),O=Object(o.useRef)([void 0]),v=Object(o.useRef)(null);Object(o.useEffect)((()=>()=>{v.current&&u()(v.current,(e=>e&&e.clear()))}),[]),v.current=Object(o.useMemo)((()=>l()(e)?null:(v.current&&u()(v.current,(e=>e&&e.clear())),O.current=n.current?h()(y()(e),m()(void 0)):[],u()(b()(e),((e,t)=>{if(j()(e))return null;const n=e=>{O.current[t]=I.a.getField(e),g((e=>e+1))};return E.a.createFilterAction(e,{subscribe:(e,t)=>p(e,r()(n,e),t),getFilterBuilder:E.a.createFilterAction})})))),[e,a,p,g]);const T=Object(o.useMemo)((()=>v.current?u()(v.current,((e,t)=>e?(Object(C.a)(`--- Filter ${t} match start ---`,Date.now()),e.matches(a(),{logOnFailure:s,logOnSuccess:d})):!!i)):[!!i]),[e,a,i,f]);return Object(o.useMemo)((()=>n.current?u()(T,((e,t)=>({hasPassed:e,changeSource:O.current[t]}))):{hasPassed:!!T[0],changeSource:O.current[0]}),[T,O.current])}},1018:function(e,t,n){"use strict";var o=n(60),a=n.n(o);const r=e=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&");t.a=(e,t)=>{if(a()(t))return!1;try{return new RegExp(`^${e.split(/\*+/).map(r).join(".*")}$`).test(t)}catch(n){return console.warn("Wrong wild card string in filter"),!1}}},1019:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var o=n(384),a=n.n(o),r=n(475),i=n.n(r),c=n(458),s=n.n(c),l=n(829),d=n.n(l),u=n(570),p=n(385);const b=a.a.createContext({}),f=Object(o.memo)((e=>{const{getValue:t,subscribe:n}=Object(u.a)(),a=t(),[r,c]=Object(o.useState)((()=>({pagesMetaData:{[a]:[{startTime:Date.now(),endTime:void 0}]},currentPageUrl:a})));return Object(o.useEffect)((()=>{const e=n("page-context-subscriber",(e=>{let{currentUrl:t,previousUrl:n}=e;c((e=>(e=>{let{prevPageContextValue:t,previousUrl:n,currentUrl:o}=e;const a=Date.now(),r=t.pagesMetaData,c=s()(i()(r[n]),{endTime:{$set:a}});return s()(t,{pagesMetaData:{[n]:{$splice:[[d()(r[n])-1,1,c]]},[o]:{$set:[...r[o]||[],{startTime:a,endTime:void 0}]}},currentPageUrl:{$set:o}})})({prevPageContextValue:e,previousUrl:n,currentUrl:t})))}));return()=>{e()}}),[]),Object(p.jsx)(b.Provider,{value:r},e.children)}));t.b=b},1020:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(384);t.useFirstMountState=function(){var e=o.useRef(!0);return e.current?(e.current=!1,!0):e.current}},1021:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var o=n(486),a=n.n(o),r=n(15);const i="spr-live-prompt-app",c=()=>{const e=Object(r.b)().document,t=e.querySelector(`#${i}`);if(t)return t;const n=e.createElement("div");return n.id=i,n.style.width="0",n.style.height="0",e.body.appendChild(n),n},s=()=>{const e=Object(r.b)().document.querySelector(`#${i}`);e&&a.a.unmountComponentAtNode(e)}},1022:function(e,t,n){"use strict";var o=n(384),a=n.n(o),r=n(413),i=n.n(r);const c=a.a.createContext([null,i.a]);t.a=c},1023:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(391);var o=n(384),a=n.n(o),r=n(413),i=n.n(r),c=n(385);const s=a.a.createContext({notification:void 0,setNotification:i.a}),l=e=>{const[t,n]=Object(o.useState)(void 0),a=Object(o.useMemo)((()=>({notification:t,setNotification:n})),[t,n]);return Object(c.jsx)(s.Provider,{value:a},e.children)};t.b=s},1024:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}return t.default=e,t}(n(447)),a=c(n(384)),r=c(n(486)),i=n(1025);n(1026);function c(e){return e&&e.__esModule?e:{default:e}}var s="unmounted";t.UNMOUNTED=s;var l="exited";t.EXITED=l;var d="entering";t.ENTERING=d;var u="entered";t.ENTERED=u;var p="exiting";t.EXITING=p;var b=function(e){var t,n;function o(t,n){var o;o=e.call(this,t,n)||this;var a,r=n.transitionGroup,i=r&&!r.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?i?(a=l,o.appearStatus=d):a=u:a=t.unmountOnExit||t.mountOnEnter?s:l,o.state={status:a},o.nextCallback=null,o}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=o.prototype;return i.getChildContext=function(){return{transitionGroup:null}},o.getDerivedStateFromProps=function(e,t){return e.in&&t.status===s?{status:l}:null},i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==d&&n!==u&&(t=d):n!==d&&n!==u||(t=p)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,o=this.props.timeout;return e=t=n=o,null!=o&&"number"!==typeof o&&(e=o.exit,t=o.enter,n=void 0!==o.appear?o.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=r.default.findDOMNode(this);t===d?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:s})},i.performEnter=function(e,t){var n=this,o=this.props.enter,a=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,r=this.getTimeouts(),i=a?r.appear:r.enter;t||o?(this.props.onEnter(e,a),this.safeSetState({status:d},(function(){n.props.onEntering(e,a),n.onTransitionEnd(e,i,(function(){n.safeSetState({status:u},(function(){n.props.onEntered(e,a)}))}))}))):this.safeSetState({status:u},(function(){n.props.onEntered(e)}))},i.performExit=function(e){var t=this,n=this.props.exit,o=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,o.exit,(function(){t.safeSetState({status:l},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:l},(function(){t.props.onExited(e)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(o){n&&(n=!1,t.nextCallback=null,e(o))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var o=null==t&&!this.props.addEndListener;e&&!o?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===s)return null;var t=this.props,n=t.children,o=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(t,["children"]);if(delete o.in,delete o.mountOnEnter,delete o.unmountOnExit,delete o.appear,delete o.enter,delete o.exit,delete o.timeout,delete o.addEndListener,delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,"function"===typeof n)return n(e,o);var r=a.default.Children.only(n);return a.default.cloneElement(r,o)},o}(a.default.Component);function f(){}b.contextTypes={transitionGroup:o.object},b.childContextTypes={transitionGroup:function(){}},b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},b.UNMOUNTED=0,b.EXITED=1,b.ENTERING=2,b.ENTERED=3,b.EXITING=4;var h=(0,i.polyfill)(b);t.default=h},1025:function(e,t,n){"use strict";function o(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function a(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function r(e,t){try{var n=this.props,o=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function i(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,i=null,c=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?i="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(i="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?c="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(c="UNSAFE_componentWillUpdate"),null!==n||null!==i||null!==c){var s=e.displayName||e.name,l="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+l+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==i?"\n  "+i:"")+(null!==c?"\n  "+c:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=o,t.componentWillReceiveProps=a),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=r;var d=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;d.call(this,e,t,o)}}return e}n.r(t),n.d(t,"polyfill",(function(){return i})),o.__suppressDeprecationWarning=!0,a.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0},1026:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var o;(o=n(447))&&o.__esModule;t.timeoutsShape=null;t.classNamesShape=null},1027:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var o=c(n(447)),a=c(n(384)),r=n(1025),i=n(1442);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(this,arguments)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},u=function(e){var t,n;function o(t,n){var o,a=(o=e.call(this,t,n)||this).handleExited.bind(l(l(o)));return o.state={handleExited:a,firstRender:!0},o}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var r=o.prototype;return r.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},r.componentDidMount=function(){this.appeared=!0,this.mounted=!0},r.componentWillUnmount=function(){this.mounted=!1},o.getDerivedStateFromProps=function(e,t){var n=t.children,o=t.handleExited;return{children:t.firstRender?(0,i.getInitialChildMapping)(e,o):(0,i.getNextChildMapping)(e,n,o),firstRender:!1}},r.handleExited=function(e,t){var n=(0,i.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=s({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["component","childFactory"]),r=d(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?r:a.default.createElement(t,o,r)},o}(a.default.Component);u.childContextTypes={transitionGroup:o.default.object.isRequired},u.propTypes={},u.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,r.polyfill)(u);t.default=p,e.exports=t.default},1028:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(12);function a(){return Object(o.w)()}},1029:function(e,t,n){var o={"./classic/pages":[1794,11,81],"./modern/pages":[1795,0,11,82]};function a(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(o)},a.id=1029,e.exports=a},1030:function(e,t,n){"use strict";var o=n(1031),a=n.n(o),r={},i=0,c=function(e,t){var n=""+t.end+t.strict+t.sensitive,o=r[n]||(r[n]={});if(o[e])return o[e];var c=[],s={re:a()(e,c,t),keys:c};return i<1e4&&(o[e]=s,i++),s};t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof t&&(t={path:t});var o=t,a=o.path,r=o.exact,i=void 0!==r&&r,s=o.strict,l=void 0!==s&&s,d=o.sensitive,u=void 0!==d&&d;if(null==a)return n;var p=c(a,{end:i,strict:l,sensitive:u}),b=p.re,f=p.keys,h=b.exec(e);if(!h)return null;var g=h[0],y=h.slice(1),O=e===g;return i&&!O?null:{path:a,url:"/"===a&&""===g?"/":g,isExact:O,params:f.reduce((function(e,t,n){return e[t.name]=y[n],e}),{})}}},1031:function(e,t,n){var o=n(1444);e.exports=b,e.exports.parse=r,e.exports.compile=function(e,t){return c(r(e,t),t)},e.exports.tokensToFunction=c,e.exports.tokensToRegExp=p;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function r(e,t){for(var n,o=[],r=0,i=0,c="",d=t&&t.delimiter||"/";null!=(n=a.exec(e));){var u=n[0],p=n[1],b=n.index;if(c+=e.slice(i,b),i=b+u.length,p)c+=p[1];else{var f=e[i],h=n[2],g=n[3],y=n[4],O=n[5],m=n[6],v=n[7];c&&(o.push(c),c="");var j=null!=h&&null!=f&&f!==h,I="+"===m||"*"===m,E="?"===m||"*"===m,C=n[2]||d,T=y||O;o.push({name:g||r++,prefix:h||"",delimiter:C,optional:E,repeat:I,partial:j,asterisk:!!v,pattern:T?l(T):v?".*":"[^"+s(C)+"]+?"})}}return i<e.length&&(c+=e.substr(i)),c&&o.push(c),o}function i(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function c(e,t){for(var n=new Array(e.length),a=0;a<e.length;a++)"object"===typeof e[a]&&(n[a]=new RegExp("^(?:"+e[a].pattern+")$",u(t)));return function(t,a){for(var r="",c=t||{},s=(a||{}).pretty?i:encodeURIComponent,l=0;l<e.length;l++){var d=e[l];if("string"!==typeof d){var u,p=c[d.name];if(null==p){if(d.optional){d.partial&&(r+=d.prefix);continue}throw new TypeError('Expected "'+d.name+'" to be defined')}if(o(p)){if(!d.repeat)throw new TypeError('Expected "'+d.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(d.optional)continue;throw new TypeError('Expected "'+d.name+'" to not be empty')}for(var b=0;b<p.length;b++){if(u=s(p[b]),!n[l].test(u))throw new TypeError('Expected all "'+d.name+'" to match "'+d.pattern+'", but received `'+JSON.stringify(u)+"`");r+=(0===b?d.prefix:d.delimiter)+u}}else{if(u=d.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(p),!n[l].test(u))throw new TypeError('Expected "'+d.name+'" to match "'+d.pattern+'", but received "'+u+'"');r+=d.prefix+u}}else r+=d}return r}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function d(e,t){return e.keys=t,e}function u(e){return e&&e.sensitive?"":"i"}function p(e,t,n){o(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,r=!1!==n.end,i="",c=0;c<e.length;c++){var l=e[c];if("string"===typeof l)i+=s(l);else{var p=s(l.prefix),b="(?:"+l.pattern+")";t.push(l),l.repeat&&(b+="(?:"+p+b+")*"),i+=b=l.optional?l.partial?p+"("+b+")?":"(?:"+p+"("+b+"))?":p+"("+b+")"}}var f=s(n.delimiter||"/"),h=i.slice(-f.length)===f;return a||(i=(h?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=r?"$":a&&h?"":"(?="+f+"|$)",d(new RegExp("^"+i,u(n)),t)}function b(e,t,n){return o(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var o=0;o<n.length;o++)t.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(e,t)}(e,t):o(e)?function(e,t,n){for(var o=[],a=0;a<e.length;a++)o.push(b(e[a],t,n).source);return d(new RegExp("(?:"+o.join("|")+")",u(n)),t)}(e,t,n):function(e,t,n){return p(r(e,n),t,n)}(e,t,n)}},1032:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var o=n(536),a=n(981),r=n(982);n(984);function i(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",o="",a=t.indexOf("#");-1!==a&&(o=t.substr(a),t=t.substr(0,a));var r=t.indexOf("?");return-1!==r&&(n=t.substr(r),t=t.substr(0,r)),{pathname:t,search:"?"===n?"":n,hash:"#"===o?"":o}}(e),i.state=t):(void 0===(i=Object(o.a)({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(c){throw c instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):c}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=Object(a.default)(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function c(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&Object(r.default)(e.state,t.state)}"undefined"===typeof window||!window.document||window.document.createElement},1033:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var o=n(384),a=n.n(o),r=n(413),i=n.n(r),c=n(832),s=n(385);const l={debug:i.a,info:i.a,error:i.a,warning:i.a,cleanup:i.a},d=a.a.createContext(l),u=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:o,children:a}=e;const r=Object(c.a)({videoConversationId:t,conversationId:n,isAudioCall:o});return Object(s.jsx)(d.Provider,{value:r},a)}},1034:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n(384),a=n.n(o),r=n(413),i=n.n(r),c=n(502),s=n.n(c),l=n(123),d=n.n(l),u=n(455),p=n(385);const b=a.a.createContext({addPublisher:i.a,removePublisher:i.a});let f=!1;const h=e=>{let{onClick:t,children:n}=e;const a=Object(o.useRef)([]),r=Object(o.useCallback)((()=>{f=!0,t(),a.current&&(d()(a.current,(e=>{e.removeEventListener("click",r,{capture:!0})})),a.current=[])}),[t]),i=Object(o.useMemo)((()=>({addPublisher:e=>{f||(a.current.push(e),e.addEventListener("click",r,{capture:!0}))},removePublisher:e=>{f||(e.removeEventListener("click",r,{capture:!0}),a.current=s()(a.current,(t=>t!==e)))}})),[r]);return Object(o.useEffect)((()=>{const e=Object(u.a)();if(Object(u.b)(e))return i.addPublisher(e.document),()=>{i.removePublisher(e.document)}}),[]),Object(p.jsx)(b.Provider,{value:i},n)};t.b=a.a.memo(h)},1035:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(540).__importDefault(n(1446)).default("audio");t.default=o},1036:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var o=n(384),a=n.n(o),r=n(413),i=n.n(r),c=n(1037),s=n(385);const l={debug:i.a,info:i.a,error:i.a,warning:i.a},d=a.a.createContext(l),u=e=>{let{videoConversationId:t,conversationId:n,children:o}=e;const a=Object(c.a)({videoConversationId:t,conversationId:n});return Object(s.jsx)(d.Provider,{value:a},o)}},1037:function(e,t,n){"use strict";var o=n(384),a=n(389),r=n(425),i=n(490),c=n(404),s=n(439),l=n(430),d=n(833);const u=(new r.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build();t.a=e=>{let{videoConversationId:t,conversationId:n}=e;const[r]=Object(i.a)(u,{ignoreResults:!0}),l=Object(a.d)(c.h),p=Object(s.d)(l),b=Object(o.useCallback)((e=>{const{eventType:n,activityAdditionalDetails:o}=e;return{videoConversationId:t,loggerSnUserId:p,eventType:n,loggerSnType:"SPRINKLR_LIVE_CHAT",offsetTime:0,activityAdditionalDetails:o}}),[n,t,p]);return Object(o.useMemo)((()=>new d.a(r,{adapter:b,skip:!t})),[r,b,t])}},1040:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(208),a=n.n(o),r=n(445);const i=a()((async e=>{const t=(await r.a.get(e)).data;return(new DOMParser).parseFromString(t,"image/svg+xml")}))},1041:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(384);const a=n.n(o).a.createContext(void 0)},1042:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(384);const a=Object(o.createContext)({setIsFrameMaximized:()=>null,isFrameMaximized:!1})},1044:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(384),a=n.n(o),r=n(385);const i=a.a.createContext("ltr");t.b=e=>Object(r.jsx)(i.Provider,{value:e.direction},e.children)},1046:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var o=n(632),a=n(843),r=n(751),i=n(556),c=n(415);const s={[c.b.CONTACT_DETAILS_FORM]:{NAME:e=>{let{user:t}=e;return Object(i.a)(t)},FIRST_NAME:e=>{let{user:t}=e;return t.firstName},LAST_NAME:e=>{let{user:t}=e;return t.lastName},EMAIL:e=>{let{user:t}=e;return t.email},PHONE_NO:e=>{let{user:t}=e;return t.phoneNo}}},l={[c.b.CONTACT_DETAILS_FORM]:(e,t)=>{const n=a.a.getFields(r.a.getForm(e)),o=s[c.b.CONTACT_DETAILS_FORM];return n.reduce(((e,n)=>{const{id:a}=n,r=o[a];return r&&(e[a]=r(t)),e}),{})}},d=(e,t)=>{const n=l[o.a.getType(e)];return n?n(e,t):{}}},1047:function(e,t,n){"use strict";t.a={CALL_INITIATED:"VIDEO_CALL_INITIATED",CALL_STARTING:"VIDEO_CALL_STARTING",CALL_OFFER_ACCEPTED:"VIDEO_CALL_OFFER_ACCEPTED",CALL_CONNECTED:"VIDEO_CALL_CONNECTED",CALL_DECLINED:"VIDEO_CALL_DECLINED",CALL_ENDED:"VIDEO_CALL_ENDED",CALL_MISSED:"VIDEO_CALL_MISSED"}},1048:function(e,t,n){var o=n(85);e.exports=function(){var e=arguments,t=o(e[0]);return e.length<3?t:t.replace(e[1],e[2])}},1049:function(e,t,n){"use strict";t.a={PDF:"PDF",EXCEL:"EXCEL",DOCUMENT:"DOCUMENT",WORD_DOCUMENT:"DOC",PRESENTATION:"PRESENTATION",ONENOTE:"ONENOTE"}},1050:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o="@chatPrompt/PROMPT_ACTION_TRIGGER"},1051:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(445);const a=async()=>o.a.get("/livechat/conversation/refresh-token")},1280:function(e,t,n){"use strict";var o=n(60),a=n.n(o),r=n(427),i=n.n(r),c=n(741),s=n.n(c);const l=(e,t)=>s()(e)&&s()(t)?e-t:i()(e)&&i()(t)?e.localeCompare(t):i()(e)&&s()(t)?parseInt(e,10)-t:s()(e)&&i()(t)?e-parseInt(t,10):-1,d=(e,t)=>{if(a()(t))return!1;return l(t,e)<=-1},u=(e,t)=>{if(a()(t))return!1;return l(t,e)>=1},p=(e,t)=>{if(a()(t))return!1;return 0===l(t,e)};var b=n(431),f=n.n(b),h=n(82),g=n.n(h),y=n(522),O=n(435),m=n(411),v=n(576);var j=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:o}=t,a=m.a.getField(this._filter),r=f()(m.a.getValues(this._filter)),i=Object(y.b)({currentValueMap:e,filter:this._filter});let c;switch(m.a.getFilterType(this._filter)){case v.a.LT:c=d(r,i);break;case v.a.LTE:c=d(r,i)||p(r,i);break;case v.a.GT:c=u(r,i);break;case v.a.GTE:c=u(r,i)||p(r,i);break;case v.a.EQUALS:c=p(r,i);break;case v.a.NOT_EQUALS:c=!p(r,i);break;case v.a.EXISTS:c=!g()(i);break;case v.a.MISSING:c=g()(i);break;default:c=!1}return c&&n&&Object(O.a)(`Range Filter succeed for ${a} with value ${i}`),!c&&o&&Object(O.a)(`Range Filter failed for ${a} with value ${i}`),c},this.clear=()=>{},this._filter=e}};var I=(e,t)=>{if(a()(t))return!1;try{return!!new RegExp(e).test(t)}catch(n){return Object(O.a)("Wrong regex in filter"),!1}},E=n(1018),C=n(196),T=n.n(C),S=n(676),_=n.n(S);var x=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:o}=t,a=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=T()(m.a.getDetails(this._filter),"valueAdditional.isJsRegex"),s=_()(r,(e=>c?I(e,i):Object(E.a)(e,i)));return s&&n&&Object(O.a)(`Regex Filter succeed for ${a} with value ${i}`),!s&&o&&Object(O.a)(`Regex Filter failed for ${a} with value ${i}`),s},this.clear=()=>{},this._filter=e}};var A=(e,t)=>!a()(t)&&!!e.includes(t);var R=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:o}=t,a=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=A(r,i);return c&&n&&Object(O.a)(`In Filter succeed for ${a} with value ${i}`),!c&&o&&Object(O.a)(`In Filter failed for ${a} with value ${i}`),c},this.clear=()=>{},this._filter=e}};var N=(e,t)=>!a()(t)&&!e.includes(t);var w=class{constructor(e){this.matches=(e,t)=>{const{logOnSuccess:n,logOnFailure:o}=t,a=m.a.getField(this._filter),r=m.a.getValues(this._filter),i=Object(y.b)({currentValueMap:e,filter:this._filter}),c=N(r,i);return c&&n&&Object(O.a)(`NotIn Filter succeed for ${a} with value ${i}`),!c&&o&&Object(O.a)(`NotIn Filter failed for ${a} with value ${i}`),c},this.clear=()=>{},this._filter=e}};class L{}L.createFilterAction=e=>{switch(m.a.getFilterType(e)){case v.a.LTE:case v.a.LT:case v.a.GT:case v.a.GTE:case v.a.NOT_EQUALS:case v.a.EXISTS:case v.a.MISSING:return new j(e);case v.a.REGEX:return new x(e);case v.a.CONTAINS:case v.a.IN:return new R(e);case v.a.NIN:return new w(e);default:return new j(e)}};var D=L;var M=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(this._filter)}},P=n(460),k=n.n(P),U=n(479);var F=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter);let o=e;return n&&!k()(n.noOfAgentsAvailable)&&(o={[U.a.AVAILABLE_AGENTS]:n.noOfAgentsAvailable}),this._filterAction.matches(o,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var B=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter);let o=e;return n&&!k()(n.numberOfPendingCases)&&(o={[U.a.AGENT_OUT_OF_CAPACITY]:n.numberOfPendingCases}),this._filterAction.matches(o,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var G=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=m.a.getDetails(this._filter),o=Object(y.b)({currentValueMap:e,filter:this._filter});let a={[U.a.BUSINESS_HOURS]:o};return!n||g()(n)||k()(n.timeToBusinessHours)||(a={[U.a.BUSINESS_HOURS]:n.timeToBusinessHours}),this._filterAction.matches(a,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const o=(e=>m.a.getFilterType(e)===v.a.IN?f()(m.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:v.a.LTE,values:[0]}):Object.assign(Object.assign({},e),{filterType:v.a.GT,values:[0]}):e)(e);this._filter=o,this._unSubscribeFn=n?n(o):null,this._filterAction=D.createFilterAction(o)}};var V=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>this._filterAction.matches(e,t),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null};const o=(e=>m.a.getFilterType(e)===v.a.IN?f()(m.a.getValues(e))?Object.assign(Object.assign({},e),{filterType:v.a.GTE,values:[1]}):Object.assign(Object.assign({},e),{filterType:v.a.LTE,values:[0]}):e)(e);this._filter=o,this._unSubscribeFn=n?n(o):null,this._filterAction=D.createFilterAction(o)}};var z=class{constructor(e,t){let{subscribe:n,parentFilter:o}=t;this.matches=(e,t)=>{let n=e;switch(this._parentFilter&&m.a.getField(this._parentFilter)){case U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:{const t=f()(m.a.getValues(this._parentFilter)),o=e[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],a=Date.now()-(o[t].actionTime||0);n=Object.assign(Object.assign({},n),{[U.a.DEPENDENT_DURATION_KEY]:a});break}case U.a.INTERCEPT_CLOSED_IN_SESSION_KEY:{const t=f()(m.a.getValues(this._parentFilter)),o=e[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY],a=Date.now()-(o[t].actionTime||0);n=Object.assign(Object.assign({},n),{[U.a.DEPENDENT_DURATION_KEY]:a});break}}return this._filterAction.matches(n,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._parentFilter=o,this._unSubscribeFn=n?n(e,o):null,this._filterAction=D.createFilterAction(e)}};var W=class{constructor(e,t){this.matches=(e,t)=>{const n=f()(m.a.getValues(this._filter)),o=e[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY],a=this._filterAction.matches({[U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY]:o[n]?n:""},t);if(a){const n=m.a.getDetails(this._filter);if(n&&!g()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return a},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e),this._dependentFilterAction=null}};var $=class{constructor(e,t){this.matches=(e,t)=>{const n=f()(m.a.getValues(this._filter)),o=e[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY],a=this._filterAction.matches({[U.a.INTERCEPT_CLOSED_IN_SESSION_KEY]:o[n]?n:""},t);if(a){const n=m.a.getDetails(this._filter);if(n&&!g()(n.dependentFilter))return null===this._dependentFilterAction&&(this._dependentFilterAction=this._filterOptions.getFilterBuilder(n.dependentFilter,Object.assign(Object.assign({},this._filterOptions),{parentFilter:this._filter}))),this._dependentFilterAction.matches(e,t)}return a},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._dependentFilterAction&&this._dependentFilterAction.clear(),this._unSubscribeFn=null};const{subscribe:n}=t;this._filter=e,this._filterOptions=t,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e),this._dependentFilterAction=null}},H=n(410);const K="PIXEL";var q=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>{const n=T()(m.a.getDetails(this._filter),"valueAdditional.valueType"),o=m.a.getField(this._filter),{scrollDepth:a,scrollPercent:r}=e[o]||H.a,i={[o]:n===K?a:r};return this._filterAction.matches(i,t)},this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._filterAction.clear(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null,this._filterAction=D.createFilterAction(e)}};var Y=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(y.b)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unSubscribeFn&&this._unSubscribeFn(),this._unSubscribeFn=null},this._filter=e,this._unSubscribeFn=n?n(e):null}};var X=class{constructor(e,t){let{subscribe:n}=t;this.matches=(e,t)=>0===Object(y.b)({currentValueMap:e,filter:this._filter}),this.clear=()=>{this._unsubscribeFn&&this._unsubscribeFn(),this._unsubscribeFn=null},this._filter=e,this._unsubscribeFn=n?n(e):null}};class Z{}Z.createFilterAction=(e,t)=>{switch(m.a.getField(e)){case U.a.AVAILABLE_AGENTS:return new F(e,t);case U.a.AGENT_OUT_OF_CAPACITY:return new B(e,t);case U.a.BUSINESS_HOURS:return new G(e,t);case U.a.IS_CONVERSATION_OPEN:return new V(e,t);case U.a.DEPENDENT_DURATION_KEY:return new z(e,t);case U.a.INTERCEPT_CLOSED_IN_SESSION_KEY:return new $(e,t);case U.a.INTERCEPT_ENGAGED_IN_SESSION_KEY:return new W(e,t);case U.a.CURRENT_URL:case U.a.TOTAL_TIME_SPENT:case U.a.ACTIVE_TIME_SPENT:case U.a.INACTIVE_TIME_SPENT:case U.a.DEVICE_TYPE:case U.a.USER_IP_DETAILS_COUNTRY:case U.a.USER_IP_DETAILS_CITY:case U.a.USER_IP_DETAILS_REGION:return new M(e,t);case U.a.HORIZONTAL_PAGE_SCROLL_DEPTH:case U.a.VERTICAL_PAGE_SCROLL_DEPTH:return new q(e,t);case U.a.TIME_SPENT_ON_SESSION:return new Y(e,t);case U.a.NUM_SNOOZE_ALLOWED:return new X(e,t);default:return Object(y.d)(m.a.getField(e))?new M(e,t):void 0}};var J=Z,Q=n(122),ee=n.n(Q),te=n(123),ne=n.n(te);var oe=class{constructor(e,t){this.matches=(e,t)=>{let n=!0;return ne()(this._filterActions,(o=>!!o.matches(e,t)||(n=!1,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(m.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};var ae=class{constructor(e,t){this.matches=(e,t)=>{let n=!1;return ne()(this._filterActions,(o=>!o.matches(e,t)||(n=!0,!1))),n},this.clear=()=>{ne()(this._filterActions,(e=>e.clear())),this._filterActions=[]},this._filterActions=ee()(m.a.getFilters(e),(e=>t.getFilterBuilder(e,t)))}};let re=0;class ie{}ie.createFilterAction=(e,t)=>{const n=(e=>(re+=1,Object.assign(Object.assign({},e),{id:re})))(e),o=J.createFilterAction(n,t);if(o)return o;switch(m.a.getFilterType(n)){case v.a.AND:return new oe(e,t);case v.a.OR:return new ae(e,t);default:return D.createFilterAction(n)}};t.a=ie},1292:function(e,t,n){"use strict";var o,a=n(384),r=n.n(a),i=(n(432),n(388)),c=n(417),s=n(386);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l.apply(this,arguments)}function d(e,t){let{title:n,titleId:r,...i}=e;return a.createElement("svg",l({"data-spaceweb":"icon",viewBox:"0 0 14 14","data-icon-name":"SolidCobrowsing",className:"sw--bx sw--by sw--mw sw--mx",ref:t,"aria-labelledby":r},i),n?a.createElement("title",{id:r},n):null,o||(o=a.createElement("path",{d:"M12.752 0H1.248A1.328 1.328 0 00.024 1.416v8.66a1.328 1.328 0 001.224 1.416h11.504a1.328 1.328 0 001.224-1.416v-8.66A1.328 1.328 0 0012.752 0zM5.648 5.19a.362.362 0 01-.11-.263c0-.005-.006-.01-.006-.015v-.525h-1.05a.896.896 0 00-.895.895v.928a.889.889 0 00.262.633.918.918 0 00.632.263.5.5 0 010 1 1.914 1.914 0 01-1.34-.556 1.882 1.882 0 01-.554-1.34v-.928A1.896 1.896 0 014.48 3.387h1.051v-.52c0-.005.006-.01.006-.016a.343.343 0 01.11-.268.361.361 0 01.517.01l.996 1.038c.005.01.015.016.02.027a.369.369 0 01.08.179.2.2 0 010 .079.34.34 0 01-.095.221v.005H7.16L6.165 5.18a.361.361 0 01-.517.01zm5.765 1.02A1.897 1.897 0 019.52 8.106h-.88v.519c0 .005-.005.01-.005.016a.343.343 0 01-.111.268.361.361 0 01-.516-.01l-.996-1.038c-.005-.01-.016-.016-.021-.026a.369.369 0 01-.08-.18.2.2 0 010-.079.34.34 0 01.096-.22V7.35h.005l.996-1.038a.364.364 0 01.627.253c0 .005.005.01.005.016v.525h.879a.896.896 0 00.894-.896v-.928a.891.891 0 00-.263-.634.918.918 0 00-.631-.26.5.5 0 010-1 1.914 1.914 0 011.34.554 1.885 1.885 0 01.554 1.34zM10.3 12.584H3.597a.7.7 0 000 1.4H10.3a.7.7 0 100-1.4z"})))}const u=a.forwardRef(d);n.p;const p=Object(s.a)(u,{target:"e1s9shjt0"})({name:"1utgq19",styles:"width:48px;height:48px;margin-bottom:18px;"});var b=n(1300),f=n(748),h=n(556),g=n(385);var y={name:"19cy8uy",styles:"max-width:218px;"};var O=r.a.memo(Object(i.h)((e=>{const{onStopSession:t,brandUser:n,intl:o}=e,r=Object(c.a)(),i=Object(a.useMemo)((()=>({agentName:Object(h.a)(n,r)})),[n,r]),s=Object(a.useMemo)((()=>o.formatMessage(f.a.settingUpCobrowsing,i)),[i,o]),l=Object(a.useMemo)((()=>y),[]);return Object(g.jsx)(b.a,{onClose:t,Icon:p,description:s,descriptionStyles:l})}))),m=n(593);t.a=e=>{const{sessionState:t}=e;return t!==m.b.INITIATED&&t!==m.b.SETUP&&t!==m.b.RESUMED?null:Object(g.jsx)(O,e)}},1296:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var o=n(384),a=n.n(o),r=n(82),i=n.n(r),c=n(123),s=n.n(c),l=n(501),d=n.n(l),u=n(413),p=n.n(u),b=n(389),f=n(476),h=n(437);var g=()=>e=>{const t={eventId:e.label,eventType:e.action.id,additional:{...e.additional,conversationId:e.conversationId}};Object(f.a)({topic:h.e,payload:{data:t}})},y=n(445),O=n(519),m=n(121);const v=new Set([O.a.AGENT_ASSIGNED.id,O.a.VIDEO_CALL_OUTGOING_STARTING.id,O.a.AUDIO_CALL_OUTGOING_STARTING.id]);var j=()=>async e=>{if(!v.has(e.action.id))try{await y.a.post("/livechat/prompt/browse/event",{page:e.page,userAgent:e.userAgent,device:e.device,timeZone:e.timeZone,eventType:e.action.label,eventId:e.label,conversationId:e.conversationId,sourceType:"LIVE_CHAT"})}catch(t){Object(m.b)(t)}},I=n(520),E=n(400),C=n(398),T=n(477),S=n(404),_=n(487),x=n(403),A=n(12),R=n(803),N=n(385);const w=a.a.createContext(p.a),L=e=>Object(_.c)(Object(S.e)(e)),D=e=>{const t=Object(I.a)(),a=Object(E.a)(),r=Object(o.useRef)([]),[c,l]=Object(o.useState)(!1),u=Object(C.a)(T.c),p=Object(C.a)(T.b),f=Object(b.d)(L),h=Object(A.N)();return Object(o.useEffect)((()=>{if(c&&f.length){const e={...f[0],category:"Sprinklr Widget",device:t.device,page:t.pageUrl,userAgent:t.userAgent,timeZone:t.timeZone};((e,t)=>{Object(R.c)((()=>{s()(e,(e=>{e(t)}))}))})(r.current,e),p()}}),[f,c]),Object(o.useEffect)((()=>{h||(e=>{const t=[],o=x.a.getGoogleTrackerId(e),a=x.a.isSprinklrAnalyticsEnabled(e);return i()(o)||t.push(n.e(60).then(n.bind(null,1882)).then((e=>e.default.createTracker({trackerId:o},{canAccessParent:Object(A.L)()}))).catch((()=>{}))),a&&t.push(j()),t.push(g()),Promise.all(t)})(a).then((e=>{r.current=d()(e),l(!0)}))}),[]),Object(N.jsx)(w.Provider,{value:u},e.children)};t.b=a.a.memo(D)},1300:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));n(384);var o=n(386),a=n(385),r=n(387),i=n(390),c=n(535),s=n(532);const l=Object(o.a)("div",{target:"e1exikj40"})("position:fixed;top:0px;left:0px;width:100%;height:100%;z-index:",(e=>Object(r.f)("frame.zIndex")(e)),";transform:translateZ(",(e=>Object(r.f)("frame.translateZ")(e)),"px);"),d=Object(o.a)(c.a,{target:"e1exikj41"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),u={name:"1egabj8",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}body{background-color:transparent;}"},p=Object(o.a)("div",{target:"e1exikj42"})("width:100%;height:100%;position:relative;",(e=>e.isPhone&&"backdrop-filter: blur(2px);"),""),b=Object(o.a)("div",{target:"e1exikj43"})("position:absolute;padding:",(e=>{const t=+Object(r.f)("confirmationBox.paddingTop")(e),n=+Object(r.f)("confirmationBox.paddingRight")(e),o=+Object(r.f)("confirmationBox.paddingLeft")(e);return`${t}px ${n}px ${+Object(r.f)("confirmationBox.paddingBottom")(e)}px ${o}px`}),";",(e=>e.isPhone?"\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      opacity: 0.95;\n      ":`\n      box-shadow: 0 4px 10px 0 rgba(49, 39, 39, 0.2);\n      border-radius: ${Object(r.a)("frame.borderRadius")(e)};\n      left: 50%;\n      top: 50%;\n      transform: translate(-50%, -50%);\n      max-width: 312px;\n      width: 85%;\n  `)," color:",Object(r.b)("charcoal"),";background-color:",Object(r.f)("confirmationBox.backgroundColor"),";"),f=Object(o.a)("div",{target:"e1exikj44"})("font-size:",Object(r.f)("confirmationBox.header.title.fontSize"),"px;font-family:",Object(r.d)("confirmationBox.header.title.fontFamily"),";font-weight:",Object(r.f)("confirmationBox.header.title.fontWeight"),";padding-bottom:",Object(r.f)("confirmationBox.header.paddingBottom"),"px;"),h=Object(o.a)("div",{target:"e1exikj45"})("font-size:",Object(r.f)("confirmationBox.description.fontSize"),"px;font-weight:normal;color:",Object(r.b)("charcoal"),";text-align:center;"),g=Object(o.a)(s.a,{target:"e1exikj46"})("position:absolute;top:env(safe-area-inset-top);",Object(i.c)("right: env(safe-area-inset-right);","left: env(safe-area-inset-left);"),""),y=e=>Object(a.css)({height:`${Object(r.f)("confirmationBox.header.iconButton.icon.height")({theme:e})}px`,width:`${Object(r.f)("confirmationBox.header.iconButton.icon.width")({theme:e})}px`},""),O=e=>Object(a.css)({height:`${Object(r.f)("confirmationBox.header.iconButton.button.height")({theme:e})}px`,width:`${Object(r.f)("confirmationBox.header.iconButton.button.width")({theme:e})}px`},"");var m=n(451),v=n(392),j=n(399),I=n(395);const E=e=>{let{onClose:t,title:n,description:o,descriptionStyles:r,Icon:i}=e;const c=Object(I.b)(),s=Object(v.a)(),{direction:E}=Object(j.a)();return Object(a.jsx)(l,{className:"spr-chat__cobrowseInfo-box spr-live-chat-frame __cbio_ignored"},Object(a.jsx)(d,{name:"spr-chat__cobrowseInfo-frame"},Object(a.jsx)(a.Global,{styles:u}),Object(a.jsx)(p,{isPhone:s},Object(a.jsx)(b,{isPhone:s},Object(a.jsx)("div",{className:"flex-column-container center-x-y spr full-width full-height"},Object(a.jsx)(g,{direction:E,iconName:"closeIcon",Icon:m.a,onClick:t,iconCss:y(c),css:O(c)}),Object(a.jsx)(i,null),n&&Object(a.jsx)(f,null,n),o&&Object(a.jsx)(h,{css:r},o))))))}},1302:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return y}));var o=n(384),a=n(458),r=n.n(a),i=n(82),c=n.n(i),s=n(727);var l=n(419),d=n(459),u=n(426),p=n(385);const b={byIds:{}},f=[d.o],h=Object(o.createContext)(b),g=(e,t)=>{if(t.type===d.o){const{id:n,details:o}=t.payload;return c()(e.byIds[n])?r()(e,{byIds:{$merge:{[n]:o}}}):r()(e,{byIds:{[n]:{$merge:o}}})}return e},y=e=>{let{children:t}=e;const[n,a]=Object(o.useReducer)(g,b),r=Object(l.a)(),i=u.a.getCards(r),c=Object(o.useCallback)((e=>{const{type:t,payload:n}=e,o=null===i||void 0===i?void 0:i.find((e=>{var t,o;return(null===e||void 0===e||null===(t=e.provider)||void 0===t||null===(o=t.details)||void 0===o?void 0:o.id)===n.id}));o&&a({type:t,payload:{...n,id:o.id}})}),[i]);var d,y;return d=f,y=c,Object(o.useLayoutEffect)((()=>{const e=s.a.on((e=>{d.includes(e.type)&&y(e)}));return()=>{e()}}),[]),Object(p.jsx)(h.Provider,{value:n},t)}},1304:function(e,t,n){"use strict";n.d(t,"g",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"b",(function(){return y})),n.d(t,"f",(function(){return O})),n.d(t,"e",(function(){return m}));var o=n(386),a=n(385),r=n(676),i=n.n(r),c=n(535),s=n(578),l=n(387),d=n(423),u=n(450),p=n(636);const b=e=>Object(s.h)(e)+Object(l.f)("trigger.size")({theme:e})+20,f=Object(o.a)("div",{target:"emlrnqp0"})("top:",(e=>e.isPhone&&"0"),";bottom:",(e=>e.alignWithChatTrigger?Object(s.h)(e.theme):b(e.theme)),"px;width:",(e=>e.isMaximized?`${Object(l.f)("frame.maximizedWidth")(e)}px`:`${Object(l.f)("frame.width")(e)}px`),";transition:max-width 200ms ease,max-height 200ms ease;min-width:200px;position:fixed;",(e=>(e=>{const t=Object(l.f)("trigger.size")({theme:e}),n=Object(l.f)("trigger.align")({theme:e}),o=n===p.f.RIGHT&&Object(l.f)("frame.align")({theme:e})===p.a.TRIGGER_LEFT_BOX_RIGHT?t:0,a=n===p.f.LEFT&&Object(l.f)("frame.align")({theme:e})===p.a.TRIGGER_RIGHT_BOX_LEFT?t:0;return`\n      ${Object(s.i)({leftOffset:a,rightOffset:o})({theme:e})};\n      max-width: calc(100% - ${Object(s.j)(e)}px - 20px - ${a||o}px);\n    `})(e.theme)),";z-index:",(e=>Object(l.f)("frame.zIndex")(e)),";padding:",(e=>Object(l.h)("frame.margin")(e)),";box-sizing:border-box;",(e=>(e=>{const t=Object(u.b)(Object(l.f)("frame.marginTop")({theme:e})),n=Object(u.b)(Object(l.f)("frame.marginBottom")({theme:e})),o=Object(u.b)(Object(l.f)("frame.marginLeft")({theme:e})),a=Object(u.b)(Object(l.f)("frame.marginRight")({theme:e}));return i()([t,n,o,a],(e=>e>0))})(e.theme)&&`background-color: ${Object(d.i)(Object(l.f)("frame.overlay.opacity")(e),Object(l.f)("frame.overlay.backgroundColour")(e))};`),";height:calc(100% - ",(e=>b(e.theme)),"px - ",20,"px);max-height:",(e=>e.isMaximized?`calc(100% - ${b(e.theme)}px - 20px)`:Object(l.f)("frame.height")(e)),";",(e=>e.isPhone&&" height: 100%;\n    width: 100vw;\n    bottom: 0;\n    right: 0;\n    left: 0;\n    max-height: 100vh;\n    max-width: 100vw;\n    min-width: 100vw;\n  "),";transform:",(e=>`translateZ(${Object(l.f)("frame.translateZ")(e)}px)`),";"),h=Object(o.a)("div",{target:"emlrnqp1"})("height:100%;width:100%;position:relative;overflow:hidden;box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);border-radius:",(e=>Object(l.a)("frame.borderRadius")(e)),";",(e=>{const t=Object(u.b)(Object(l.f)("frame.marginTop")(e))>0?Object(l.f)("frame.borderRadius")(e):0,n=Object(u.b)(Object(l.f)("frame.marginBottom")(e))>0?Object(l.f)("frame.borderRadius")(e):0;return e.isPhone&&`\n    border-top-left-radius: ${t};\n    border-top-right-radius: ${t};\n    border-bottom-left-radius: ${n};\n    border-bottom-right-radius: ${n};\n    box-shadow: none;`}),";"),g="spr-chat-box-anim",y=Object(o.a)(c.a,{target:"emlrnqp2"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),O=e=>Object(a.css)(`\n  .spr-chat__box.${g}-enter {\n    opacity: 0;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(20px) ;\n  }\n\n  .spr-chat__box.${g}-enter.${g}-enter-active {\n    opacity: 1;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(0px) ;\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n\n  .spr-chat__box.${g}-enter-done {\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) ;\n  }\n\n  .spr-chat__box.${g}-exit {\n    opacity: 1;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(0);\n  }\n\n  .spr-chat__box.${g}-exit.${g}-exit-active {\n    opacity: 0;\n    transform: translateZ(${Object(l.f)("frame.translateZ")(e)}px) translateY(20px);\n    transition: opacity 0.16s linear, transform 0.08s linear;\n  }\n`,""),m={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"}},1370:function(e,t,n){var o=n(669);e.exports=function(e,t){for(var n=-1,a=e.length;++n<a&&o(t,e[n],0)>-1;);return n}},1431:function(e,t,n){var o=n(226),a=n(220),r=n(197),i=4294967295,c=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>9007199254740991)return[];var n=i,s=c(e,i);t=a(t),e-=i;for(var l=o(s,t);++n<e;)t(n);return l}},1432:function(e,t,n){var o=n(239)("length");e.exports=o},1433:function(e,t){var n="[\\ud800-\\udfff]",o="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",r="[^\\ud800-\\udfff]",i="(?:\\ud83c[\\udde6-\\uddff]){2}",c="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+o+"|"+a+")"+"?",l="[\\ufe0e\\ufe0f]?",d=l+s+("(?:\\u200d(?:"+[r,i,c].join("|")+")"+l+s+")*"),u="(?:"+[r+o+"?",o,i,c,n].join("|")+")",p=RegExp(a+"(?="+a+")|"+u+d,"g");e.exports=function(e){for(var t=p.lastIndex=0;p.test(e);)++t;return t}},1436:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};o.get||o.set?Object.defineProperty(t,n,o):t[n]=e[n]}t.default=e}(n(447));var o=c(n(1437)),a=c(n(1440)),r=c(n(384)),i=c(n(1024));n(1026);function c(e){return e&&e.__esModule?e:{default:e}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},s.apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,o.default)(e,t)}))},d=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,a.default)(e,t)}))},u=function(e){var t,n;function o(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).onEnter=function(e,n){var o=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,o),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var o=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,o),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var o=t.getClassNames("appear").doneClassName,a=t.getClassNames("enter").doneClassName,r=n?o+" "+a:a;t.removeClasses(e,n?"appear":"enter"),l(e,r),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,o="string"===typeof n,a=o?(o&&n?n+"-":"")+e:n[e];return{className:a,activeClassName:o?a+"-active":n[e+"Active"],doneClassName:o?a+"-done":n[e+"Done"]}},t}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=o.prototype;return a.removeClasses=function(e,t){var n=this.getClassNames(t),o=n.className,a=n.activeClassName,r=n.doneClassName;o&&d(e,o),a&&d(e,a),r&&d(e,r)},a.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},a.render=function(){var e=s({},this.props);return delete e.classNames,r.default.createElement(i.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},o}(r.default.Component);u.defaultProps={classNames:""},u.propTypes={};var p=u;t.default=p,e.exports=t.default},1437:function(e,t,n){"use strict";var o=n(1438);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=o(n(1439));e.exports=t.default},1438:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},1439:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},1440:function(e,t,n){"use strict";function o(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=o(e.className,t):e.setAttribute("class",o(e.className&&e.className.baseVal||"",t))}},1441:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;i(n(447));var o=i(n(384)),a=n(486),r=i(n(1027));function i(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t,n;function i(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(t=e.call.apply(e,[this].concat(o))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=i.prototype;return c.handleLifecycle=function(e,t,n){var r,i=this.props.children,c=o.default.Children.toArray(i)[t];c.props[e]&&(r=c.props)[e].apply(r,n),this.props[e]&&this.props[e]((0,a.findDOMNode)(this))},c.render=function(){var e=this.props,t=e.children,n=e.in,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,["children","in"]),i=o.default.Children.toArray(t),c=i[0],s=i[1];return delete a.onEnter,delete a.onEntering,delete a.onEntered,delete a.onExit,delete a.onExiting,delete a.onExited,o.default.createElement(r.default,a,n?o.default.cloneElement(c,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):o.default.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},i}(o.default.Component);c.propTypes={};var s=c;t.default=s,e.exports=t.default},1442:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=a,t.mergeChildMappings=r,t.getInitialChildMapping=function(e,t){return a(e.children,(function(n){return(0,o.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:i(n,"appear",e),enter:i(n,"enter",e),exit:i(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var c=a(e.children),s=r(t,c);return Object.keys(s).forEach((function(a){var r=s[a];if((0,o.isValidElement)(r)){var l=a in t,d=a in c,u=t[a],p=(0,o.isValidElement)(u)&&!u.props.in;!d||l&&!p?d||!l||p?d&&l&&(0,o.isValidElement)(u)&&(s[a]=(0,o.cloneElement)(r,{onExited:n.bind(null,r),in:u.props.in,exit:i(r,"exit",e),enter:i(r,"enter",e)})):s[a]=(0,o.cloneElement)(r,{in:!1}):s[a]=(0,o.cloneElement)(r,{onExited:n.bind(null,r),in:!0,exit:i(r,"exit",e),enter:i(r,"enter",e)})}})),s};var o=n(384);function a(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,o.isValidElement)(e)?t(e):e}(e)})),n}function r(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var o,a=Object.create(null),r=[];for(var i in e)i in t?r.length&&(a[i]=r,r=[]):r.push(i);var c={};for(var s in t){if(a[s])for(o=0;o<a[s].length;o++){var l=a[s][o];c[a[s][o]]=n(l)}c[s]=n(s)}for(o=0;o<r.length;o++)c[r[o]]=n(r[o]);return c}function i(e,t,n){return null!=n[t]?n[t]:e.props[t]}},1443:function(e,t,n){"use strict";var o=n(746),a=n.n(o),r=n(572),i=n.n(r),c=n(384),s=n.n(c),l=n(447),d=n.n(l),u=n(1030),p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){return 0===s.a.Children.count(e)},g=function(e){function t(){var n,o;b(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=f(this,e.call.apply(e,[this].concat(r))),o.state={match:o.computeMatch(o.props,o.context.router)},f(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:p({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},t.prototype.computeMatch=function(e,t){var n=e.computedMatch,o=e.location,a=e.path,r=e.strict,c=e.exact,s=e.sensitive;if(n)return n;i()(t,"You should not use <Route> or withRouter() outside a <Router>");var l=t.route,d=(o||l.location).pathname;return Object(u.a)(d,{path:a,strict:r,exact:c,sensitive:s},l.match)},t.prototype.componentWillMount=function(){a()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),a()(!(this.props.component&&this.props.children&&!h(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),a()(!(this.props.render&&this.props.children&&!h(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},t.prototype.componentWillReceiveProps=function(e,t){a()(!(e.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),a()(!(!e.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(e,t.router)})},t.prototype.render=function(){var e=this.state.match,t=this.props,n=t.children,o=t.component,a=t.render,r=this.context.router,i=r.history,c=r.route,l=r.staticContext,d={match:e,location:this.props.location||c.location,history:i,staticContext:l};return o?e?s.a.createElement(o,d):null:a?e?a(d):null:"function"===typeof n?n(d):n&&!h(n)?s.a.Children.only(n):null},t}(s.a.Component);g.propTypes={computedMatch:d.a.object,path:d.a.string,exact:d.a.bool,strict:d.a.bool,sensitive:d.a.bool,component:d.a.func,render:d.a.func,children:d.a.oneOfType([d.a.func,d.a.node]),location:d.a.object},g.contextTypes={router:d.a.shape({history:d.a.object.isRequired,route:d.a.object.isRequired,staticContext:d.a.object})},g.childContextTypes={router:d.a.object.isRequired},t.a=g},1444:function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},1445:function(e,t,n){"use strict";var o={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r=Object.defineProperty,i=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,s=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,d=l&&l(Object);e.exports=function e(t,n,u){if("string"!==typeof n){if(d){var p=l(n);p&&p!==d&&e(t,p,u)}var b=i(n);c&&(b=b.concat(c(n)));for(var f=0;f<b.length;++f){var h=b[f];if(!o[h]&&!a[h]&&(!u||!u[h])){var g=s(n,h);try{r(t,h,g)}catch(y){}}}return t}return t}},1446:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(540),a=o.__importStar(n(384)),r=n(384),i=o.__importDefault(n(1447)),c=o.__importDefault(n(1448));t.default=function(e){return function(t){var n,s;s=a.isValidElement(t)?(n=t).props:t;var l=i.default({buffered:[],time:0,duration:0,paused:!0,muted:!1,volume:1}),d=l[0],u=l[1],p=r.useRef(null),b=function(e,t){return function(n){try{t&&t(n)}finally{e&&e(n)}}},f=function(){return u({paused:!1})},h=function(){return u({paused:!0})},g=function(){var e=p.current;e&&u({muted:e.muted,volume:e.volume})},y=function(){var e=p.current;if(e){var t=e.duration,n=e.buffered;u({duration:t,buffered:c.default(n)})}},O=function(){var e=p.current;e&&u({time:e.currentTime})},m=function(){var e=p.current;e&&u({buffered:c.default(e.buffered)})};n=n?a.cloneElement(n,o.__assign(o.__assign({controls:!1},s),{ref:p,onPlay:b(s.onPlay,f),onPause:b(s.onPause,h),onVolumeChange:b(s.onVolumeChange,g),onDurationChange:b(s.onDurationChange,y),onTimeUpdate:b(s.onTimeUpdate,O),onProgress:b(s.onProgress,m)})):a.createElement(e,o.__assign(o.__assign({controls:!1},s),{ref:p,onPlay:b(s.onPlay,f),onPause:b(s.onPause,h),onVolumeChange:b(s.onVolumeChange,g),onDurationChange:b(s.onDurationChange,y),onTimeUpdate:b(s.onTimeUpdate,O),onProgress:b(s.onProgress,m)}));var v=!1,j={play:function(){var e=p.current;if(e&&!v){var t=e.play();if("object"===typeof t){v=!0;var n=function(){v=!1};t.then(n,n)}return t}},pause:function(){var e=p.current;if(e&&!v)return e.pause()},seek:function(e){var t=p.current;t&&void 0!==d.duration&&(e=Math.min(d.duration,Math.max(0,e)),t.currentTime=e)},volume:function(e){var t=p.current;t&&(e=Math.min(1,Math.max(0,e)),t.volume=e,u({volume:e}))},mute:function(){var e=p.current;e&&(e.muted=!0)},unmute:function(){var e=p.current;e&&(e.muted=!1)}};return r.useEffect((function(){var e=p.current;e&&(u({volume:e.volume,muted:e.muted,paused:e.paused}),s.autoPlay&&e.paused&&j.play())}),[s.src]),[n,d,j,p]}}},1447:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(384);t.default=function(e){void 0===e&&(e={});var t=o.useState(e),n=t[0],a=t[1];return[n,o.useCallback((function(e){a((function(t){return Object.assign({},t,e instanceof Function?e(t):e)}))}),[a])]}},1448:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){for(var t=[],n=0;n<e.length;n++)t.push({start:e.start(n),end:e.end(n)});return t}},1451:function(e,t,n){var o=n(808);e.exports=function(e){return o(e,5)}},1452:function(e,t,n){var o=n(1010);e.exports=function(e,t,n){return null==e?e:o(e,t,n)}},1453:function(e,t,n){var o=n(669),a=n(197),r=Math.max;e.exports=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var c=null==n?0:a(n);return c<0&&(c=r(i+c,0)),o(e,t,c)}},1457:function(e,t,n){var o=n(207),a=n(664),r=n(203),i=n(13);e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],c=e;c--;)t[c-1]=arguments[c];return o(i(n)?r(n):[n],a(t,1))}},1458:function(e,t,n){var o=n(808);e.exports=function(e){return o(e,4)}},1459:function(e,t,n){var o=n(1460),a=n(85),r=/[&<>"']/g,i=RegExp(r.source);e.exports=function(e){return(e=a(e))&&i.test(e)?e.replace(r,o):e}},1460:function(e,t,n){var o=n(1012)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=o},1797:function(e,t,n){"use strict";var o=n(384),a=n.n(o),r=n(447),i=n.n(r),c=n(1445),s=n.n(c),l=n(1443),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.a=function(e){var t=function(t){var n=t.wrappedComponentRef,o=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(t,["wrappedComponentRef"]);return a.a.createElement(l.a,{children:function(t){return a.a.createElement(e,d({},o,t,{ref:n}))}})};return t.displayName="withRouter("+(e.displayName||e.name)+")",t.WrappedComponent=e,t.propTypes={wrappedComponentRef:i.a.func},s()(t,e)}},1849:function(e,t,n){"use strict";n.r(t),n.d(t,"init",(function(){return SO}));var o=n(725),a=n.n(o),r=n(726),i=n.n(r),c=n(196),s=n.n(c),l=n(82),d=n.n(l),u=n(15),p=n(12);const b=[],f=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];d()(t)||b.push(...t)};var h=n(727),g=n(435);const y="AVAILABLE",O="UN_AVAILABLE",m="PENDING";let v=m;const j=e=>{v=e?y:O},I=()=>v===O,E=()=>v===m,C="PENDING",T="SUCCESS",S="FAIL",_="EXPIRED";let x=C;const A=e=>{x=e},R=()=>x===C,N=()=>x===S,w=()=>x===_,L="INCORRECT_PAYLOAD",D="NETWORK_FAILURE",M="CHAT_UNAVAILABLE";var P=n(458),k=n.n(P),U=n(590);const F="APP_AVAILABLE",B="APP_IN_SESSION";function G(e,t){const n=Object(p.M)(t);if(d()(n))return;const o=k()(Object(u.a)(),{userContext:{$merge:n}});Object(u.f)(o),e({type:U.c,payload:n})}G.dependecies=[B];const V="@user/UPDATE_USER_SETTINGS";function z(e,t){e({type:V,payload:t})}z.dependecies=[B];var W=n(459);function $(e){e({type:W.f})}function H(e){Object(p.L)()&&e({type:W.d})}$.dependecies=[B],H.dependecies=[F];var K=n(553),q=n.n(K),Y=n(413),X=n.n(Y),Z=n(728);const J=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:o,newSubscriber:a}=e;return Object(Z.b)(X.a,{topic:t,subscriber:a}),n.push({legacySubscriber:o,newSubscriber:a}),n},Q=e=>{let{topic:t,legacySubscriberMap:n,legacySubscriber:o}=e;const a=q()(n,(e=>{let{legacySubscriber:t}=e;return t===o}));return-1!==a&&(Object(Z.c)(X.a,{topic:t,subscriber:n[a].newSubscriber}),n.splice(a,1)),n};var ee=n(437);function te(e){Object(p.L)()&&e({type:W.b})}te.dependecies=[F];let ne=[];let oe=[];let ae=[];var re=n(667);function ie(e,t){e({type:re.a,payload:t})}function ce(e,t){e({type:re.b,payload:{promptId:t.id}})}ie.dependecies=[B,F],ce.dependecies=[B];let se=[];var le=n(13),de=n.n(le),ue=n(23),pe=n.n(ue),be=n(476),fe=n(668);const he="openNewConversation",ge="getAvailableAgents",ye="addFilterToEvaluate";function Oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=de()(t)?t:s()(t,"initialMessages");new Promise(((o,a)=>{e(Object(fe.b)({initialMessages:n,conversationContext:s()(t,"conversationContext"),assignToUser:s()(t,"assignToUser"),createCase:!!s()(t,"autoInitiateConversation"),additional:!de()(t)&&pe()(t)?{...t.additional,externalCaseId:t.id}:void 0,silent:!!s()(t,"silent")},{resolve:o,reject:a}))})).then((e=>{Object(be.a)({topic:he,payload:{data:{conversationId:e},request:t}})})).catch((e=>{Object(be.a)({topic:he,payload:{error:e,request:t}})}))}Oe.dependecies=[B,F];var me=n(517);function ve(e,t){const n=Object(me.b)();0!==n.index?(n.goBack(),t(!0)):t(!1)}ve.dependecies=[F];var je=n(460),Ie=n.n(je),Ee=n(428);function Ce(e,t){Ie()(t.payload)?Object(be.a)({topic:Ee.y,payload:{error:L,request:t}}):e({type:Ee.y,payload:t})}function Te(e,t){e({type:Ee.k,payload:t})}function Se(e,t){const n=Object(p.M)(t);if(d()(n))return;const o=k()(Object(u.a)(),{clientContext:{$merge:n}});Object(u.f)(o),e({type:Ee.e,payload:{context:n}})}Ce.dependecies=[B,F],Te.dependecies=[B],Se.dependecies=[F];let _e=[];let xe=[];let Ae=[];let Re=[];function Ne(e){Object(p.L)()&&e({type:W.i})}function we(e){Object(p.L)()&&e({type:W.h})}Ne.dependecies=[B],we.dependecies=[F];let Le=[];const De="@commerce/ADD_TO_CART",Me="@commerce/UPDATE_CART",Pe="@commerce/REMOVE_FROM_CART";function ke(e,t){e({type:Me,payload:t})}function Ue(e,t){e({type:Pe,payload:t})}ke.dependecies=[B],Ue.dependecies=[B];var Fe=n(202),Be=n.n(Fe),Ge=n(445),Ve=n(628),ze=n.n(Ve);ze.a.validators.type.types.MobileClientType=function(e){return"IPHONE"===e||"IPHONE_VOIP"===e||"ANDROID"===e||"WINDOWS"===e||"WINDOWS_UNIVERSAL"===e};const We={mobileClientType:{type:"MobileClientType",presence:!0},appVersion:{type:"number",presence:!0},deviceId:{type:"string",presence:!0},deviceName:{type:"string"}},$e=Object.assign(Object.assign({},We),{deviceToken:{type:"string",presence:!0}});function He(e,t){if(t.appVersion=Be()(t.appVersion),n=t,ze()(n,$e))throw Object(g.a)("Invalid device registration payload",t),new Error(L);var n;return Ge.a.post("/livechat/event/push/register-device",t).then((()=>({}))).catch((()=>{throw new Error(D)}))}He.dependecies=[B];let Ke=[];function qe(e,t){if(t.appVersion=Be()(t.appVersion),n=t,ze()(n,We))throw Object(g.a)("Invalid device unregistration payload",t),new Error(L);var n;return Ge.a.post("/livechat/event/push/unregister-device",t).then((()=>({}))).catch((()=>{throw new Error(D)}))}qe.dependecies=[B];let Ye=[];let Xe=[];const Ze="NEW_MESSAGE",Je="MESSAGE_UPDATED",Qe="EXTERNAL_EVENT",et="CHAT_USER_UPDATED",tt="CHAT_USER_START_TYPING",nt="CHAT_USER_STOP_TYPING",ot="LOCK_CONVERSATIONS",at="UNLOCK_CONVERSATIONS",rt="CONVERSATION_UPDATED",it="VIDEO_CALL_STARTING",ct="VIDEO_CALL_ENDED",st="VIDEO_CALL_TOGGLE",lt="VIDEO_CALL_OFFER_ACCEPTED",dt="VIDEO_CALL_DECLINED",ut="VIDEO_CALL_MISSED",pt="CO_BROWSE_STATUS",bt="LIVE_CHAT_ASSIGNMENT_CHANGED",ft="ADD_TO_CART",ht="USER_SESSION_EXPIRED";function gt(e,t){const{type:n,...o}=t;switch(n){case Ze:{const t=o.cId;e(Object(fe.a)({conversationId:t}));break}}}gt.dependecies=[B,F];var yt=n(83),Ot=n.n(yt);const mt=e=>{Et(X.a,e)};let vt=null,jt=mt;function It(e,t){Ot()(t)&&(jt=t)}function Et(e,t){vt&&(vt(t),vt=null)}Object(Z.b)(X.a,{topic:ee.i,subscriber:e=>{let{response:{data:t}}=e;const{callBack:n,permissions:o}=t;vt=n,jt(o)}});const Ct=(e,t)=>{e({type:W.a,payload:{subscriber:t}})};Ct.dependecies=[B];const Tt=(e,t)=>{e({type:W.m,payload:{id:t.id}})};Tt.dependecies=[B];const St=e=>{Ge.a.post("/livechat/conversation/fetchAgentAvailabilityDetails").then((e=>{Object(be.a)({topic:ge,payload:{data:e.data}})})).catch((()=>{Object(be.a)({topic:ge,payload:{error:D}})}))};St.dependecies=[B];var _t=n(121);function xt(e,t){new Promise(((n,o)=>{e(Object(fe.a)({conversationId:t},{resolve:n,reject:o}))})).catch((e=>{Object(_t.b)(e)}))}xt.dependecies=[B,F];var At=n(991);const Rt={updateUserContext:[G],updateUserSettings:[z],open:[H],close:[te],onUnreadCountChange:[function(e,t){oe=J({topic:ee.l,legacySubscriberMap:oe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(s()(n,"count"))}})}],offUnreadCountChange:[function(e,t){oe=Q({topic:ee.l,legacySubscriberMap:oe,legacySubscriber:t})}],onExternalEvent:[function(e,t){ae=J({topic:ee.f,legacySubscriberMap:ae,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offExternalEvent:[function(e,t){ae=Q({topic:ee.f,legacySubscriberMap:ae,legacySubscriber:t})}],onClose:[function(e,t){ne=J({topic:ee.d,legacySubscriberMap:ne,legacySubscriber:t,newSubscriber:()=>{t()}})}],offClose:[function(e,t){ne=Q({topic:ee.d,legacySubscriberMap:ne,legacySubscriber:t})}],enable:[Ne],disable:[we],onAvailabilityChange:[function(e,t){Xe=J({topic:ee.c,legacySubscriberMap:Xe,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n.isChatVisible)}}),t(v===y)}],offAvailabilityChange:[function(e,t){Xe=Q({topic:ee.c,legacySubscriberMap:Xe,legacySubscriber:t})}],subscribeToUpdate:[Z.b],unsubscribeToUpdate:[Z.c],[ye]:[Ct],removeFilterToEvaluate:[Tt],openNewPrompt:[ie],clearPrompt:[ce],onPromptAction:[function(e,t){se=J({topic:ee.j,legacySubscriberMap:se,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offPromptAction:[function(e,t){se=Q({topic:ee.j,legacySubscriberMap:se,legacySubscriber:t})}],[he]:[Oe],sendExternalEvent:[Ce],clearSession:[$],updateConversationContext:[Te],updateClientContext:[Se],onShowMedia:[function(e,t){Ae=J({topic:ee.h,legacySubscriberMap:Ae,legacySubscriber:t,newSubscriber:()=>{t()}})}],offShowMedia:[function(e,t){Ae=Q({topic:ee.h,legacySubscriberMap:Ae,legacySubscriber:t})}],onCloseMedia:[function(e,t){Re=J({topic:ee.g,legacySubscriberMap:Re,legacySubscriber:t,newSubscriber:()=>{t()}})}],offCloseMedia:[function(e,t){Re=Q({topic:ee.g,legacySubscriberMap:Re,legacySubscriber:t})}],onEvent:[function(e,t){Le=J({topic:ee.e,legacySubscriberMap:Le,legacySubscriber:t,newSubscriber:e=>{let{response:{data:n}}=e;t(n)}})}],offEvent:[function(e,t){Le=Q({topic:ee.e,legacySubscriberMap:Le,legacySubscriber:t})}],[ge]:[St],openExistingConversation:[xt],updateWidget:[function(e,t){const n=t.details.status;At.a[n]?e({type:W.o,payload:t}):(Object(g.a)("Invaild status code",n),Object(be.a)({topic:W.o,payload:{data:t,error:L}}))}],updateCart:[ke],removeFromCart:[Ue],registerDevice:[He,function(e,t){Object(be.a)({topic:ee.k,payload:{data:t,error:e}})}],onDeviceRegister:[function(e,t){Ke=J({topic:ee.k,legacySubscriberMap:Ke,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offDeviceRegister:[function(e,t){Ke=Q({topic:ee.k,legacySubscriberMap:Ke,legacySubscriber:t})}],unregisterDevice:[qe,function(e,t){Object(be.a)({topic:ee.m,payload:{data:t,error:e}})}],onUnregisterDevice:[function(e,t){Ye=J({topic:ee.m,legacySubscriberMap:Ye,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offUnregisterDevice:[function(e,t){Ye=Q({topic:ee.m,legacySubscriberMap:Ye,legacySubscriber:t})}],onLoad:[function(e,t){_e=J({topic:ee.a,legacySubscriberMap:_e,legacySubscriber:t,newSubscriber:()=>{t()}})}],offLoad:[function(e,t){_e=Q({topic:ee.a,legacySubscriberMap:_e,legacySubscriber:t})}],onLoadComplete:[function(e,t){xe=J({topic:ee.b,legacySubscriberMap:xe,legacySubscriber:t,newSubscriber:e=>{let{response:{error:n}}=e;t(n)}})}],offLoadComplete:[function(e,t){xe=Q({topic:ee.b,legacySubscriberMap:xe,legacySubscriber:t})}],goBack:[ve],onNotification:[gt],onSeekPermission:[It],offSeekPermission:[function(e){It(0,mt)}],grantPermission:[Et]},Nt=async()=>{if(!d()(b)){const e=b.shift();await Lt(...e),await Nt()}};async function wt(e,t,n){if(!t)return;for(var o=arguments.length,a=new Array(o>3?o-3:0),r=3;r<o;r++)a[r-3]=arguments[r];const i=[h.a.emit.bind(h.a),...a];try{const e=await t(...i);n&&n(void 0,e)}catch(c){Object(g.a)(c),n&&n(c)}}async function Lt(e){const t=Rt[e]&&Rt[e][0],n=Rt[e]&&Rt[e][1],o=t&&t.dependecies&&t.dependecies.includes(F),a=t&&t.dependecies&&t.dependecies.includes(B);for(var r=arguments.length,i=new Array(r>1?r-1:0),c=1;c<r;c++)i[c-1]=arguments[c];if(a||o)return o&&!a?I()?void(n&&n(M)):E()?void f([e,...i]):void wt(e,t,n,...i):a&&!o?N()||w()?void(n&&n(M)):R()?void f([e,...i]):void wt(e,t,n,...i):void(N()||w()||I()?n&&n(M):R()||E()?f([e,...i]):wt(e,t,n,...i));wt(e,t,n,...i)}var Dt=n(412),Mt=n.n(Dt),Pt=n(617),kt=n(125),Ut=n(7),Ft=n(6),Bt=n(1879);const Gt=Object(Ut.a)("isSSOAuthorized"),Vt=Object(Ut.a)("authToken"),zt=Object(Ut.a)("oneTimeToken");class Wt{}Wt.isSSOAuthorized=Object(Ft.a)(Gt),Wt.getAuthToken=Object(Ft.a)(Vt),Wt.hasIsSSOAuthorized=e=>e&&Object(Bt.a)("isSSOAuthorized",e),Wt.getOneTimeToken=Object(Ft.a)(zt);var $t=n(426),Ht=n(403),Kt=n(511),qt=n(795),Yt=n(454);var Xt=n(467);const Zt=async e=>{let{ssoId:t,conversationId:n,messageId:o}=e;const a=await(async e=>{let{ssoId:t,conversationId:n,messageId:o}=e;const{appId:a}=Object(u.a)(),r=[{key:"idpId",value:t},{key:"x-chat-token",value:await Object(Kt.a)(a)}];return n&&r.push({key:"conversationId",value:n}),o&&r.push({key:"messageId",value:o}),r})({ssoId:t,conversationId:n,messageId:o});return`https://prod-video-chat-chat.sprinklr.com/api/livechat/authenticate/begin?${Object(Xt.e)(a)}`},Jt=e=>Wt.isSSOAuthorized(kt.a.getUserSettings(Object(u.a)()))&&!!Ht.a.getAutoLoginSSOId($t.a.getCustomizationConfig(e)),Qt=async e=>{let{ssoId:t,conversationId:n,messageId:o}=e;const a=(e=>{const t=screen.width/2,n=screen.height/2,o=t-t/2,a=n-n/2;return window.open(e,"_blank",`height=${n},width=${t},top=${a},left=${o}`)})(await Zt({ssoId:t,conversationId:n,messageId:o}));return(()=>{const e=window.document.createElement("iframe");e.id="subscriberIframe",e.src=`https://live-chat-static.sprinklr.com/api/livechat/authenticate/listener.html?appId=${Object(u.a)().appId}`,e.style.visibility="hidden",window.document.body.appendChild(e)})(),new Promise(((e,t)=>{let n;n=setInterval((()=>{a&&a.closed&&(r(),t())}),1500);const o=async n=>{if(n.origin.match(/(sprinklr\.com)/g))try{const{params:t}=JSON.parse(n.data);await Object(Kt.i)(Object(u.a)().appId,t.authToken),e(t)}catch(o){t(),Object(_t.b)(o)}finally{r()}},r=()=>{clearInterval(n),window.removeEventListener("message",o)};window.addEventListener("message",o)})).finally((()=>{a&&a.close(),(()=>{const e=document.getElementById("subscriberIframe");e&&document.body.removeChild(e)})()}))};var en=n(446),tn=n(410);const nn=e=>{let{handshakeDetails:t,applicationConfig:n,getSessionToken:o}=e;if(o&&Object(Ge.b)({getSessionToken:o}),t&&Object(Ge.b)({userId:t.chatUser.userId}),n){const e=$t.a.getAutoExpireUserSessionTimeInMinutes(n),t=s()(n,"otherConfigs.settings.autoExpiryConfig.alertTime");Object(Ge.b)({sessionExpiryTimeInMinutes:e,sessionExpiryAlertTime:t})}},on=async e=>{const t=kt.a.getAppId(e),n=kt.a.getUserSettings(e),o=Wt.getAuthToken(n);if(Wt.hasIsSSOAuthorized(n)){const e=(e=>{if(e)try{return JSON.parse(atob(e.split(".")[1]))}catch(t){console.error("Unable to parse user token when isSSOAuthorized",e)}return tn.a})(await Object(Kt.a)(t));Object(en.b)(e.chatUserId)&&await Object(Kt.f)(t)}o&&(await Object(Kt.f)(t),await Object(Kt.i)(t,o))};async function an(e){const t=kt.a.getAppId(e),n=kt.a.getUserSettings(e),o=Mt()(kt.a.getUserSettings(e),["authToken","isSSOAuthorized","oneTimeToken"]),a=kt.a.getUserContext(e);let r,i;if(!!kt.a.getSessionOrigin(Object(u.a)())){const{primaryToken:e,secondaryToken:n}=await async function(e){let t,n,o;try{t=await Object(Kt.c)(e)}catch(i){console.warn(i)}try{n=await Object(Kt.b)(e,qt.a)}catch(i){console.warn(i)}try{o=await Object(Kt.b)(e,qt.b)}catch(i){console.warn(i)}const a=n||o||t;let r=o||t;return r=r===a?void 0:r,{primaryToken:a,secondaryToken:r}}(t);r=e,i=n}else r=await Object(Kt.c)(t);const c={appId:t,oneTimeToken:s()(n,"oneTimeToken"),chatSessionToken:r,secondaryChatToken:i,page:Object(Yt.b)(),pageTitle:Object(Yt.c)(),referralPage:Object(Yt.d)(),timezone:Object(Yt.f)(),userAgent:Object(Yt.e)(),locale:kt.a.getLocale(e),meetingId:kt.a.getMeetingId(e),otp:kt.a.getOtp(e)};if(!d()(o)){const{id:e,hash:t,...n}=o;Object.assign(c,{chatUser:{userId:e,...n},chatUserSignature:t})}return d()(a)||Object.assign(c,{customContext:a}),c}const rn=async e=>Object(Pt.c)(e),cn=async e=>{const t=await Object(Pt.a)(await an(e));if(!!kt.a.getSessionOrigin(Object(u.a)())&&await(async e=>{try{await Object(Kt.g)(e,qt.d)}catch(t){console.warn(t)}try{await Object(Kt.g)(e,qt.b)}catch(t){console.warn(t)}})(kt.a.getAppId(e)),await Object(Kt.i)(kt.a.getAppId(e),t.chatSessionToken),!t.userPreferences){const e=await Object(Kt.e)(t.chatUser.userId);return{...t,userPreferences:e}}return t},sn=e=>{h.a.on(e),A(T)},ln=async()=>{A(S),j(!1),await Nt(),Object(be.a)({topic:ee.b,payload:{error:!0}})};var dn=n(128),un=n(729),pn=n.n(un);function bn(e){const t=Object(_t.a)();t&&t.setUser&&t.setUser({id:e.userId,username:pn()(`${e.firstName||""} ${e.lastName||""}`),email:e.email||""})}var fn=n(384),hn=n.n(fn),gn=n(486),yn=n.n(gn),On=n(746),mn=n.n(On),vn=n(572),jn=n.n(vn),In=n(447),En=n.n(In),Cn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var _n=function(e){function t(){var n,o;Tn(this,t);for(var a=arguments.length,r=Array(a),i=0;i<a;i++)r[i]=arguments[i];return n=o=Sn(this,e.call.apply(e,[this].concat(r))),o.state={match:o.computeMatch(o.props.history.location.pathname)},Sn(o,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getChildContext=function(){return{router:Cn({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},t.prototype.computeMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}},t.prototype.componentWillMount=function(){var e=this,t=this.props,n=t.children,o=t.history;jn()(null==n||1===hn.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=o.listen((function(){e.setState({match:e.computeMatch(o.location.pathname)})}))},t.prototype.componentWillReceiveProps=function(e){mn()(this.props.history===e.history,"You cannot change <Router history>")},t.prototype.componentWillUnmount=function(){this.unlisten()},t.prototype.render=function(){var e=this.props.children;return e?hn.a.Children.only(e):null},t}(hn.a.Component);_n.propTypes={history:En.a.object.isRequired,children:En.a.node},_n.contextTypes={router:En.a.object},_n.childContextTypes={router:En.a.object.isRequired};var xn=_n,An=n(477),Rn=n(385),Nn=n(389),wn=n(1296),Ln=n(731),Dn=n(523),Mn=n.n(Dn),Pn=n(419),kn=n(538),Un=n(659),Fn=n(449),Bn=n(396);const Gn=e=>Object(Fn.c)(Object(Bn.b)(e)),Vn=e=>{const t=Object(kn.a)(),n=Object(Pn.a)(),o=Object(Nn.d)(Gn),a=$t.a.getVisibilityConfigFilter(n),{hasPassed:r}=Object(Un.a)(a,{logOnSuccess:!0,defaultValue:!1}),i=!r&&o;return Object(fn.useEffect)((()=>{r&&Object(g.a)("Sprinklr Chat hidden by visibility criteria"),o||Object(g.a)("Sprinklr Chat disabled by sdk"),j(i),Object(be.a)({topic:ee.c,payload:{data:{isChatVisible:i}}})}),[r,o,i]),Object(fn.useEffect)((()=>((async()=>{await Nt(),Object(be.a)({topic:ee.a,payload:{}}),Object(be.a)({topic:ee.b,payload:{error:!1}})})(),()=>{Object(be.a)({topic:ee.c,payload:{data:{isChatVisible:!1}}})})),[]),Mn()((()=>{Nt()}),[t]),i?e.children:null};var zn=hn.a.memo(Vn),Wn=n(743),$n=n(665),Hn=n(1021),Kn=n(456);var qn=e=>{const t=Object(kn.a)(),n=Object(Wn.a)(Object($n.a)()),o=Object(Wn.a)(Object($n.b)()),a=Object(Wn.a)(Object(Nn.c)());return Object(fn.useEffect)((()=>{n.current&&(a.current({type:Kn.c}),o.current&&a.current({type:Kn.b}))}),[n.current,o.current]),Object(fn.useLayoutEffect)((()=>{n.current&&(Object(me.a)(),Object(Hn.b)())}),[n.current]),Mn()((()=>{Object(p.L)()&&!o.current&&a.current({type:W.d})}),[t]),e.children},Yn=n(744),Xn=n(828);const Zn=e=>Object(Rn.jsx)(Xn.a,null,Object(Rn.jsx)(Yn.b,null,e.children));var Jn=n(592),Qn=n(391),eo=n(388),to=n(395),no=n(633),oo=n(1443),ao=n(1030);function ro(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function io(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var co=function(e){function t(){return ro(this,t),io(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){jn()(this.context.router,"You should not use <Switch> outside a <Router>")},t.prototype.componentWillReceiveProps=function(e){mn()(!(e.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),mn()(!(!e.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},t.prototype.render=function(){var e=this.context.router.route,t=this.props.children,n=this.props.location||e.location,o=void 0,a=void 0;return hn.a.Children.forEach(t,(function(t){if(null==o&&hn.a.isValidElement(t)){var r=t.props,i=r.path,c=r.exact,s=r.strict,l=r.sensitive,d=r.from,u=i||d;a=t,o=Object(ao.a)(n.pathname,{path:u,exact:c,strict:s,sensitive:l},e.match)}})),o?hn.a.cloneElement(a,{location:n,computedMatch:o}):null},t}(hn.a.Component);co.contextTypes={router:En.a.shape({route:En.a.object.isRequired}).isRequired},co.propTypes={children:En.a.node,location:En.a.object};var so=co,lo=n(1032),uo=n(1031),po=n.n(uo),bo={},fo=0,ho=function(e){var t=e,n=bo[t]||(bo[t]={});if(n[e])return n[e];var o=po.a.compile(e);return fo<1e4&&(n[e]=o,fo++),o},go=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("/"===e)return e;var n=ho(e);return n(t,{pretty:!0})},yo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};function Oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mo(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var vo=function(e){function t(){return Oo(this,t),mo(this,e.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},t.prototype.componentWillMount=function(){jn()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},t.prototype.componentDidMount=function(){this.isStatic()||this.perform()},t.prototype.componentDidUpdate=function(e){var t=Object(lo.a)(e.to),n=Object(lo.a)(this.props.to);Object(lo.b)(t,n)?mn()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"'):this.perform()},t.prototype.computeTo=function(e){var t=e.computedMatch,n=e.to;return t?"string"===typeof n?go(n,t.params):yo({},n,{pathname:go(n.pathname,t.params)}):n},t.prototype.perform=function(){var e=this.context.router.history,t=this.props.push,n=this.computeTo(this.props);t?e.push(n):e.replace(n)},t.prototype.render=function(){return null},t}(hn.a.Component);vo.propTypes={computedMatch:En.a.object,push:En.a.bool,from:En.a.string,to:En.a.oneOfType([En.a.string,En.a.object]).isRequired},vo.defaultProps={push:!1},vo.contextTypes={router:En.a.shape({history:En.a.shape({push:En.a.func.isRequired,replace:En.a.func.isRequired}).isRequired,staticContext:En.a.object}).isRequired};var jo=vo,Io=n(386);const Eo=Object(Io.a)("div",{target:"ejhhbev0"})({name:"jbngkd",styles:"display:flex;flex-direction:column;height:100%;width:100%;position:relative;"}),Co=Object(Rn.css)("@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}"),To="page-fade",So={name:"1ih49i4",styles:"opacity:0;z-index:1;overflow:hidden;"},_o={name:"h3fsyk",styles:"opacity:1;transition:opacity 0.16s ease-in;overflow:hidden;"},xo=Object(Rn.css)(".",To,"-enter{",So,";}.",To,"-enter.",To,"-enter-active{",_o,";}.",To,"-exit{",_o,";}.",To,"-exit.",To,"-exit-active{",So,";}");var Ao=n(427),Ro=n.n(Ao),No=n(387),wo=n(503);const Lo="snackbar",Do=Object(Io.a)("div",{target:"egs66bu0"})("font-size:",Object(No.e)("xs"),";margin:0 auto;position:absolute;top:20%;z-index:",wo.a.SNACK_BAR,";"),Mo=Object(Io.a)("div",{target:"egs66bu1"})("background:",Object(No.f)("snackBar.backgroundColor"),";color:",Object(No.b)("white"),";max-width:70%;border-radius:",Object(No.a)("snackBar.borderRadius"),";padding:",Object(No.h)("snackBar.padding"),";"),Po=Object(Rn.css)(".",Lo,"-enter{transform:translateY(-20%);transition:transform 250ms ease-in;}.",Lo,"-enter-active{transform:translateY(0);}.",Lo,"-exit{transform:translateY(0);transition:transform 250ms ease-out;}.",Lo,"-exit-active{transform:translateY(-20%);}");var ko=n(539);var Uo=()=>{const{notification:e,setNotification:t}=Object(ko.a)(),n=Object(fn.useRef)(),o=Object(fn.useMemo)((()=>s()(e,"timeout")||2e3),[e]);return Object(fn.useEffect)((()=>{e&&(window.clearTimeout(n.current),n.current=window.setTimeout((()=>{t(void 0)}),o))}),[e,o]),Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(Rn.Global,{styles:Po}),Object(Rn.jsx)(no.CSSTransition,{classNames:Lo,in:Boolean(e),timeout:{enter:250,exit:250},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(Rn.jsx)(Do,{className:"center-x-y full-width"},e?Object(Rn.jsx)(Mo,{className:"text-wrap"},(a=e.message,Ro()(a)?a:Object(Rn.jsx)(eo.b,a))):null)));var a},Fo=n(964),Bo=n(745),Go=n(675);const Vo=["/logout"],zo=e=>e&&Vo.filter((t=>e.match(t))).length>0,Wo=e=>{let{children:t,locationKey:n}=e;const o=Object(Wn.a)(n),a=Object(fn.useCallback)((e=>hn.a.cloneElement(e,{exit:!zo(o.current),enter:!zo(o.current)})),[]);return Object(Rn.jsx)(no.TransitionGroup,{childFactory:a},Object(Rn.jsx)(no.CSSTransition,{key:n,classNames:To,timeout:300},t))};var $o=()=>Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(Uo,null),Object(Rn.jsx)(Rn.Global,{styles:xo}),Object(Rn.jsx)(Eo,null,Object(Rn.jsx)(oo.a,{render:e=>{let{location:t}=e;return Object(Rn.jsx)(Wo,{locationKey:t.pathname},Object(Rn.jsx)(Fo.a,{css:Co},(e=>{let{LogoutPage:n,HomePage:o,ConversationPage:a,ConversationsListPage:r,SurveyPage:i,Error401Page:c,KnowledgeBasePage:s,KnowledgeBaseCategoriesPage:l,KnowledgeBaseArticlePage:d}=e;return Object(Rn.jsx)(so,{location:t},Object(Rn.jsx)(oo.a,{exact:!0,path:"/logout",component:n}),Object(Rn.jsx)(oo.a,{exact:!0,path:"/home",component:o}),Object(Rn.jsx)(oo.a,{exact:!0,path:"/survey/:surveyUrl",component:i}),Object(Rn.jsx)(oo.a,{exact:!0,path:"/knowledge-base/categories/:categoryId",component:s}),Object(Rn.jsx)(oo.a,{exact:!0,path:"/knowledge-base/categories/:categoryId/categories",component:l}),Object(Rn.jsx)(oo.a,{exact:!0,path:"/knowledge-base"},Object(Rn.jsx)(jo,{to:`/knowledge-base/categories/${Go.a}`})),Object(Rn.jsx)(oo.a,{exact:!0,path:"/knowledge-base/article/:articleId",component:d}),Object(Rn.jsx)(oo.a,{path:"/conversation",render:e=>{let{match:t}=e;return Object(Rn.jsx)(so,null,Object(Rn.jsx)(oo.a,{exact:!0,path:`${t.path}/all`,component:r}),Object(Rn.jsx)(oo.a,{exact:!0,path:`${t.path}/new/:transientConversationId?`,render:e=>Object(Rn.jsx)(a,Object(Qn.a)({},e,{pageType:Bo.a.NEW}))}),Object(Rn.jsx)(oo.a,{exact:!0,path:`${t.path}/last`,render:e=>Object(Rn.jsx)(a,Object(Qn.a)({},e,{pageType:Bo.a.LAST}))}),Object(Rn.jsx)(oo.a,{exact:!0,path:`${t.path}/:conversationId/survey/:surveyUrl`,component:i}),Object(Rn.jsx)(oo.a,{path:`${t.path}/:conversationId`,render:e=>Object(Rn.jsx)(a,Object(Qn.a)({},e,{pageType:Bo.a.EXISTING}))}),Object(Rn.jsx)(oo.a,{render:()=>Object(Rn.jsx)("div",null,"Not Found")}))}}),Object(Rn.jsx)(oo.a,{exact:!0,path:"/401",component:c}))})))}}))),Ho=n(126);const Ko=Object(Rn.css)("padding-top:env(safe-area-inset-top);@media screen and (min-width:",649,"px) and (min-height:",601,"px){border-radius:8px;}");var qo=()=>Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(oo.a,{render:e=>{let{location:t}=e;return Object(Rn.jsx)(Fo.a,{css:Ko},(e=>{let{LogoutPage:n,ConversationPage:o,SurveyPage:a,Error401Page:r}=e;return Object(Rn.jsx)(so,{location:t},Object(Rn.jsx)(oo.a,{exact:!0,path:"/logout",component:n}),Object(Rn.jsx)(oo.a,{exact:!0,path:"/home"},Object(Rn.jsx)(jo,{to:"/conversation/new"})),Object(Rn.jsx)(oo.a,{exact:!0,path:"/survey/:surveyUrl",component:a}),Object(Rn.jsx)(oo.a,{path:"/conversation",render:e=>{let{conversationLocation:t,match:n}=e;return Object(Rn.jsx)(so,{location:t},Object(Rn.jsx)(oo.a,{exact:!0,path:`${n.path}/new/:transientConversationId?`,render:e=>Object(Rn.jsx)(o,Object(Qn.a)({key:e.match.params.transientConversationId||Ho.e},e,{pageType:Bo.a.NEW}))}),Object(Rn.jsx)(oo.a,{exact:!0,path:`${n.path}/last`,render:e=>Object(Rn.jsx)(o,Object(Qn.a)({},e,{pageType:Bo.a.LAST}))}),Object(Rn.jsx)(oo.a,{exact:!0,path:`${n.path}/:conversationId/survey/:surveyUrl`,component:a}),Object(Rn.jsx)(oo.a,{path:`${n.path}/:conversationId`,render:e=>Object(Rn.jsx)(o,Object(Qn.a)({key:e.match.params.conversationId},e,{pageType:Bo.a.EXISTING}))}))}}),Object(Rn.jsx)(oo.a,{exact:!0,path:"/401",component:r}))}))}}),Object(Rn.jsx)(Uo,null)),Yo=n(622),Xo=n(1285),Zo=n(796),Jo=n(1292),Qo=n(398);const ea=e=>`spr-cobrowse-state_${e}`,ta=!!kt.a.getSessionOrigin(Object(u.a)());var na={get:async e=>{try{const t=ea(e);if(!ta)return qt.d.getItem(t);const n=await qt.c.getItem(t);if(!n){const e=await qt.d.getItem(t);if(e)return qt.d.removeItem(t),await qt.c.setItem(t,e),e}return n}catch(t){return void console.warn(t)}},set:(e,t)=>ta?qt.c.setItem(ea(e),t):qt.d.setItem(ea(e),t),remove:e=>ta?qt.c.removeItem(ea(e)):qt.d.removeItem(ea(e))},oa=n(678),aa=n(401),ra=n(836);const ia=Object(aa.a)((()=>Promise.all([n.e(0),n.e(18)]).then(n.bind(null,1852)))),ca={endCobrowseSession:oa.c,resumeCobrowseSession:oa.n,markCobrowseSessionFailed:oa.e};var sa=()=>{const e=Object(Nn.d)(Bn.f),{endCobrowseSession:t,resumeCobrowseSession:n,markCobrowseSessionFailed:o}=Object(Qo.a)(ca),a=Object(fn.useCallback)((()=>{t({messageId:e.messageId})}),[e.messageId]),{appId:r}=Object(fn.useMemo)((()=>Object(u.a)()),[]);return Object(fn.useEffect)((()=>{(async()=>{const e=await na.get(r);try{if(e){const{conversationId:t,messageId:o,agentId:a}=JSON.parse(e);n({state:{conversationId:t,messageId:o,agentId:a}})}}catch{o({reason:ra.a.RESUME_SESSION_FAILED})}})()}),[n,r]),d()(e)?null:Object(Rn.jsx)(fn.Suspense,{fallback:Object(Rn.jsx)(Jo.a,{sessionState:e.sessionState,onStopSession:a})},Object(Rn.jsx)(ia,{cobrowseState:e}))},la=n(535),da=n(574);const ua=Object(Io.a)(la.a,{target:"e1ogxy6u0"})({name:"1l2nfdo",styles:"border:0 none;height:100%;width:100%;"}),pa=Object(Io.a)("div",{target:"e1ogxy6u1"})("height:100%;width:100%;display:flex;align-items:center;justify-content:center;background-image:",Object(No.f)("page.gradients"),";background-color:",Object(No.f)("page.backgroundColor"),";"),ba=Object(Io.a)("div",{target:"e1ogxy6u2"})("height:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(No.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );width:calc( 100% - ",(e=>{const{absoluteValue:t,unit:n}=Object(No.c)("page.minPadding",{defaultUnit:"px"})(e);return 2*t+n})," );border-radius:",(e=>Object(No.c)("page.minPadding",{defaultUnit:"px"})(e).absoluteValue?"8px":"0px"),";box-shadow:0 2px 15px 0 rgba(0,0,0,0.2);overflow:hidden;background-color:",Object(No.b)("white"),";",(e=>!e.isPhone&&!Object(da.a)()&&"max-width: 648px;\n    max-height: 95%;"),";"),fa={name:"2b9rdz",styles:".frame-content{width:100%;height:100%;}.frame-root{height:100%;width:100%;}"};var ha=n(392),ga=n(420),ya=n(837),Oa=n(541);const ma="CONVERSATION",va="CONVERSATION_LIST",ja="KNOWLEDGE_BASE",Ia="KNOWLEDGE_BASE_LIST",Ea="SURVEY",Ca=["/conversation/"],Ta={survey:Ea,401:"401",home:"HOME"};var Sa=n(438);const _a=()=>{var e;const t=Object(ga.a)(),n=Object(Oa.a)(),o=null===n||void 0===n||null===(e=n.location)||void 0===e?void 0:e.pathname,a=null===n||void 0===n?void 0:n.action,r=Object(fn.useMemo)((()=>(e=>{let t;const n=null===e||void 0===e?void 0:e.split("/");if(n&&n.length>1)switch(n[1]){case"knowledge-base":n.length>2&&(t="article"===n[2]?ja:Ia);break;case"conversation":n.length>3&&"survey"===n[3]?t=Ea:n.length>2&&(t="all"===n[2]?va:ma);break;default:t=Ta[n[1]]}return t})(o)),[o]);Object(fn.useEffect)((()=>{r&&((e,t)=>!("REPLACE"===t&&Ca.filter((t=>null===e||void 0===e?void 0:e.match(t))).length))(o,a)&&t({action:Sa.a.PAGE_OPENED,additional:{value:r}})}),[r,o])};var xa=n(421);const Aa=Object(aa.a)((()=>Promise.all([n.e(0),n.e(100)]).then(n.bind(null,1865)))),Ra=e=>{const t=Object(ha.a)(),n=Object(ga.a)();return _a(),Object(fn.useEffect)((()=>(n({action:Sa.a.CONVERSATION_WINDOW_OPENED}),()=>{n({action:Sa.a.CONVERSATION_WINDOW_CLOSED})})),[]),Object(Rn.jsx)(pa,null,Object(Rn.jsx)(ba,{ref:e.pageBoxRef,className:"spr",isPhone:t},Object(p.B)()?Object(Rn.jsx)(qo,null):Object(Rn.jsx)($o,null)))};var Na=Object(eo.h)((e=>{const t=Object(Pn.a)(),n=Object(fn.useRef)(),o=Object(to.b)(),a=e.intl.formatMessage,r=Object(ya.a)(),i=Object(Qo.a)(An.e),c=Object(fn.useCallback)((()=>{r(n),i()}),[r,i]);return Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(Xo.a,{theme:o}),Object(Rn.jsx)(ua,{"aria-label":a(xa.a.liveChatBox),name:"spr-chat__page-frame",contentDidMount:c},Object(Rn.jsx)(Rn.Global,{styles:fa}),t&&t.autoExpireUserSessionTimeInMinutes?Object(Rn.jsx)(fn.Suspense,{fallback:null},Object(Rn.jsx)(Aa,null)):null,Object(Rn.jsx)(Ra,Object(Qn.a)({},e,{pageBoxRef:n}))),Object(Rn.jsx)(Zo.b,{parentFrameRef:n}),Object(Rn.jsx)(sa,null),Object(Rn.jsx)(Yo.b,null))})),wa=n(557),La=n(123),Da=n.n(La),Ma=n(1451),Pa=n.n(Ma),ka=n(1452),Ua=n.n(ka);const Fa=(e,t)=>{const n=[];return Da()(e,((e,o)=>{"filters"===o?Da()(e,(e=>{let{filter:o,value:a}=e;d()(o)||d()(a)||n.push({field:o.field,filterType:o.fieldType||o.filterType,filters:o.filters,values:o.values,details:{...o.details,path:t,value:a}})})):n.push(...Fa(e,t?`${t}.${o}`:o))})),n};var Ba=e=>{const t=Object(fn.useMemo)((()=>Fa(s()(e,"styleFilters"),"")),[e]),n=Object(Un.a)(t),o=(e=>{let{styles:t,flatFilters:n,evaluatedFilters:o}=e;const a=Pa()(t);return Da()(n,((e,t)=>{o[t].hasPassed&&e.details&&Ua()(a,e.details.path,{...s()(a,e.details.path),...e.details.value})})),a})({styles:s()(e,"styles"),flatFilters:t,evaluatedFilters:n});return{...e,styles:o}};var Ga=e=>{const t=Object(to.b)(),n=Ba(t);return Object(Rn.jsx)(to.a,{theme:n},e.children)},Va=n(951),za=n(1304),Wa=n(1042),$a=n(400),Ha=n(519);const Ka=Object(aa.a)((()=>Promise.all([n.e(0),n.e(100)]).then(n.bind(null,1865)))),qa=e=>Object(Fn.g)(Object(Bn.b)(e)),Ya=Object(eo.h)((e=>{const t=Object(Pn.a)(),n=Object(Nn.d)(qa),o=e.intl.formatMessage,a=Object($a.a)(),r=Ht.a.isTriggerHiddenWhenMaximised(a),i=Object(ga.a)(),c=Object(ha.a)(),s=Object(fn.useRef)(),l=Object(ya.a)(),d=Object(Qo.a)(An.e),[u,b]=Object(fn.useState)(!1),f=Object(to.b)();_a();const h=Object(fn.useCallback)((e=>{b(e)}),[]);Mn()((()=>{const e=n?Ha.a.CONVERSATION_WINDOW_CLOSED:Ha.a.CONVERSATION_WINDOW_OPENED;i({action:e})}),[n]);const g=Object(fn.useCallback)((()=>{l(s),d()}),[l]),y=Object(fn.useMemo)((()=>({setIsFrameMaximized:h,isFrameMaximized:u})),[h,u]),O=Object(za.f)({theme:f});return Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(Rn.Global,{styles:O}),Object(Rn.jsx)(no.CSSTransition,{in:!n,classNames:za.d,timeout:{enter:500,exit:500},mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(Rn.jsx)(Wa.a.Provider,{value:y},Object(Rn.jsx)(za.a,{className:"spr-chat__box spr-live-chat-frame",ref:e.frameRef,isPhone:c,alignWithChatTrigger:!!r,isMaximized:u},Object(Rn.jsx)(za.c,{isPhone:c},Object(Rn.jsx)(za.b,{"aria-label":o(xa.a.liveChatBox),name:"spr-chat__box-frame",isPhone:c,contentDidMount:g},Object(Rn.jsx)(Rn.Global,{styles:za.e}),Object(Rn.jsx)("div",{className:"full-height full-width",ref:s},t&&t.autoExpireUserSessionTimeInMinutes?Object(Rn.jsx)(fn.Suspense,{fallback:null},Object(Rn.jsx)(Ka,null)):null,Object(p.B)()?Object(Rn.jsx)(qo,null):Object(Rn.jsx)($o,null))))))))}));var Xa=hn.a.forwardRef(((e,t)=>Object(Rn.jsx)(Ya,{frameRef:t}))),Za=n(436),Ja=n.n(Za),Qa=n(558),er=n(679),tr=n.n(er),nr=n(840),or=n(537);const ar=e=>{let{prompt:t,isLocked:n}=e;if(!n)return t;const{buttons:o=or.a}=t,a=(e=>e.length&&tr()(e,(e=>e.type!==nr.b.NEW_CONVERSATION)))(o);return a?t:void 0};var rr=n(404),ir=n(407);const cr=Object(aa.a)((()=>n.e(45).then(n.bind(null,1854)))),sr=e=>Object(Fn.f)(Object(Bn.b)(e)),lr=e=>Object(ir.b)(Object(ir.p)(Object(rr.c)(e)));var dr=e=>{const t=Object(Nn.d)(Bn.d),n=Object(Nn.d)(sr),{isLocked:o,lockReason:a}=Object(Qa.a)(),r=Object(Nn.d)(lr),i=Object(fn.useRef)();return i.current=Object(fn.useMemo)((()=>{if(i.current){const e=i.current.id,n=Ja()(t,(t=>t.id===e));if(!d()(n)){const e=ar({prompt:n,isLocked:o});if(e)return e}}return Ja()(t,(e=>{const t=ar({prompt:e,isLocked:o});if(t)return t}))}),[t,o]),d()(i.current)||n||!r?(o&&Object(g.a)("Cannot initiate prompt: ",a),null):Object(Rn.jsx)(fn.Suspense,{fallback:null},Object(Rn.jsx)(cr,Object(Qn.a)({},e,{visiblePrompt:i.current})))},ur=n(631),pr=n(801);const br=Object(Io.a)("div",{target:"egvnsbi0"})("display:flex;background:transparent;overflow:hidden;border-radius:",(e=>Object(No.a)("trigger.overlayIconButton.borderRadius",Object(No.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";bottom:",(e=>Object(Va.b)(e)),"px;height:",Object(No.f)("trigger.overlayIconButton.button.height"),"px;",(e=>Object(Va.d)({leftOffset:Object(Va.e)(e),rightOffset:Object(Va.e)(e)})(e)),";width:",Object(No.f)("trigger.overlayIconButton.button.width"),"px;position:fixed;transform:translatez(",(e=>Object(No.f)("frame.translateZ")(e)),"px);"),fr=Object(Io.a)(la.a,{target:"egvnsbi1"})({name:"1aywylc",styles:"border:0 none;box-shadow:0 2px 32px 0 rgba(0,0,0,0.15),0 1px 6px 0 rgba(0,0,0,0.09);height:100%;width:100%;"}),hr=Object(Io.a)(pr.a,{target:"egvnsbi2"})("font-size:",Object(No.f)("trigger.overlayIconButton.fontSize"),";height:",Object(No.f)("trigger.overlayIconButton.button.height"),"px;width:",Object(No.f)("trigger.overlayIconButton.button.width"),"px;line-height:",Object(No.f)("trigger.overlayIconButton.button.height"),"px;border-radius:",(e=>Object(No.a)("trigger.overlayIconButton.borderRadius",Object(No.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";"),gr="spr-chat-proactive-box-anim",yr=Object(Rn.css)(".",gr,"-enter{opacity:0;}.",gr,"-enter.",gr,"-enter-active{opacity:1;transition:opacity 0.3s ease,transform 0.15s ease;}.",gr,"-enter-done,.",gr,"-appear{}.",gr,"-exit{opacity:1;}.",gr,"-exit.",gr,"-exit-active{opacity:0;transition:opacity 0s ease,transform 0s ease;}"),Or=Object(Io.a)("div",{target:"egvnsbi3"})("position:relative;z-index:",(e=>Object(No.f)("frame.zIndex")(e)),";");var mr=n(579);const vr=Object(ur.a)((e=>Object(Fn.g)(Object(Bn.b)(e))),(e=>Object(Fn.f)(Object(Bn.b)(e))),(e=>Object(ir.v)(Object(ir.p)(Object(Bn.c)(e)))),((e,t,n)=>({isMinimized:e,isChatTriggerHidden:t,totalUnreadCount:n})));var jr=Object(eo.h)((e=>{const{isMinimized:t,totalUnreadCount:n,isChatTriggerHidden:o}=Object(Nn.d)(vr),a=Object(to.b)(),r=e.intl.formatMessage;return o?null:Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(Rn.Global,{styles:yr}),Object(Rn.jsx)(no.CSSTransition,{in:t,timeout:{enter:300,exit:0},classNames:gr,mountOnEnter:!0,unmountOnExit:!0,appear:!0},Object(Rn.jsx)(Or,{className:"notification-container"},Object(Rn.jsx)(mr.a,{unreadCount:n,shouldPlay:!0}),n>0&&Object(Rn.jsx)(br,{className:"spr-chat__notification-box spr-live-chat-frame",theme:a},Object(Rn.jsx)(fr,{name:"spr-chat__notification-frame","aria-label":r(xa.a.liveChatNotification)},Object(Rn.jsx)(hr,{className:"center-x-y",count:n}))))))}));var Ir=()=>{const e=Object(fn.useRef)(null);return Object(Rn.jsx)(hn.a.Fragment,null,Object(Rn.jsx)(dr,{chatBoxFrameRef:e}),Object(Rn.jsx)(Va.a,null),Object(Rn.jsx)(jr,null),Object(Rn.jsx)(Xa,{ref:e}),Object(Rn.jsx)(Zo.b,{parentFrameRef:e}),Object(Rn.jsx)(sa,null),Object(Rn.jsx)(Yo.b,null))},Er=n(662),Cr=n(577),Tr=n(1022);const Sr=e=>Object(Rn.jsx)(Tr.a.Provider,{value:Object(fn.useState)(void 0)},e.children);var _r=n(1023),xr=n(1019),Ar=n(800),Rr=n(1041),Nr=n(802);const wr=hn.a.createContext("MODERN");var Lr=e=>Object(Rn.jsx)(wr.Provider,{value:e.skin},e.children),Dr=n(841),Mr=n(1044);var Pr=n(677),kr=n.n(Pr),Ur=n(501),Fr=n.n(Ur),Br=n(1457),Gr=n.n(Br),Vr=n(1458),zr=n.n(Vr),Wr=n(132),$r=n.n(Wr),Hr=n(630),Kr=n.n(Hr),qr=n(542),Yr=n(1045);const Xr="CLASSIC",Zr="MODERN",Jr="HYPERSPACE";var Qr=n(423),ei=n(480),ti=n(749),ni=n(636),oi=n(637);const ai=ti.a.CROSS;function ri(e){return Object(Qr.f)(e)||Object(Qr.e)(e)?e:qr.a.charcoal}const ii=ti.a.CHEVRON;function ci(e){return Object(Qr.f)(e)||Object(Qr.e)(e)?e:qr.a.charcoal}const si={[Xr]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:o},styles:a}=e,r=Object(Qr.c)(t.primary),i=(Object(Qr.h)(.1,t.primary,t.white),Object(Qr.d)(t.primary)),c=ri(t.primary),l=function(e){const t=ri(e);return t?Object(Qr.k)(Object(Qr.e)(t)?.95:.85,t):""}(t.primary),d=s()(a,"chatConversation.body.backgroundColor",t.white),u=Object(Qr.d)(d),p=Object(No.f)("trigger.closeIcon.type")({theme:e})||ai,b=s()(a,"chatMessage.secondary.backgroundColor",t.azure),{headerBackgroundColor:f,headerButtonHoverColor:h,headerContrastingColor:g}=Object(oi.b)(s()(a,"header",{}),t.primary);return{frame:{borderRadius:"8px",height:"600px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5,align:ni.a.TRIGGER_RIGHT_BOX_RIGHT},call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:ei.c.MEDIUM,variant:ei.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:t.white,color:i,fontFamily:o,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:s()(a,"header.gradients",`linear-gradient(64deg, ${Object(Qr.b)(t.primary).join(",")})`)},page:{minPadding:"2.5%",backgroundColor:Object(Qr.h)(.5,Object(Qr.k)(.85,t.charcoal),Object(Qr.k)(.95,t.primary))},button:{standard:{default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"},[ei.d.PRIMARY]:{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i,":hover":{backgroundColor:t.primary,borderColor:t.primary,position:"relative","::after":{backgroundColor:Object(Qr.e)(t.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:t.primary,borderColor:t.primary,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary}},[ei.d.SECONDARY]:{backgroundColor:t.white,borderColor:t.white,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:t.white,borderColor:t.charcoal},":disabled":{backgroundColor:t.white,borderColor:t.white,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i}},[ei.d.TERTIARY]:{backgroundColor:t.white,borderColor:t.primary,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:Object(Qr.e)(t.primary)?Object(Qr.j)(t.primary,.02):Object(Qr.j)(t.primary,.1)},":disabled":{backgroundColor:t.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:t.white,fill:t.white}},[ei.c.LARGE]:{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:18,fontSize:n.md},[ei.c.MEDIUM]:{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:16,fontSize:n.xs}}},card:{backgroundColor:t.white,borderRadius:"4px",lg:{paddingTop:24,paddingRight:20,paddingBottom:24,paddingLeft:20,title:{paddingTop:0,paddingRight:36,paddingBottom:0,paddingLeft:36,fontSize:n.lg,fontWeight:600,gutterWidth:20,textAlign:"center",color:t.charcoal}},sm:{paddingTop:24,paddingRight:20,paddingBottom:24,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:n.lg,fontWeight:500,gutterWidth:20,textAlign:"left",color:t.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:24,paddingRight:20,paddingBottom:0,paddingLeft:20,fontWeight:600,fontSize:n.lg,color:t.charcoal},summaryCard:{paddingTop:16,paddingRight:20,paddingBottom:16,paddingLeft:20},arrow:{icon:{fill:t.primary}},hoverStyles:{backgroundColor:t.water}}},notification:{color:t.white,backgroundColor:t.blue},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontWeight:"normal",fontSize:n.sm,paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:t.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:"600"},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"lg",gutterWidth:"12"}},chatMessage:{borderRadius:"4px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:t.primary,borderColor:t.primary,color:i},secondary:{backgroundColor:b,borderColor:t.azure,color:t.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:ni.e.VERTICAL},senderName:{align:ni.d.BOTTOM},attachment:{size:ni.b.FIXED,card:{title:{color:t.charcoal,fontWeight:700,textAlign:"center",fontSize:n.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:n.sm,textAlign:"left"},color:t.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:ei.a.CENTER,button:{size:ei.c.LARGE,variant:ei.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:t.charcoal,alignSelf:"center",fontWeight:600,textAlign:"center",fontSize:n.sm},paddingTop:20,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:20,buttonAndFieldsGutterWidth:8,button:{size:ei.c.MEDIUM,variant:ei.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:ei.c.MEDIUM,variant:ei.d.SECONDARY}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottomColor:t.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:t.white,marginTop:10,borderRadius:12,disabledStyles:{color:t.ash},selectedStyles:{backgroundColor:t.primary,color:t.white},neighboringMonth:{color:t.anchor}}}}}},chatConversation:{body:{backgroundColor:t.white,backgroundUrl:""},dateBubble:{color:u,backgroundColor:d,borderRadius:"20px",boxShadow:"0 2px 8px 0 rgba(10, 10, 20, 0.2)"},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:t.azure,option:{fontSize:n.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:t.charcoal,borderBottomWidth:1,borderBottomColor:t.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",borderTopColor:t.ash,paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:n.md,backgroundColor:t.white,placeholder:{color:t.anchor},disabledStyles:{backgroundColor:b},button:{default:{fontSize:n.md},primary:{color:t.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:t.primary}},secondary:{button:{},icon:{fill:t.anchor,hoverStyles:{fill:t.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:t.blue},icon:{height:16,width:16,fill:t.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{paddingTop:8,paddingRight:16,paddingBottom:8,paddingLeft:16,backgroundColor:t.charcoal,borderRadius:4},errorScreen:{icon:{height:40,width:40,fill:t.red},label:{fontSize:n.md,fontWeight:600,minHeight:0},button:{marginTop:32}},header:{backgroundColor:f,buttonGroupGutterWidth:"0",color:g,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:n.md,color:g},description:{fontSize:n.xs,color:g},icon:{fill:g,height:"14",width:"14"},button:{width:"40",height:"40",backgroundColor:"transparent",hoverStyles:{backgroundColor:h}},lg:{paddingTop:28,paddingBottom:0,paddingLeft:28,paddingRight:28,logo:{marginBottom:20,height:32},title:{fontWeight:300,fontSize:n.xxxxl},description:{marginTop:8,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:n.lg}}},input:{default:{borderColor:t.ash,fontSize:n.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,borderRadius:4,backgroundColor:t.white,color:t.charcoal,placeholderColor:t.anchor,hoverStyles:{borderColor:t.fossil},focusStyles:{borderColor:t.primary},errorStyles:{borderColor:t.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:t.fossil,hoverStyles:{fill:t.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:l},selectedStyles:{fontWeight:600,backgroundColor:l,borderLeftWidth:2,borderLeftColor:c}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:t.water,hoverStyles:{backgroundColor:t.azure},focusStyles:{backgroundColor:t.azure},selectedStyles:{backgroundColor:t.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:t.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:t.primary,borderColor:t.primary,backgroundColor:t.primary}},option:{fontSize:n.xs,color:t.charcoal}}},inputLabel:{fontSize:n.xs,fontWeight:500,color:t.anchor,labelAndInputGutterWidth:4,errorColor:t.anchor,activeColor:t.anchor},trigger:{align:ni.f.RIGHT,backgroundColor:t.primary,borderWidth:1,borderColor:t.primary,backgroundHoverColor:r,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:n.xs},removeIcon:{backgroundColor:t.charcoal,fill:t.white},icon:{type:"mic",color:i,height:26,width:26},closeIcon:{type:p,color:i,height:ni.g[p].height,width:ni.g[p].width}},link:{color:s()(a,["link","color"],"#0E61F6")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,direction:"column",removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(Qr.j)(t.charcoal,.6)},icon:{fill:qr.a.white,height:8,width:8}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:n.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)",fontWeight:400}}}},[Zr]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:o},styles:a}=e,r=Object(Qr.c)(t.primary),i=(Object(Qr.h)(.1,t.primary,t.white),Object(Qr.d)(t.primary)),c=ci(t.primary),l=function(e){const t=ci(e);return t?Object(Qr.k)(Object(Qr.e)(t)?.95:.85,t):""}(t.primary),d=s()(a,"chatConversation.body.backgroundColor",t.white),u=Object(Qr.d)(d),p=Object(No.f)("trigger.closeIcon.type")({theme:e})||ii,b=s()(a,"chatMessage.secondary.backgroundColor",t.azure),{headerBackgroundColor:f,headerButtonHoverColor:h,headerContrastingColor:g}=Object(oi.b)(s()(a,"header",{}),t.primary);return{frame:{borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5,align:ni.a.TRIGGER_RIGHT_BOX_RIGHT},call:{height:"240px",card:{appointmentBlock:{borderRadius:20,background:"linear-gradient(107deg, rgba(216, 201, 255, 0.25) 1%, rgba(213, 230, 255, 0.3))",paddingTop:12,paddingBottom:12,paddingLeft:20,paddingRight:20,marginTop:16,button:{size:ei.c.MEDIUM,variant:ei.d.PRIMARY,overrides:{marginTop:18}}}}},body:{backgroundColor:t.white,color:i,fontFamily:o,fontSize:"1.2rem",lineHeight:1.4,letterSpacing:-.12,gradients:s()(a,"header.gradients",`linear-gradient(64deg, ${Object(Qr.b)(t.primary).join(",")})`)},page:{minPadding:"2.5%",backgroundColor:Object(Qr.h)(.5,Object(Qr.k)(.85,t.charcoal),Object(Qr.k)(.95,t.primary))},button:{standard:{default:{display:"flex",justifyContent:"center",alignItems:"center",fontWeight:600,textAlign:"center"},[ei.d.PRIMARY]:{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i,":hover":{backgroundColor:t.primary,borderColor:t.primary,position:"relative","::after":{backgroundColor:Object(Qr.e)(t.primary)?"rgba(71, 71, 71, 0.2)":"rgba(71, 71, 71, 0.1)",top:0,bottom:0,left:0,right:0,position:"absolute",display:"block",content:'""',borderRadius:"inherit"}},":disabled":{backgroundColor:t.primary,borderColor:t.primary,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary}},[ei.d.SECONDARY]:{backgroundColor:t.white,borderColor:t.white,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:t.white,borderColor:t.charcoal},":disabled":{backgroundColor:t.white,borderColor:t.white,opacity:"0.5"},":selected":{backgroundColor:t.primary,borderColor:t.primary,color:i,fill:i}},[ei.d.TERTIARY]:{backgroundColor:t.white,borderColor:t.primary,color:t.charcoal,fill:t.charcoal,":hover":{backgroundColor:Object(Qr.e)(t.primary)?Object(Qr.j)(t.primary,.02):Object(Qr.j)(t.primary,.1)},":disabled":{backgroundColor:t.white,opacity:"0.5"},":selected":{backgroundColor:"#555555",borderColor:"#555555",color:t.white,fill:t.white}},[ei.c.LARGE]:{minHeight:36,minWidth:88,paddingTop:8,paddingLeft:24,paddingBottom:8,paddingRight:24,borderRadius:10,fontSize:n.md},[ei.c.MEDIUM]:{minHeight:32,minWidth:72,paddingTop:4,paddingLeft:16,paddingBottom:4,paddingRight:16,borderRadius:8,fontSize:n.xs}}},card:{backgroundColor:t.white,borderRadius:"10px",boxShadow:"0px 2px 15px 0px rgba(0, 0, 0, 0.15)",lg:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:20,paddingRight:10,paddingBottom:0,paddingLeft:10,fontSize:n.xxl,fontWeight:600,gutterWidth:42,textAlign:"left",color:t.charcoal}},sm:{paddingTop:20,paddingRight:20,paddingBottom:20,paddingLeft:20,title:{paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,fontSize:n.lg,fontWeight:600,gutterWidth:16,textAlign:"left",color:t.charcoal}},newConversation:{hand:{backgroundColor:"#FFEDF1"}},existingConversation:{header:{paddingTop:20,paddingRight:20,paddingBottom:12,paddingLeft:20,fontSize:n.lg,fontWeight:600,color:t.charcoal},summaryCard:{paddingTop:12,paddingRight:20,paddingBottom:12,paddingLeft:20},arrow:{icon:{fill:t.primary}},hoverStyles:{backgroundColor:t.water}}},notification:{color:t.white,backgroundColor:t.red},actionDialog:{minWidth:"200",maxWidth:"300",borderRadius:"4",actionItem:{fontSize:n.sm,fontWeight:"normal",paddingTop:"8",paddingRight:"16",paddingBottom:"8",paddingLeft:"16"}},confirmationBox:{backgroundColor:t.white,borderRadius:"8px",maxWidth:"316",margin:"28",paddingTop:"20",paddingRight:"20",paddingBottom:"20",paddingLeft:"20",header:{paddingBottom:"10",title:{fontSize:"16",fontWeight:600},iconButton:{icon:{height:"14",width:"14"},button:{height:"24",width:"24"}}},description:{fontSize:"13",paddingBottom:"24",minHeight:"0"},buttonGroup:{align:"end",size:"md",gutterWidth:"12"}},chatMessage:{borderRadius:"10px",paddingTop:"12px",paddingRight:"12px",paddingBottom:"12px",paddingLeft:"12px",primary:{backgroundColor:t.primary,borderColor:t.primary,color:i},secondary:{backgroundColor:b,borderColor:t.azure,color:t.charcoal},sender:{height:32,width:32,align:"bottom",gutterWidth:12},timeStamp:{align:ni.e.VERTICAL},senderName:{align:ni.d.BOTTOM},attachment:{size:ni.b.FIXED,card:{title:{color:t.charcoal,fontWeight:700,textAlign:"center",fontSize:n.sm,paddingTop:20,paddingBottom:0,paddingLeft:8,paddingRight:8},description:{fontSize:n.sm,textAlign:"left"},color:t.charcoal,paddingTop:0,paddingLeft:0,paddingRight:0,paddingBottom:6,titleAndDescriptionGutterWidth:16,contentAndButtonGutterWidth:16,buttonGroupGutterWidth:6,buttonAlign:ei.a.CENTER,button:{size:ei.c.LARGE,variant:ei.d.SECONDARY,overrides:{paddingTop:8,paddingBottom:8,paddingLeft:8,paddingRight:8,marginTop:0,marginLeft:6,marginRight:6,marginBottom:0,borderRadius:10}}},form:{title:{color:t.charcoal,alignSelf:"center",fontWeight:600,textAlign:"left",fontSize:n.sm},paddingTop:16,paddingBottom:20,paddingLeft:12,paddingRight:12,titleAndFieldsGutterWidth:20,fieldGroupGutterWidth:16,buttonAndFieldsGutterWidth:4,button:{size:ei.c.MEDIUM,variant:ei.d.PRIMARY}},appointment:{paddingTop:12,paddingBottom:12,paddingLeft:12,paddingRight:12,title:{fontSize:13,marginBottom:8},selectedDate:{marginBottom:8},timeSlots:{marginBottom:12,button:{size:ei.c.MEDIUM,variant:ei.d.SECONDARY}},calendar:{marginBottom:8,paddingTop:10,paddingBottom:10,paddingLeft:4,paddingRight:4,borderRadius:8,weekdays:{borderBottomColor:t.azure,fontWeight:400},date:{width:24,height:24,backgroundColor:t.white,marginTop:10,borderRadius:12,disabledStyles:{color:t.ash},selectedStyles:{backgroundColor:t.primary,color:t.white},neighboringMonth:{color:t.anchor}}}}}},chatConversation:{body:{backgroundColor:t.white,backgroundUrl:""},dateBubble:{color:u,backgroundColor:d,borderRadius:"14px",boxShadow:"0px 0px 6px 0px rgba(0, 0, 0, 0.15)"},faq:{paddingTop:8,paddingRight:24,paddingBottom:14,paddingLeft:24,borderTopWidth:1,borderTopColor:t.azure,option:{fontSize:n.md,paddingTop:16,paddingBottom:16,fontWeight:500,color:t.charcoal,borderBottomWidth:1,borderBottomColor:t.silver}},footer:{marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,chatMessageComposer:{borderRadius:"0 0 8px 8px",borderTopColor:t.ash,paddingTop:"18px",paddingRight:"24px",paddingBottom:"18px",paddingLeft:"24px",fontSize:n.md,backgroundColor:t.white,placeholder:{color:t.anchor},disabledStyles:{backgroundColor:b},button:{default:{fontSize:n.md},primary:{color:t.blue}},iconButton:{default:{button:{height:"36px",width:"36px"},icon:{height:"20px",width:"20px"}},primary:{button:{},icon:{fill:t.primary}},secondary:{button:{},icon:{fill:t.anchor,hoverStyles:{fill:t.primary}}}}},actions:{iconButton:{default:{button:{height:28,width:28,marginRight:8,borderRadius:20,backgroundColor:t.blue},icon:{height:16,width:16,fill:t.white}}}}},notification:{backgroundColor:"rgba(10, 10, 20, 0.7)"}},snackBar:{paddingTop:8,paddingRight:16,paddingBottom:8,paddingLeft:16,backgroundColor:t.charcoal,borderRadius:4},errorScreen:{icon:{height:40,width:40,fill:t.red},label:{fontSize:n.md,fontWeight:600,minHeight:0},button:{marginTop:32}},header:{backgroundColor:f,buttonGroupGutterWidth:"0",color:g,minHeight:"72px",paddingTop:"0px",paddingRight:"15px",paddingBottom:"0px",paddingLeft:"15px",title:{fontWeight:"500",fontSize:n.md,color:g},description:{fontSize:n.xs,color:g},icon:{fill:g,height:"14",width:"14"},button:{width:"40",height:"40",backgroundColor:"transparent",hoverStyles:{backgroundColor:h}},lg:{paddingTop:28,paddingBottom:20,paddingLeft:24,paddingRight:24,logo:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,height:26},title:{fontWeight:500,fontSize:n.xxxl},description:{marginTop:4,marginBottom:0,marginRight:0,marginLeft:0,fontWeight:400,fontSize:n.lg}}},input:{default:{fontSize:n.xs,paddingTop:0,paddingBottom:0,paddingLeft:8,paddingRight:8,minHeight:32,color:t.charcoal,backgroundColor:t.white,borderRadius:8,borderColor:t.ash,placeholderColor:t.anchor,hoverStyles:{borderColor:t.fossil},focusStyles:{borderColor:t.primary},errorStyles:{borderColor:t.red}},textArea:{paddingTop:8,paddingBottom:8,minHeight:64},selectBox:{optionsList:{paddingTop:4,paddingBottom:4,maxHeight:140},chevron:{height:10,width:10,fill:t.fossil,hoverStyles:{fill:t.primary}},option:{borderLeftWidth:2,borderLeftColor:"transparent",paddingLeft:12,paddingRight:12,paddingTop:8,paddingBottom:8,hoverStyles:{backgroundColor:l},selectedStyles:{fontWeight:600,backgroundColor:l,borderLeftWidth:2,borderLeftColor:c}}},phoneInput:{countrySelectBox:{width:50,backgroundColor:t.water,hoverStyles:{backgroundColor:t.azure},focusStyles:{backgroundColor:t.azure},selectedStyles:{backgroundColor:t.azure}}},checkboxGroup:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,checkboxesGutterWidth:12,backgroundColor:t.azure,checkbox:{width:14,height:14,borderRadius:1,boxAndOptionGutterWidth:8,selectedStyles:{fill:t.primary,borderColor:t.primary,backgroundColor:t.primary}},option:{fontSize:n.xs,color:t.charcoal}}},inputLabel:{fontSize:n.xs,fontWeight:500,color:t.anchor,labelAndInputGutterWidth:4,errorColor:t.anchor,activeColor:t.anchor},trigger:{align:ni.f.RIGHT,backgroundColor:t.primary,borderWidth:1,borderColor:t.primary,backgroundHoverColor:r,size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:n.xs},removeIcon:{backgroundColor:t.charcoal,fill:t.white},icon:{type:"mic",color:i,height:26,width:26},closeIcon:{type:p,color:i,height:ni.g[p].height,width:ni.g[p].width}},link:{color:s()(a,["link","color"],"#0E61F6")},proactivePrompt:{maxWidth:304,paddingTop:0,paddingLeft:8,paddingBottom:0,paddingRight:8,direction:"column",removeIconButton:{marginBottom:12,marginTop:0,marginLeft:0,marginRight:0,button:{height:28,width:28,backgroundColor:Object(Qr.j)(t.charcoal,.6)},icon:{height:8,width:8,fill:qr.a.white}},message:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.2)",borderRadius:10,paddingTop:20,paddingLeft:20,paddingBottom:20,paddingRight:20,fontSize:n.md},replyBox:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)"},button:{boxShadow:"0px 2px 8px 0px rgba(35, 47, 53, 0.09)",fontWeight:400}}}},[Jr]:e=>{const{colors:t,typography:{fontSizes:n,fontFamily:o},styles:a}=e;return{tombstone:{background:"linear-gradient(to right, #f8f8fa 0%, #dbdbdb 50%, #f8f8fa 100%)"},frame:{borderRadius:"16px",height:"700px",width:380,maximizedWidth:688,zIndex:2147483001,translateZ:1e5},body:{backgroundColor:t.white,color:"#ffffff",fontFamily:o,fontSize:"1.2rem",lineHeight:1.4,gradients:s()(a,"header.gradients",`linear-gradient(64deg, ${Object(Qr.b)(t.primary).join(",")})`)},link:{color:s()(a,["link","color"],"#0E61F6")},trigger:{align:"right",backgroundColor:"#0a0a14",borderWidth:1,borderColor:"#0a0a14",backgroundHoverColor:"#0240cb",size:60,boxShadow:"0px 1px 6px 0px rgba(0, 0, 0, 0.09), 0px 2px 32px 0px rgba(0, 0, 0, 0.15)",overlayIconButton:{button:{height:24,width:24},icon:{height:12,width:12},fontSize:"12px"},icon:{type:"collaborators",color:"#ffffff",height:26,width:26},closeIcon:{type:"cross",color:"#ffffff",height:14,width:14},xPadding:20,yPadding:30,border:"1px solid #1c62fd"},search:{backgroundColor:"#f8f8fd",hover:{borderColor:"#0e61f6"}},timestamp:{color:"#73737d"},createConversationButton:{borderColor:"#CAD3D6",hover:{borderColor:"#0e61f6"}},backIcon:{color:"#a9a9b2",hover:{color:"#0e61f6"}},receivedMessage:{backgroundColor:"#f5f5f5",color:"#0a0a14"},sentMessage:{backgroundColor:"#0a0a14",color:"#ffffff"},messageArea:{hover:{borderColor:"#0e61f6"}},sendIcon:{hover:{color:"#0e61f6"}}}}},li=(e,t)=>si[t](e),di={field:"userInfo.deviceType",fieldType:"EQUALS",values:["MOBILE"]},ui={[Xr]:e=>{const{typography:{fontSizes:t}}=e;return{page:{filters:[{value:{minPadding:"0"},filter:di}]},button:{standard:{[ei.c.LARGE]:{filters:[{value:{fontSize:t.lg},filter:di}]},[ei.c.MEDIUM]:{filters:[{value:{fontSize:t.sm},filter:di}]}}},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:t.lg},filter:di}]},description:{filters:[{value:{fontSize:t.lg},filter:di}]}},form:{title:{filters:[{value:{fontSize:t.lg},filter:di}]}}}},input:{default:{filters:[{value:{fontSize:t.lg,minHeight:36},filter:di}]},checkboxGroup:{option:{filters:[{value:{fontSize:t.lg},filter:di}]}}},inputLabel:{filters:[{value:{fontSize:t.lg},filter:di}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:t.lg},filter:di}]}},faq:{option:{filters:[{value:{fontSize:t.lg},filter:di}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:t.md},filter:di}]}},errorScreen:{label:{filters:[{value:{fontSize:t.lg},filter:di}]}},header:{title:{filters:[{value:{fontSize:t.lg},filter:di}]},description:{filters:[{value:{fontSize:t.md},filter:di}]},lg:{logo:{filters:[{value:{height:40},filter:di}]},title:{filters:[{value:{fontSize:t.xxxxxl},filter:di}]},description:{filters:[{value:{fontSize:t.xl},filter:di}]}}},card:{lg:{title:{filters:[{value:{fontSize:t.xl},filter:di}]}},sm:{title:{filters:[{value:{fontSize:t.xl},filter:di}]}}}}},[Zr]:e=>{const{typography:{fontSizes:t}}=e;return{page:{filters:[{value:{minPadding:"0"},filter:di}]},button:{standard:{[ei.c.LARGE]:{filters:[{value:{fontSize:t.lg},filter:di}]},[ei.c.MEDIUM]:{filters:[{value:{fontSize:t.sm,minHeight:36},filter:di}]}}},chatMessage:{attachment:{card:{title:{filters:[{value:{fontSize:t.lg},filter:di}]},description:{filters:[{value:{fontSize:t.lg},filter:di}]}},form:{title:{filters:[{value:{fontSize:t.lg},filter:di}]}}}},input:{default:{filters:[{value:{fontSize:t.lg},filter:di}]},checkboxGroup:{option:{filters:[{value:{fontSize:t.lg},filter:di}]}}},inputLabel:{filters:[{value:{fontSize:t.lg},filter:di}]},chatConversation:{footer:{chatMessageComposer:{filters:[{value:{fontSize:t.lg},filter:di}]}},faq:{option:{filters:[{value:{fontSize:t.lg},filter:di}]}}},actionDialog:{actionItem:{filters:[{value:{fontSize:t.md},filter:di}]}},errorScreen:{errorLabel:{filters:[{value:{fontSize:t.lg},filter:di}]}},header:{title:{filters:[{value:{fontSize:t.lg},filter:di}]},description:{filters:[{value:{fontSize:t.md},filter:di}]},lg:{logo:{filters:[{value:{height:40},filter:di}]},description:{filters:[{value:{fontSize:t.xl},filter:di}]}}}}},[Jr]:()=>({})},pi=(e,t)=>ui[t](e);function bi(e,t){if(!pe()(e)||d()(e))return t;const n=zr()(e);return Da()(t,((t,o)=>{n[o]=de()(t)?Fr()(Gr()(e[o],t)):bi(e[o],t)})),n}const fi=e=>({...e,colors:$r()({},qr.a,e.colors)}),hi=e=>({...e,typography:Object(Yr.a)(e.typography)}),gi=(e,t)=>({...t,styles:Object(oi.a)($r()({},li(t,e),t.styles))}),yi=(e,t)=>({...t,styleFilters:bi(pi(t,e),t.styleFilters)});var Oi=e=>{const t=Object(fn.useContext)(wr),n=Object(fn.useMemo)((()=>((e,t)=>Kr()([fi,hi,kr()(gi,t),kr()(yi,t)])(e))(e.theme,t)),[e.theme,t]);return Object(Rn.jsx)(to.a,{theme:n},e.children)};const mi={theme:{},direction:"ltr",device:"DESKTOP",skin:"CLASSIC",intl:{locale:"en",messages:{},defaultLocale:"en"},ownerDocument:window.document},vi=e=>{let{theme:t,direction:n,device:o,skin:a,ownerDocument:r,intl:i,children:c}=e;const s=Object(fn.useMemo)((()=>{return e=r,Object(Nr.a)({container:e.head});var e}),[r]);return Object(Rn.jsx)(Rn.CacheProvider,{value:s},Object(Rn.jsx)(eo.e,i,Object(Rn.jsx)(Lr,{skin:a},Object(Rn.jsx)(Oi,{theme:t},Object(Rn.jsx)(Mr.b,{direction:n},Object(Rn.jsx)(Dr.b,{device:o},c))))))};vi.defaultProps=mi;var ji=vi,Ii=n(520),Ei=n(399),Ci=n(1028);var Ti=hn.a.memo(Object(eo.h)((e=>{const t=Object(Ii.a)(),n=Object(Ei.a)(),o=Object(Pn.a)(),a=Object(Ci.a)(),r=Object(fn.useMemo)((()=>({locale:e.intl.locale,messages:e.intl.messages,defaultLocale:e.intl.defaultLocale})),[e.intl]);return Object(Rn.jsx)(ji,{ownerDocument:window.parent.document,theme:o.otherConfigs.theme,direction:n.direction,device:t.device,skin:a,intl:r},e.children)}))),Si=n(1039),_i=n(122),xi=n.n(_i);const Ai=e=>{let{id:t,filters:n}=e;const o=Object(Un.a)(n);return Object(fn.useEffect)((()=>{Object(be.a)({topic:ye,payload:{data:{id:t,filters:n,results:de()(o)?xi()(o,(e=>e.hasPassed)):o.hasPassed}}})}),[o,n]),null},Ri=e=>Object(Fn.b)(Object(Bn.b)(e)),Ni=hn.a.memo((e=>{const t=Object(Nn.d)(Ri);return Object(Rn.jsx)(hn.a.Fragment,null,xi()(t,((e,t)=>Object(Rn.jsx)(Ai,{key:t,id:t,filters:e}))),e.children)}));var wi=n(1302),Li=n(439),Di=n(635);var Mi=function(e){let{applicationConfig:t,store:n,history:o}=e;const a=Object(u.b)(),r=Object(p.K)()?Na:Ir,i=Object(fn.useCallback)((e=>Object(Li.e)(Object(Bn.g)(n.getState()),e)),[]),c=Object(fn.useMemo)((()=>Object(Di.a)(a.document)),[a.document]);return Object(fn.useEffect)((()=>{n.dispatch(Object(An.d)())}),[n]),Object(Rn.jsx)(Rn.CacheProvider,{value:c},Object(Rn.jsx)(Ar.a,{window:a},Object(Rn.jsx)(Nn.a,{store:n},Object(Rn.jsx)(Ln.b,null,Object(Rn.jsx)(Sr,null,Object(Rn.jsx)(Zn,null,Object(Rn.jsx)(Jn.b.Provider,{value:t},Object(Rn.jsx)(xr.a,null,Object(Rn.jsx)(Ni,null,Object(Rn.jsx)(wi.b,null,Object(Rn.jsx)(zn,null,Object(Rn.jsx)(Cr.a,{locale:Object(u.a)().locale,applicationConfig:t},Object(Rn.jsx)(Ti,null,Object(Rn.jsx)(Ga,null,Object(Rn.jsx)(wa.b.Provider,{value:i},Object(Rn.jsx)(_r.a,null,Object(Rn.jsx)(wn.b,null,Object(Rn.jsx)(Er.a,null,Object(Rn.jsx)(Rr.a.Provider,{value:o},Object(Rn.jsx)(xn,{history:o},Object(Rn.jsx)(Si.b,null,Object(Rn.jsx)(qn,null,Object(Rn.jsx)(r,null)))))))))))))))))))))))},Pi=n(482),ki=function(e){return"@@redux-saga/"+e},Ui=ki("CANCEL_PROMISE"),Fi=ki("CHANNEL_END"),Bi=ki("IO"),Gi=ki("MATCH"),Vi=ki("MULTICAST"),zi=ki("SAGA_ACTION"),Wi=ki("SELF_CANCELLATION"),$i=ki("TASK"),Hi=ki("TASK_CANCEL"),Ki=ki("TERMINATE"),qi=ki("LOCATION"),Yi=n(536),Xi=n(629),Zi=function(e){return null===e||void 0===e},Ji=function(e){return null!==e&&void 0!==e},Qi=function(e){return"function"===typeof e},ec=function(e){return"string"===typeof e},tc=Array.isArray,nc=function(e){return e&&Qi(e.then)},oc=function(e){return e&&Qi(e.next)&&Qi(e.throw)},ac=function e(t){return t&&(ec(t)||cc(t)||Qi(t)||tc(t)&&t.every(e))},rc=function(e){return e&&Qi(e.take)&&Qi(e.close)},ic=function(e){return Qi(e)&&e.hasOwnProperty("toString")},cc=function(e){return Boolean(e)&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype};var sc=function(e,t){var n;void 0===t&&(t=!0);var o=new Promise((function(o){n=setTimeout(o,e,t)}));return o[Ui]=function(){clearTimeout(n)},o},lc=function(e){return function(){return e}}(!0),dc=function(){};var uc=function(e){return e};"function"===typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator;var pc=function(e,t){Object(Yi.a)(e,t),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach((function(n){e[n]=t[n]}))};function bc(e,t){var n=e.indexOf(t);n>=0&&e.splice(n,1)}function fc(e){var t=!1;return function(){t||(t=!0,e())}}var hc=function(e){throw e},gc=function(e){return{value:e,done:!0}};function yc(e,t,n){void 0===t&&(t=hc),void 0===n&&(n="iterator");var o={meta:{name:n},next:e,throw:t,return:gc,isSagaIterator:!0};return"undefined"!==typeof Symbol&&(o[Symbol.iterator]=function(){return o}),o}function Oc(e,t){var n=t.sagaStack;console.error(e),console.error(n)}var mc=function(e){return Array.apply(null,new Array(e))},vc=function(e){return function(t){return e(Object.defineProperty(t,zi,{value:!0}))}},jc=function(e){return e===Ki},Ic=function(e){return e===Hi},Ec=function(e){return jc(e)||Ic(e)};function Cc(e,t){var n=Object.keys(e),o=n.length;var a,r=0,i=tc(e)?mc(o):{},c={};return n.forEach((function(e){var n=function(n,c){a||(c||Ec(n)?(t.cancel(),t(n,c)):(i[e]=n,++r===o&&(a=!0,t(i))))};n.cancel=dc,c[e]=n})),t.cancel=function(){a||(a=!0,n.forEach((function(e){return c[e].cancel()})))},c}function Tc(e){return{name:e.name||"anonymous",location:Sc(e)}}function Sc(e){return e[qi]}var _c={isEmpty:lc,put:dc,take:dc};function xc(e,t){void 0===e&&(e=10);var n=new Array(e),o=0,a=0,r=0,i=function(t){n[a]=t,a=(a+1)%e,o++},c=function(){if(0!=o){var t=n[r];return n[r]=null,o--,r=(r+1)%e,t}},s=function(){for(var e=[];o;)e.push(c());return e};return{isEmpty:function(){return 0==o},put:function(c){var l;if(o<e)i(c);else switch(t){case 1:throw new Error("Channel's Buffer overflow!");case 3:n[a]=c,r=a=(a+1)%e;break;case 4:l=2*e,n=s(),o=n.length,a=n.length,r=0,n.length=l,e=l,i(c)}},take:c,flush:s}}var Ac=function(){return _c},Rc=function(e){return xc(e,3)},Nc=function(e){return xc(e,4)},wc=Object.freeze({__proto__:null,none:Ac,fixed:function(e){return xc(e,1)},dropping:function(e){return xc(e,2)},sliding:Rc,expanding:Nc}),Lc="TAKE",Dc="PUT",Mc="ALL",Pc="RACE",kc="CALL",Uc="FORK",Fc="CANCEL",Bc="SELECT",Gc="ACTION_CHANNEL",Vc="CANCELLED",zc=function(e,t){var n;return(n={})[Bi]=!0,n.combinator=!1,n.type=e,n.payload=t,n},Wc=function(e){return zc(Uc,Object(Yi.a)({},e.payload,{detached:!0}))};function $c(e,t){return void 0===e&&(e="*"),ac(e)?zc(Lc,{pattern:e}):rc(n=e)&&n[Vi]&&Ji(t)&&ac(t)?zc(Lc,{channel:e,pattern:t}):rc(e)?zc(Lc,{channel:e}):void 0;var n}function Hc(e,t){return Zi(t)&&(t=e,e=void 0),zc(Dc,{channel:e,action:t})}function Kc(e){var t=zc(Mc,e);return t.combinator=!0,t}function qc(e){var t=zc(Pc,e);return t.combinator=!0,t}function Yc(e,t){var n,o=null;return Qi(e)?n=e:(tc(e)?(o=e[0],n=e[1]):(o=e.context,n=e.fn),o&&ec(n)&&Qi(o[n])&&(n=o[n])),{context:o,fn:n,args:t}}function Xc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return zc(kc,Yc(e,n))}function Zc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return zc(Uc,Yc(e,n))}function Jc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return Wc(Zc.apply(void 0,[e].concat(n)))}function Qc(e){return void 0===e&&(e=Wi),zc(Fc,e)}function es(e){void 0===e&&(e=uc);for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return zc(Bc,{selector:e,args:n})}function ts(e,t){return zc(Gc,{pattern:e,buffer:t})}var ns=Xc.bind(null,sc);function os(){var e={};return e.promise=new Promise((function(t,n){e.resolve=t,e.reject=n})),e}var as=os,rs=[],is=0;function cs(e){try{ds(),e()}finally{us()}}function ss(e){rs.push(e),is||(ds(),ps())}function ls(e){try{return ds(),e()}finally{ps()}}function ds(){is++}function us(){is--}function ps(){var e;for(us();!is&&void 0!==(e=rs.shift());)cs(e)}var bs=function(e){return function(t){return e.some((function(e){return Os(e)(t)}))}},fs=function(e){return function(t){return e(t)}},hs=function(e){return function(t){return t.type===String(e)}},gs=function(e){return function(t){return t.type===e}},ys=function(){return lc};function Os(e){var t="*"===e?ys:ec(e)?hs:tc(e)?bs:ic(e)?hs:Qi(e)?fs:cc(e)?gs:null;if(null===t)throw new Error("invalid pattern: "+e);return t(e)}var ms={type:Fi},vs=function(e){return e&&e.type===Fi};function js(e){void 0===e&&(e=Nc());var t=!1,n=[];return{take:function(o){t&&e.isEmpty()?o(ms):e.isEmpty()?(n.push(o),o.cancel=function(){bc(n,o)}):o(e.take())},put:function(o){if(!t){if(0===n.length)return e.put(o);n.shift()(o)}},flush:function(n){t&&e.isEmpty()?n(ms):n(e.flush())},close:function(){if(!t){t=!0;var e=n;n=[];for(var o=0,a=e.length;o<a;o++){(0,e[o])(ms)}}}}}function Is(e,t){void 0===t&&(t=Ac());var n,o=!1,a=js(t),r=function(){o||(o=!0,Qi(n)&&n(),a.close())};return n=fc(n=e((function(e){vs(e)?r():a.put(e)}))),o&&n(),{take:a.take,flush:a.flush,close:r}}function Es(){var e=function(){var e,t=!1,n=[],o=n,a=function(){o===n&&(o=n.slice())},r=function(){t=!0;var e=n=o;o=[],e.forEach((function(e){e(ms)}))};return(e={})[Vi]=!0,e.put=function(e){if(!t)if(vs(e))r();else for(var a=n=o,i=0,c=a.length;i<c;i++){var s=a[i];s[Gi](e)&&(s.cancel(),s(e))}},e.take=function(e,n){void 0===n&&(n=ys),t?e(ms):(e[Gi]=n,a(),o.push(e),e.cancel=fc((function(){a(),bc(o,e)})))},e.close=r,e}(),t=e.put;return e.put=function(e){e[zi]?t(e):ss((function(){t(e)}))},e}function Cs(e,t){var n=e[Ui];Qi(n)&&(t.cancel=n),e.then(t,(function(e){t(e,!0)}))}var Ts,Ss=0,_s=function(){return++Ss};function xs(e){e.isRunning()&&e.cancel()}var As=((Ts={}).TAKE=function(e,t,n){var o=t.channel,a=void 0===o?e.channel:o,r=t.pattern,i=t.maybe,c=function(e){e instanceof Error?n(e,!0):!vs(e)||i?n(e):n(Ki)};try{a.take(c,Ji(r)?Os(r):null)}catch(s){return void n(s,!0)}n.cancel=c.cancel},Ts.PUT=function(e,t,n){var o=t.channel,a=t.action,r=t.resolve;ss((function(){var t;try{t=(o?o.put:e.dispatch)(a)}catch(i){return void n(i,!0)}r&&nc(t)?Cs(t,n):n(t)}))},Ts.ALL=function(e,t,n,o){var a=o.digestEffect,r=Ss,i=Object.keys(t);if(0!==i.length){var c=Cc(t,n);i.forEach((function(e){a(t[e],r,c[e],e)}))}else n(tc(t)?[]:{})},Ts.RACE=function(e,t,n,o){var a=o.digestEffect,r=Ss,i=Object.keys(t),c=tc(t)?mc(i.length):{},s={},l=!1;i.forEach((function(e){var t=function(t,o){l||(o||Ec(t)?(n.cancel(),n(t,o)):(n.cancel(),l=!0,c[e]=t,n(c)))};t.cancel=dc,s[e]=t})),n.cancel=function(){l||(l=!0,i.forEach((function(e){return s[e].cancel()})))},i.forEach((function(e){l||a(t[e],r,s[e],e)}))},Ts.CALL=function(e,t,n,o){var a=t.context,r=t.fn,i=t.args,c=o.task;try{var s=r.apply(a,i);if(nc(s))return void Cs(s,n);if(oc(s))return void Us(e,s,c.context,Ss,Tc(r),!1,n);n(s)}catch(l){n(l,!0)}},Ts.CPS=function(e,t,n){var o=t.context,a=t.fn,r=t.args;try{var i=function(e,t){Zi(e)?n(t):n(e,!0)};a.apply(o,r.concat(i)),i.cancel&&(n.cancel=i.cancel)}catch(c){n(c,!0)}},Ts.FORK=function(e,t,n,o){var a=t.context,r=t.fn,i=t.args,c=t.detached,s=o.task,l=function(e){var t=e.context,n=e.fn,o=e.args;try{var a=n.apply(t,o);if(oc(a))return a;var r=!1;return yc((function(e){return r?{value:e,done:!0}:(r=!0,{value:a,done:!nc(a)})}))}catch(i){return yc((function(){throw i}))}}({context:a,fn:r,args:i}),d=function(e,t){return e.isSagaIterator?{name:e.meta.name}:Tc(t)}(l,r);ls((function(){var t=Us(e,l,s.context,Ss,d,c,void 0);c?n(t):t.isRunning()?(s.queue.addTask(t),n(t)):t.isAborted()?s.queue.abort(t.error()):n(t)}))},Ts.JOIN=function(e,t,n,o){var a=o.task,r=function(e,t){if(e.isRunning()){var n={task:a,cb:t};t.cancel=function(){e.isRunning()&&bc(e.joiners,n)},e.joiners.push(n)}else e.isAborted()?t(e.error(),!0):t(e.result())};if(tc(t)){if(0===t.length)return void n([]);var i=Cc(t,n);t.forEach((function(e,t){r(e,i[t])}))}else r(t,n)},Ts.CANCEL=function(e,t,n,o){var a=o.task;t===Wi?xs(a):tc(t)?t.forEach(xs):xs(t),n()},Ts.SELECT=function(e,t,n){var o=t.selector,a=t.args;try{n(o.apply(void 0,[e.getState()].concat(a)))}catch(r){n(r,!0)}},Ts.ACTION_CHANNEL=function(e,t,n){var o=t.pattern,a=js(t.buffer),r=Os(o),i=function t(n){vs(n)||e.channel.take(t,r),a.put(n)},c=a.close;a.close=function(){i.cancel(),c()},e.channel.take(i,r),n(a)},Ts.CANCELLED=function(e,t,n,o){n(o.task.isCancelled())},Ts.FLUSH=function(e,t,n){t.flush(n)},Ts.GET_CONTEXT=function(e,t,n,o){n(o.task.context[t])},Ts.SET_CONTEXT=function(e,t,n,o){var a=o.task;pc(a.context,t),n()},Ts);function Rs(e,t){return e+"?"+t}function Ns(e){var t=e.name,n=e.location;return n?t+"  "+Rs(n.fileName,n.lineNumber):t}function ws(e){var t=function(e,t){var n;return(n=[]).concat.apply(n,t.map(e))}((function(e){return e.cancelledTasks}),e);return t.length?["Tasks cancelled due to error:"].concat(t).join("\n"):""}var Ls=null,Ds=[],Ms=function(){Ls=null,Ds.length=0},Ps=function(){var e=Ds[0],t=Ds.slice(1),n=e.crashedEffect?function(e){var t=Sc(e);return t?t.code+"  "+Rs(t.fileName,t.lineNumber):""}(e.crashedEffect):null;return["The above error occurred in task "+Ns(e.meta)+(n?" \n when executing effect "+n:"")].concat(t.map((function(e){return"    created by "+Ns(e.meta)})),[ws(Ds)]).join("\n")};function ks(e,t,n,o,a,r,i){var c;void 0===i&&(i=dc);var s,l,d=0,u=null,p=[],b=Object.create(n),f=function(e,t,n){var o,a=[],r=!1;function i(e){t(),s(),n(e,!0)}function c(t){a.push(t),t.cont=function(c,s){r||(bc(a,t),t.cont=dc,s?i(c):(t===e&&(o=c),a.length||(r=!0,n(o))))}}function s(){r||(r=!0,a.forEach((function(e){e.cont=dc,e.cancel()})),a=[])}return c(e),{addTask:c,cancelAll:s,abort:i,getTasks:function(){return a}}}(t,(function(){p.push.apply(p,f.getTasks().map((function(e){return e.meta.name})))}),h);function h(t,n){if(n){if(d=2,(r={meta:a,cancelledTasks:p}).crashedEffect=Ls,Ds.push(r),g.isRoot){var o=Ps();Ms(),e.onError(t,{sagaStack:o})}l=t,u&&u.reject(t)}else t===Hi?d=1:1!==d&&(d=3),s=t,u&&u.resolve(t);var r;g.cont(t,n),g.joiners.forEach((function(e){e.cb(t,n)})),g.joiners=null}var g=((c={})[$i]=!0,c.id=o,c.meta=a,c.isRoot=r,c.context=b,c.joiners=[],c.queue=f,c.cancel=function(){0===d&&(d=1,f.cancelAll(),h(Hi,!1))},c.cont=i,c.end=h,c.setContext=function(e){pc(b,e)},c.toPromise=function(){return u||(u=as(),2===d?u.reject(l):0!==d&&u.resolve(s)),u.promise},c.isRunning=function(){return 0===d},c.isCancelled=function(){return 1===d||0===d&&1===t.status},c.isAborted=function(){return 2===d},c.result=function(){return s},c.error=function(){return l},c);return g}function Us(e,t,n,o,a,r,i){var c=e.finalizeRunEffect((function(t,n,o){if(nc(t))Cs(t,o);else if(oc(t))Us(e,t,l.context,n,a,!1,o);else if(t&&t[Bi]){(0,As[t.type])(e,t.payload,o,d)}else o(t)}));u.cancel=dc;var s={meta:a,cancel:function(){0===s.status&&(s.status=1,u(Hi))},status:0},l=ks(e,s,n,o,a,r,i),d={task:l,digestEffect:p};return i&&(i.cancel=l.cancel),u(),l;function u(e,n){try{var a;n?(a=t.throw(e),Ms()):Ic(e)?(s.status=1,u.cancel(),a=Qi(t.return)?t.return(Hi):{done:!0,value:Hi}):a=jc(e)?Qi(t.return)?t.return():{done:!0}:t.next(e),a.done?(1!==s.status&&(s.status=3),s.cont(a.value)):p(a.value,o,u)}catch(r){if(1===s.status)throw r;s.status=2,s.cont(r,!0)}}function p(t,n,o,a){void 0===a&&(a="");var r,i=_s();function s(n,a){r||(r=!0,o.cancel=dc,e.sagaMonitor&&(a?e.sagaMonitor.effectRejected(i,n):e.sagaMonitor.effectResolved(i,n)),a&&function(e){Ls=e}(t),o(n,a))}e.sagaMonitor&&e.sagaMonitor.effectTriggered({effectId:i,parentEffectId:n,label:a,effect:t}),s.cancel=dc,o.cancel=function(){r||(r=!0,s.cancel(),s.cancel=dc,e.sagaMonitor&&e.sagaMonitor.effectCancelled(i))},c(t,i,s)}}function Fs(e,t){var n=e.channel,o=void 0===n?Es():n,a=e.dispatch,r=e.getState,i=e.context,c=void 0===i?{}:i,s=e.sagaMonitor,l=e.effectMiddlewares,d=e.onError,u=void 0===d?Oc:d;for(var p=arguments.length,b=new Array(p>2?p-2:0),f=2;f<p;f++)b[f-2]=arguments[f];var h=t.apply(void 0,b);var g,y=_s();if(s&&(s.rootSagaStarted=s.rootSagaStarted||dc,s.effectTriggered=s.effectTriggered||dc,s.effectResolved=s.effectResolved||dc,s.effectRejected=s.effectRejected||dc,s.effectCancelled=s.effectCancelled||dc,s.actionDispatched=s.actionDispatched||dc,s.rootSagaStarted({effectId:y,saga:t,args:b})),l){var O=Pi.d.apply(void 0,l);g=function(e){return function(t,n,o){return O((function(t){return e(t,n,o)}))(t)}}}else g=uc;var m={channel:o,dispatch:vc(a),getState:r,sagaMonitor:s,onError:u,finalizeRunEffect:g};return ls((function(){var e=Us(m,h,c,y,Tc(t),!0,void 0);return s&&s.effectResolved(y,e),e}))}var Bs=function(e){var t,n=void 0===e?{}:e,o=n.context,a=void 0===o?{}:o,r=n.channel,i=void 0===r?Es():r,c=n.sagaMonitor,s=Object(Xi.a)(n,["context","channel","sagaMonitor"]);function l(e){var n=e.getState,o=e.dispatch;return t=Fs.bind(null,Object(Yi.a)({},s,{context:a,channel:i,dispatch:o,getState:n,sagaMonitor:c})),function(e){return function(t){c&&c.actionDispatched&&c.actionDispatched(t);var n=e(t);return i.put(t),n}}}return l.run=function(){return t.apply(void 0,arguments)},l.setContext=function(e){pc(a,e)},l},Gs=Bs,Vs=n(959),zs=n(485),Ws=n(441);const $s=(e,t)=>`${$t.a.getParnterId(t)}_${$t.a.getAppId(t)}_${Ws.a.getId(zs.a.getChatUser(e))}_${Date.now()}_${Math.random().toString(16).substr(2,8)}`;let Hs;const Ks=()=>Hs;const qs=new(n(1295).a)({middlewares:[],getContext:()=>Promise.resolve({})});var Ys=qs;class Xs{constructor(){this.data={}}setReducer(e){return this.data.reducer=e,this}setSaga(e){return this.data.saga=e,this}setPreloadedState(e){return this.data.preloadedState=e,this}setHTTPClient(e){return this.data.httpClient=e,this}setApplicationConfig(e){return e&&(this.data.applicationConfig=e),this}setHandshakeDetails(e){return e&&(this.data.handshakeDetails=e),this}setChatSettings(e){return e&&(this.data.chatSettings=e),this}build(){const{applicationConfig:e,handshakeDetails:t,chatSettings:n,httpClient:o,reducer:a,preloadedState:r,saga:i}=this.data,c=n.clientContext;jn()(o,"HTTP Client is not configured"),(e=>{qs.clone(e)})(o),((e,t)=>{const n=zs.a.getChatSessionToken(e),o=$s(e,t),a=zs.a.getInboxServerUrl(e),r=zs.a.getUserInbox(e);Hs=new Vs.a({userName:n,clientId:o,inboxServerUrl:a,userInbox:r})})(t,e),jn()(a,"Reducer is not configured");const s=[];const l=Gs();s.push(l);const d=Object(Pi.e)(a,r,Object(Pi.a)(...s));i&&l.run(i);const u={payload:{applicationConfig:e,handshakeDetails:t,clientContext:c},type:Kn.a};return d.dispatch(u),this.data.store=d,d}}var Zs=function(e){return{done:!0,value:e}},Js={};function Qs(e){return rc(e)?"channel":ic(e)?String(e):Qi(e)?e.name:String(e)}function el(e,t,n){var o,a,r,i=t;function c(t,n){if(i===Js)return Zs(t);if(n&&!a)throw i=Js,n;o&&o(t);var c=n?e[a](n):e[i]();return i=c.nextState,r=c.effect,o=c.stateUpdater,a=c.errorState,i===Js?Zs(t):r}return yc(c,(function(e){return c(null,e)}),n)}function tl(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var r,i={done:!1,value:$c(e)},c=function(e){return{done:!1,value:Zc.apply(void 0,[t].concat(o,[e]))}},s=function(e){return r=e};return el({q1:function(){return{nextState:"q2",effect:i,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(r)}}},"q1","takeEvery("+Qs(e)+", "+t.name+")")}function nl(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var r,i,c={done:!1,value:$c(e)},s=function(e){return{done:!1,value:Zc.apply(void 0,[t].concat(o,[e]))}},l=function(e){return{done:!1,value:Qc(e)}},d=function(e){return r=e},u=function(e){return i=e};return el({q1:function(){return{nextState:"q2",effect:c,stateUpdater:u}},q2:function(){return r?{nextState:"q3",effect:l(r)}:{nextState:"q1",effect:s(i),stateUpdater:d}},q3:function(){return{nextState:"q1",effect:s(i),stateUpdater:d}}},"q1","takeLatest("+Qs(e)+", "+t.name+")")}function ol(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];var r,i={done:!1,value:$c(e)},c=function(e){return{done:!1,value:Xc.apply(void 0,[t].concat(o,[e]))}},s=function(e){return r=e};return el({q1:function(){return{nextState:"q2",effect:i,stateUpdater:s}},q2:function(){return{nextState:"q1",effect:c(r)}}},"q1","takeLeading("+Qs(e)+", "+t.name+")")}function al(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return Zc.apply(void 0,[tl,e,t].concat(o))}var rl=n(512),il=n.n(rl);function cl(e){const t=()=>{Ks().disconnect().then((()=>{Object(g.a)("MQTT Client | Disconnected")})).catch((e=>{Object(dn.f)(e)?console.warn(e):console.error(`MQTT Client | Disconnection Error ${e}`)}))};try{Ks().connect().catch((e=>{Object(dn.f)(e)?console.warn(e):console.error(`MQTT Client | Connection Error ${e}`)})),function(){const e=Ks();e.on("error",(()=>{Object(g.a)("MQTT Client | Error")})),e.on("offline",(()=>{Object(g.a)("MQTT Client | Offline")})),e.on("reconnect",(()=>{Object(g.a)("MQTT Client | Reconnect")})),e.on("close",(()=>{Object(g.a)("MQTT Client | Closed")}))}(),Ks().subscribe().catch((e=>{Object(dn.f)(e)?console.warn(e):console.error(`MQTT client | Subscribe Error ${e}`)})),Ks().on("message",((t,n)=>{try{const t=JSON.parse(n.toString());e(t)}catch(o){Object(_t.b)(o)}}))}catch(n){Object(_t.b)(n),t()}return t}var sl=n(827),ll=n.n(sl);var dl=class{constructor(e,t){if(this.poll=()=>{this.isActive&&(this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.enableBackOff&&(this.interval=this.interval+this.baseInterval),this.poll()}))}),this.interval))},this.start=e=>{this.isActive||(this.isActive=!0,this.timeoutId=window.setTimeout((()=>{this.handler().finally((()=>{this.poll()}))}),e||0))},this.stop=()=>{this.isActive=!1,this.timeoutId&&(window.clearTimeout(this.timeoutId),this.timeoutId=void 0),this.enableBackOff&&(this.interval=this.baseInterval)},!e)throw new Error("No poll handler defined");var n;this.handler=(n=e,()=>n().catch((()=>{}))),this.baseInterval=t.pollInterval,this.enableBackOff=t.enableBackOff,this.interval=t.pollInterval,this.timeoutId=void 0,this.isActive=!1}},ul=n(434);function pl(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return Ys.post("/livechat/event/publish",Object.assign({type:e.type},e.payload))}))}const bl=()=>{return"A_"+(e=Date.now(),`${Math.floor(e/1e3).toString(16)}0000000000000000`);var e},fl=ll()((()=>{let e=bl();return{set:t=>{e=t||e},get:()=>e}}));let hl=!0;function gl(e,t){const n=fl();return new dl((function(){return function(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){const{cursor:t,lastActiveDiff:n}=e||tn.a;return(yield Ys.post("/livechat/event/fetch-notifications"+(t?`?cursor=${t}`:""),{lastActiveDiff:n},{backoff:!0,headers:{"X-CHAT-AUTO":!0}})).data}))}({cursor:n.get(),lastActiveDiff:t.getLastActiveTimeDifference()}).then((t=>{const{results:o,afterCursor:a}=t;e(null,o,{isFirstCall:hl}),hl=!1,n.set(a)})).catch((t=>{e(Object(dn.c)(t)?t:null,[],{})}))}),Object.assign(Object.assign({},t||{}),{pollInterval:15e3}))}var yl=n(1875);const Ol=Object(yl.a)(["payload","type"]),ml=Object(Ut.a)("conversationId"),vl=Object(Ut.a)("sender"),jl=Object(Ut.a)("payload"),Il=Object(Ut.a)("creationTime");class El{}El.getMessageType=Object(Ft.a)(Ol),El.getConversationId=Object(Ft.a)(ml),El.getSender=Object(Ft.a)(vl),El.getCreationTime=Object(Ft.a)(Il),El.getPayload=e=>Object(Ft.a)(jl)(e);var Cl=n(521);const Tl={[Ze]:e=>({payload:{conversationId:El.getConversationId(e),messageId:El.getPayload(e).messageId},type:Ze}),[Je]:e=>({payload:{conversationId:El.getConversationId(e),messageId:El.getPayload(e).messageId},type:Je}),[Qe]:e=>({payload:Object.assign(Object.assign({},Mt()(e.payload.externalEvent,["type","action","conversationId","payload"])),{actionType:El.getPayload(e).externalEvent.action,externalParams:El.getPayload(e).externalEvent.payload,contextId:El.getConversationId(e)}),type:Qe}),UI_CONTROL:e=>({type:El.getPayload(e).event.action,payload:El.getPayload(e).event.payload?JSON.parse(El.getPayload(e).event.payload):{}}),[et]:e=>({payload:{conversationId:El.getConversationId(e),chatUserId:El.getPayload(e).chatUserId},type:et}),[tt]:e=>({payload:{conversationId:El.getConversationId(e),sender:El.getSender(e),actionTime:El.getCreationTime(e)},type:tt}),[nt]:e=>({payload:{conversationId:El.getConversationId(e),sender:El.getSender(e),actionTime:El.getCreationTime(e)},type:nt}),[rt]:e=>({payload:{conversationId:El.getConversationId(e),sender:El.getSender(e),closed:El.getPayload(e).closed,deleted:El.getPayload(e).deleted,caseNumber:El.getPayload(e).caseNumber,expireAssetUntilLastMessageId:El.getPayload(e).lastMessageId},type:rt}),[it]:e=>{const t=El.getPayload(e).audioOnly;return{payload:{videoConversationId:El.getPayload(e).videoConversationId,conversationId:El.getConversationId(e),participantInfos:El.getPayload(e).participantInfos,type:t?Cl.a.AUDIO:Cl.a.VIDEO},type:it}},[ct]:e=>({payload:{conversationId:El.getConversationId(e),videoConversationId:El.getPayload(e).videoConversationId},type:ct}),[st]:e=>({payload:{conversationId:El.getConversationId(e),videoCallEnabled:El.getPayload(e).videoEnabled,audioCallEnabled:El.getPayload(e).audioEnabled},type:st}),[lt]:e=>({payload:{conversationId:El.getConversationId(e),videoConversationId:El.getPayload(e).conversation.id,conversation:El.getPayload(e).conversation,participant:El.getPayload(e).participant},type:lt}),[dt]:e=>({payload:{conversationId:El.getConversationId(e),videoConversationId:El.getPayload(e).videoConversationId},type:dt}),[ut]:e=>({payload:{conversationId:El.getConversationId(e),videoConversationId:El.getPayload(e).videoConversationId},type:ut}),[pt]:e=>({payload:{status:El.getPayload(e).status},type:pt}),[bt]:e=>({payload:{conversationId:El.getConversationId(e),unassignedFrom:El.getPayload(e).unassignedFrom,assignedTo:El.getPayload(e).assignedTo,newAssigneeType:El.getPayload(e).newAssigneeType,oldAssigneeType:El.getPayload(e).oldAssigneeType,assignmentTime:El.getPayload(e).assignmentTime},type:bt}),[ft]:e=>{const{action:t}=El.getPayload(e);return{payload:{params:t.params,conversationId:El.getConversationId(e),type:t.actionType},type:ft}},[ht]:e=>{const{action:t}=El.getPayload(e);return{payload:{},type:ht}}};function Sl(e){try{const t=El.getMessageType(e),n=Tl[t];if(n)return n(e)}catch(t){Object(_t.b)(t)}}var _l=n(463);const xl=(()=>{const e=new Set;return{add:t=>e.add(t),clear:()=>e.clear(),has:t=>e.has(t)}})(),Al=(()=>{let e=0,t=!0;return{getLastActiveTimeDifference:()=>t?0:Date.now()-e,setAppActive:n=>{t=n,n||(e=Date.now())}}})(),Rl=(e,t)=>function(e,t){let n;function o(){n&&n.stop()}try{n=gl(e,t),n.start(15e3)}catch(a){o()}return o}(((t,n,o)=>{let{isFirstCall:a}=o;if(e(Object(An.g)(!t)),t)return;const r=n.filter((e=>!xl.has(e.id))).map(Sl).filter((e=>!!e)).filter((e=>!a||!(e=>e.type===lt||e.type===it)(e)));e(r),xl.clear()}),Object.assign(Object.assign({},t),{getLastActiveTimeDifference:Al.getLastActiveTimeDifference}));function Nl(){return Is((e=>{const t=(e=>cl((t=>{const n=Sl(t);n&&(xl.add(t.id),e(n))})))(e);return()=>{t()}}))}function wl(){return Is((e=>{const t=Rl(e);return()=>{t()}}))}function Ll(){return Is((e=>{const t=Rl(e,{enableBackOff:!0});let n;return n=window.setTimeout((()=>{t()}),432e5),()=>{n&&window.clearTimeout(n),t()}}))}const Dl=e=>e.type===_l.f,Ml=e=>!Dl(e);function*Pl(e){try{yield Kc(e.filter(Dl).map((e=>Hc(e))))}catch(t){Object(_t.b)(t)}}function*kl(e){try{let t=e.filter(Ml);if((()=>{var e;return"CONVERSATION"===(null===(e=window.sprChatSettings)||void 0===e?void 0:e.scope)})()){const e=yield es(rr.c),n=Object(ir.d)(Object(ir.u)(e));t=t.filter((e=>((e,t)=>{const n=s()(e.payload,"contextId")||s()(e.payload,"conversationId");return!n||t===n})(e,n)))}d()(t)||(yield Hc({type:_l.l,payload:{events:t}}),yield Hc(Object(An.e)()))}catch(t){Object(_t.b)(t)}}function*Ul(e){try{const t=il()(e);yield Kc([Xc(Pl,t),Xc(kl,t)])}catch(t){Object(_t.b)(t)}}function*Fl(){try{let t,n;try{t=yield Xc(Ll),n=yield al(t,Ul),yield $c(_l.a)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Qc(n))}}catch(t){Object(_t.b)(t)}}function*Bl(){try{for(;;){yield $c(_l.b);const[e,t]=yield qc([$c(_l.a),ns(18e5)]);if(t)break}}catch(e){Object(_t.b)(e)}}function*Gl(){try{let t,n;try{t=yield Xc(wl),n=yield al(t,Ul),yield Xc(Bl)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Qc(n))}}catch(t){Object(_t.b)(t)}}function*Vl(){try{for(;;){yield $c(_l.b);const[e,t]=yield qc([$c(_l.a),ns(108e5)]);if(t)break}}catch(e){Object(_t.b)(e)}}function*zl(){try{let t,n;for(;;)try{yield qc([$c(_l.j),$c(_l.a)]),t=yield Xc(Nl),n=yield al(t,Ul),yield Xc(Vl)}catch(e){}finally{t&&t.close(),n&&!n.isCancelled()&&(yield Qc(n))}}catch(t){Object(_t.b)(t)}}function*Wl(){try{for(yield qc([$c(_l.i),$c(_l.a)]);;)yield Xc(Gl),yield Xc(Fl)}catch(e){Object(_t.b)(e)}}function*$l(){try{for(;;){const[e,t]=yield qc([$c(_l.a),$c(_l.b)]);Al.setAppActive(!!e)}}catch(e){Object(_t.b)(e)}}function*Hl(){try{yield Kc([Zc(zl),Zc(Wl),Zc($l)])}catch(e){Object(_t.b)(e)}}var Kl=n(471),ql=n(47),Yl=n.n(ql),Xl=n(575),Zl=n.n(Xl);function Jl(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post("/livechat/conversation/chatUsers",e)).data}))}const Ql=e=>Object(ul.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ys.post("/livechat/conversation/chatUser",Zl()(e,["userId","userType","firstName","lastName","fullName","profileImageUrl","email","phoneNo","customContext"]))).data}));function ed(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){const{query:t="",size:n=10,pageNum:o=0}=e;return(yield Ys.get(`/livechat/user/search-users?query=${t}&size=${n}&pageNum=${o}`)).data}))}const td=e=>({userId:e,email:"",firstName:"",userType:"PARTNER",phoneNo:"",profileImageUrl:""});function*nd(e){try{const t=xi()(e,(e=>e.sender)),n=yield Xc(Jl,e),o=xi()(n,(e=>Ws.a.getId(e)));let a=[];Da()(t,(e=>{!o.includes(e)&&Object(en.c)(e)&&(a=[...a,td(e)])})),yield Hc({type:U.d,payload:{users:[...n,...a]}})}catch(t){Object(_t.b)(t)}}function*od(e){try{const t=il()(e);if(0===t.length)return;const n=((e,t)=>{const n={};return Yl()(t,((t,o)=>{const a=o.sender;return n[a]||!!Object(Li.f)(e,a)||(n[a]=a,t.push(o)),t}),[])})(yield es(rr.h),t);if(0===n.length)return;yield Xc(nd,n)}catch(t){Object(_t.b)(t)}}function*ad(e){try{yield Xc(nd,il()(e))}catch(t){Object(_t.b)(t)}}function rd(e){return e.type===ot||e.type===at}function*id(e){try{yield Kc(e.filter(rd).map((e=>Hc(e))))}catch(t){Object(_t.b)(t)}}function cd(e){return e.type===bt}const sd=e=>"USER"===e,ld=new Set(["WORK_QUEUE","TASK_QUEUE","HOLDING_QUEUE"]);function*dd(e){try{const{assignmentTime:n,assignedTo:o,unassignedFrom:a,conversationId:r,newAssigneeType:i,oldAssigneeType:c}=e.payload,s=[];o&&sd(i)&&s.push({conversationId:r,sender:o}),a&&sd(c)&&s.push({conversationId:r,sender:a}),yield Xc(od,s),yield Hc(Object(Kl.a)({conversationId:r,workQueueAssigned:(t=i,ld.has(t)),agentAssigned:sd(i)}));const l=yield es((e=>Object(Li.f)(Object(rr.h)(e),o))),d={currentlyAssignedUser:l,previouslyAssignedUser:yield es((e=>Object(Li.f)(Object(rr.h)(e),a))),assignmentTime:n};sd(i)&&(yield Hc(Object(An.c)({conversationId:r,additional:d,action:Sa.a.AGENT_ASSIGNED})))}catch(n){Object(_t.b)(n)}var t}function*ud(e){try{const t=e.filter(cd);yield Kc(t.map(dd))}catch(t){Object(_t.b)(t)}}function*pd(e){try{const{events:t}=e.payload;yield Kc([Xc(id,t),Xc(ud,t)])}catch(t){Object(_t.b)(t)}}function*bd(){try{yield al(_l.l,pd)}catch(e){Object(_t.b)(e)}}function*fd(e){yield ns(e),yield Hc(Object(An.h)())}function*hd(){let e;const t=yield ts([ot,at]);for(;;)try{const{type:n,payload:o}=yield $c(t);e&&!e.isCancelled()&&(yield Qc(e)),n===ot&&(e=yield Zc(fd,o.waitTime),yield Hc(Object(An.f)({waitTime:o.waitTime,reason:o.reason}))),n===at&&(yield Hc(Object(An.h)()))}catch(n){Object(_t.b)(n)}}function*gd(){yield Kc([Zc(hd)])}function*yd(){try{yield Kc([Zc(Hl),Zc(bd),Zc(gd)])}catch(e){Object(_t.b)(e)}}var Od=n(829),md=n.n(Od),vd=n(409),jd=n(448),Id=n(478),Ed=n(442),Cd=n.n(Ed);function Td(e){let{shouldFetchNumberOfOpenConversation:t,size:n,cursor:o}=e;return Object(ul.__awaiter)(this,void 0,void 0,(function*(){let e=`/livechat/conversation/fetch?fetchNumberOfOpenConversations=${t}&sortKey=lastInteractionTime`;n&&(e=`${e}&size=${n}`),o&&o.after&&(e=`${e}&after=${o.after}`),o&&o.before&&(e=`${e}&before=${o.before}`);return(yield Ys.get(e)).data}))}function Sd(e,t,n){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){let o;o=Ro()(n)?`data=${encodeURIComponent(n)}`:xi()(n,((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)).join("&");const a=[...Object.keys(t),"Content-type"];return(yield Ys.post(e,o,{headers:Object.assign(Object.assign({},t),{"Content-Type":"application/x-www-form-urlencoded"}),baseURL:"",transformRequest:(e,t)=>(Da()(t,((e,n)=>{Cd()(a,n)||delete t[n]})),e)})).data}))}function _d(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.get(`/livechat/conversation/fetch/${e}`)).data}))}function xd(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.get(`/livechat/conversation/fetch/case/${e}`)).data}))}function Ad(e,t){let{size:n,cursor:o}=t;return Object(ul.__awaiter)(this,void 0,void 0,(function*(){const t=[{key:"conversationId",value:e}];n&&t.push({key:"size",value:n}),o&&t.push({key:"cursor",value:o});const a=t.map((e=>`${e.key}=${e.value}`)).join("&");return(yield Ys.get(`/livechat/conversation/fetchMessages?${a}`)).data}))}function Rd(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post(`/livechat/conversation/closeConversation?conversationId=${e}`)).data}))}function Nd(){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post("/livechat/conversation/closeAll")).data}))}function wd(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post(`/livechat/conversation/delete?conversationId=${e}`)).data}))}function Ld(){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post("/livechat/conversation/deleteAll")).data}))}function Dd(e,t){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post(`/livechat/conversation/updateDisclaimer/${e}?disclaimerStatus=${t}`)).data}))}function Md(e,t){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){const n={conversationId:e,messageId:t};return(yield Ys.get("/livechat/conversation/fetchMessage",{params:n,backoff:!0})).data}))}function Pd(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post("/livechat/appointment/slots",{slotDefinitionId:e.slotDefinitionId,startTime:e.selectedDate.getTime(),timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function kd(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post("/livechat/appointment/reserve",{startTime:e.selectedDate.getTime(),selectedSlot:e.selectedSlot,slotDefinitionId:e.slotDefinitionId,timeZone:e.timeZone,params:e.appointmentAssetParams,messageId:e.messageId})).data}))}function Ud(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post("/livechat/conversation/new",e)).data}))}function Fd(e,t,n){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post("/livechat/conversation/suggestions",Object.assign({conversationId:e,query:t},n))).data}))}function Bd(e){let{context:t,updateLatest:n}=e;Ys.post(`/livechat/conversation/updateConversationDetails?updateLatest=${n}`,t)}function Gd(e){let{conversationId:t,context:n}=e;Ys.post(`/livechat/conversation/updateConversationDetails?conversationId=${t}`,n)}function Vd(e){return Ys.post(`/livechat/conversation/cancelAsset/${e}`)}function zd(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return Ys.post(`/livechat/conversation/markSurveyOpened/${e}`)}))}function Wd(){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.get("/livechat/conversation/fetchNumberOfOpenConversations")).data}))}function $d(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return Ys.post(`/livechat/conversation/markTimeOfDelivery?messageIds=${e.join(",")}`)}))}var Hd=n(429);function*Kd(e){Object(Id.k)(e)&&(yield Hc(Object(Hd.p)(e)))}function qd(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){let t=e;Object(Id.j)(e)||(t=Mt()(e,"id"));const n=yield function(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post("/livechat/conversation/send",e)).data}))}(t);return n}))}function*Yd(e){try{return yield Xc(qd,e)}catch(t){return void Object(_t.b)(t)}}function*Xd(e){const t=e.id,n=vd.a.getConversationId(e);let o;const a=s()(jd.a.getAttachment(vd.a.getMessagePayload(e)),"messageId");try{o=yield Xc(qd,e)}catch(r){throw yield Hc({type:Ee.I,payload:{chatMessage:new vd.a(e).setCreationTime(Date.now()).build(),conversationId:vd.a.getConversationId(e)}}),yield Hc({payload:{conversationId:n,transientId:t,postbackParentMessageId:a},type:Ee.F}),r}Object(Id.k)(o)&&(yield Hc({payload:{chatMessage:o,conversationId:n,transientId:t},type:Ee.G}))}var Zd=n(508);function*Jd(e){try{const t=Zd.a.makeOutgoing().makeTextMessage(e.payload);yield Xc(Kd,t),yield Xc(Xd,t)}catch(t){Object(_t.b)(t)}}function*Qd(){yield al(Ee.Z,Jd)}var eu=n(415);const tu=(e,t)=>{const n=jd.a.getAttachment(vd.a.getMessagePayload(e));return k()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{clickedButtonId:t.buttonId}:{}),{submitted:!n.reSubmittable})}}})},nu=(e,t)=>{const n=jd.a.getAttachment(vd.a.getMessagePayload(e));return k()(e,{messagePayload:{attachment:{$merge:Object.assign(Object.assign({},n.showSubmittedContent?{filledForm:t.filledForm}:{}),{submitted:!0})}}})},ou={[eu.b.CARD]:tu,[eu.b.CAROUSEL]:tu,[eu.b.CO_BROWSE_INVITE]:tu,[eu.b.PRODUCT_CARD]:tu,[eu.b.PRODUCT_SHOWCASE_CARD]:tu,[eu.b.INFO_CARD]:tu,[eu.b.PRODUCT_BANNER]:tu,[eu.b.PRODUCT_LIST]:tu,[eu.b.FORM]:nu,[eu.b.CONTACT_DETAILS_FORM]:nu,[eu.b.SECURE_FORM]:nu,[eu.b.APPOINTMENT]:(e,t)=>k()(e,{messagePayload:{attachment:{$merge:{selectedDate:t.selectedDate,selectedSlot:t.selectedSlot,submitted:!0}}}}),[eu.b.SURVEY]:(e,t)=>k()(e,{messagePayload:{attachment:{$merge:{opened:!!t.opened,submitted:!!t.submitted}}}})},au=(e,t)=>{if(!e)return{};switch(jd.a.getAttachment(vd.a.getMessagePayload(e)).type){case eu.b.CAROUSEL:case eu.b.CO_BROWSE_INVITE:case eu.b.PRODUCT_CARD:case eu.b.PRODUCT_SHOWCASE_CARD:case eu.b.INFO_CARD:case eu.b.PRODUCT_BANNER:case eu.b.PRODUCT_LIST:case eu.b.CARD:return{buttonId:jd.a.getAttachment(vd.a.getMessagePayload(t)).buttonId};case eu.b.SURVEY:return{submitted:!jd.a.getAttachment(vd.a.getMessagePayload(t)).reSubmittable,opened:!0};case eu.b.SECURE_FORM:case eu.b.FORM:case eu.b.CONTACT_DETAILS_FORM:return{filledForm:jd.a.getAttachment(vd.a.getMessagePayload(t)).filledForm};case eu.b.APPOINTMENT:return{selectedDate:jd.a.getAttachment(vd.a.getMessagePayload(t)).selectedDate,selectedSlot:jd.a.getAttachment(vd.a.getMessagePayload(t)).selectedSlot};default:return{}}};function*ru(e){let{chatMessage:t,conversationId:n,params:o}=e;if(!t)return null;const a=ou[jd.a.getAttachment(vd.a.getMessagePayload(t)).type];if(a){const e=a(t,o);return yield Hc({type:Ee.I,payload:{chatMessage:e,conversationId:n}}),e}return null}function*iu(e){const{postback:{messageId:t},conversationId:n}=e.payload;let o;const a=yield es(rr.c),r=Object(ir.j)(Object(ir.l)(a,n),t);try{const t=Zd.a.makeOutgoing().makeTemplatePostbackAttachmentMessage(e.payload);o=yield Xc(ru,{chatMessage:r,conversationId:n,params:au(r,t)}),t&&(yield Xc(Kd,t),yield Xc(Xd,t),e.promise.resolve())}catch(i){o&&(yield Hc({type:Ee.I,payload:{chatMessage:r,conversationId:n}})),e.promise.reject(),Object(_t.b)(i)}}function*cu(){yield al(Ee.Y,iu)}function*su(e){try{const t=Zd.a.makeOutgoing().makeQuickReplyPostbackAttachmentMessage(e.payload);t&&(yield Xc(Kd,t),yield Xc(Xd,t))}catch(t){Object(_t.b)(t)}}function*lu(){yield al(Ee.R,su)}const du="/co-browse/conversation",uu=e=>{let{messageId:t,markCompletedSession:n}=e;return Object(ul.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ys.post(`${du}/${n?"completed":"cancelled"}?messageId=${t}`)).data}))},pu=e=>{let{messageId:t,actionPayload:n}=e;return Object(ul.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ys.post(`${du}/push?messageId=${t}`,{type:"CO_BROWSE",payload:n})).data}))},bu=e=>{let{messageId:t,payload:n}=e;return Object(ul.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ys.post(`${du}/push/status?messageId=${t}`,n)).data}))},fu=e=>{let{messageId:t,otp:n,additionalInfo:o}=e;return Object(ul.__awaiter)(void 0,void 0,void 0,(function*(){return bu({messageId:t,payload:{status:"SUCCESS",otp:n,additionalInfo:o}})}))},hu=e=>{let{messageId:t,reason:n}=e;return Object(ul.__awaiter)(void 0,void 0,void 0,(function*(){return bu({messageId:t,payload:{status:"FAILED",reason:n}})}))},gu=e=>{let{messageId:t,payload:n}=e;return Ys.post(`${du}/event?messageId=${t}`,n)},yu=e=>{let{messageId:t}=e;return Object(ul.__awaiter)(void 0,void 0,void 0,(function*(){return(yield Ys.get(`${du}/session/live?messageId=${t}`)).data}))};var Ou=n(740);function*mu(e){try{const{messageId:t}=yield es(rr.f);yield Xc(pu,{messageId:t,actionPayload:e.payload})}catch(t){Object(_t.b)(t)}}function*vu(e){const{messageId:t,conversationId:n,agentId:o}=yield es(rr.f);try{const{otp:a,additionalInfo:r}=e.payload;yield Xc(fu,{messageId:t,otp:a,additionalInfo:r}),yield Hc(Object(oa.i)({state:{messageId:t,conversationId:n,agentId:o}}))}catch(a){try{yield Hc(Object(oa.e)({reason:ra.a.OTP_SEND_FAILED})),yield Xc(hu,{messageId:t,reason:ra.a.OTP_SEND_FAILED})}catch(r){Object(_t.b)(a)}}}function*ju(e){try{const{messageId:t,reason:n}=e.payload;yield Hc(Object(oa.e)({reason:n})),yield Xc(hu,{messageId:t,reason:n})}catch(t){Object(_t.b)(t)}}function*Iu(e){let{messageId:t}=e;const[n,o]=yield qc([$c((e=>{let{type:n,payload:o}=e;return n===Ee.G&&s()(o,"chatMessage.messagePayload.attachment.messageId")===t})),$c((e=>{let{type:n,payload:o}=e;return n===Ee.F&&s()(o,"postbackParentMessageId")===t})),$c(Ou.g),$c(Ou.h)]);n&&(yield Hc(Object(oa.p)())),o&&(yield Hc(Object(oa.e)({reason:ra.a.POSTBACK_SEND_FAILED})))}function*Eu(e){try{const{messageId:t}=yield es(rr.f);yield Xc(gu,{messageId:t,payload:e.payload})}catch(t){Object(_t.b)(t)}}function*Cu(e){try{const{messageId:t,endedByAgent:n,markCompletedSession:o}=e.payload;if(n||!t)return;return void(yield Xc(uu,{messageId:t,markCompletedSession:o}))}catch(t){Object(_t.b)(t)}}function*Tu(e){const{shouldNotifyAgent:t}=e.payload;try{t&&(yield Hc(Object(oa.j)({type:"REMOTE_CONTROL",payload:{status:"ACCEPT"}})))}catch(n){Object(_t.b)(n)}}function*Su(e){try{yield Hc(Object(oa.j)({type:"REMOTE_CONTROL",payload:{status:"REJECT"}}))}catch(t){Object(_t.b)(t)}}function*_u(e){try{yield Hc(Object(oa.j)({type:"REMOTE_CONTROL",payload:{status:"STOP"}}))}catch(t){Object(_t.b)(t)}}function*xu(e){const{messageId:t,conversationId:n,agentId:o}=e.payload.state;try{const[e]=yield Kc([Xc(yu,{messageId:t}),Xc(od,{sender:o,conversationId:n})]);e?yield Hc(Object(oa.o)({state:{conversationId:n,messageId:t,agentId:o}})):yield Hc(Object(oa.e)({reason:ra.a.RESUME_SESSION_FAILED}))}catch(a){yield Hc(Object(oa.f)({messageId:t,reason:ra.a.RESUME_SESSION_FAILED})),Object(_t.b)(a)}}function*Au(){yield al(Ou.g,Cu)}function*Ru(){yield al(Ou.o,vu)}function*Nu(){yield al(Ou.p,ju)}function*wu(){yield al(Ou.b,Tu)}function*Lu(){yield al(Ou.e,Su)}function*Du(){yield al(Ou.c,_u)}function*Mu(){yield al(Ou.a,mu)}function*Pu(){yield al(Ou.k,xu)}function*ku(){yield al(Ou.f,Eu)}function*Uu(){yield Kc([Zc(Ru),Zc(Nu),Zc(Au),Zc(wu),Zc(Lu),Zc(Du),Zc(Mu),Zc(Pu),Zc(ku)])}function*Fu(e){const t=e?il()(e):or.a;if(0===t.length)return;const n=vd.a.getConversationId(t[0]),o=xi()(t,(e=>({sender:vd.a.getSender(e),conversationId:n})));yield Xc(od,o)}var Bu=n(431),Gu=n.n(Bu),Vu=n(676),zu=n.n(Vu),Wu=n(843),$u=n(751),Hu=n(674),Ku=n(844),qu=n(1046);const Yu=(e,t)=>{const n=Ws.a.getId(t),o=jd.a.getAttachment(vd.a.getMessagePayload(e)),a=Object(qu.a)(o,{user:t}),r=zu()(Wu.a.getFields($u.a.getForm(o)),(e=>{const{id:t,validator:n}=e;return"EQUALITY"!==n&&d()(a[t])}));return!Object(en.b)(n)&&r},Xu=(e,t,n,o)=>{let a;return a="string"===typeof e?(new vd.a).setMessagePayload((new jd.a).setMessageType(Hu.b).setMessageText(e).setMessageDisableManualResponse(!!o).build()).build():e,Zd.a.makeSent().makeMessage(Object.assign({messageId:n,conversationId:t,sender:Ho.b},a))},Zu=e=>{if(Ro()(e))return e;switch(Object(dn.f)(e)?s()(e,"response.status",404):-1){case 401:case 404:return Ku.a.NOT_FOUND;case 406:return Ku.a.NOT_ACCEPTABLE;default:return Ku.a.UNEXPECTED_ERROR}};var Ju=n(616);let Qu={};function*ep(e){try{const n=e.payload.conversationId;if(Qu[n]){for(;;){const[t,o]=yield qc([$c(Ee.L),$c(Ee.M)]);if(s()(t||o,"payload.transientConversationId")===n){e.promise&&(t&&e.promise.resolve({conversationId:t.payload.conversationResponse.id,caseNumber:t.payload.conversationResponse.caseNumber}),o&&e.promise.reject(o.payload.error));break}}return}try{Qu[n]=!0;const t=yield es(rr.c),o=yield es(rr.d),a=Gu()(o),r=Object(ir.l)(t,n),i=Object(ir.p)(t),c=Object(ir.g)(i,n),l=s()(Object(ir.f)(i,n),"assignToUser"),d=Object(ir.w)(r),u=Object(ir.e)(Object(ir.p)(t),n)||{},p=u.clickedOnPrompt,b=yield Xc(Ud,Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},d?{chatMessages:Object(ir.k)(r).map((e=>({messagePayload:vd.a.getMessagePayload(e),sender:vd.a.getSender(e)})))}:void 0),{createCase:Object(ir.A)(Object(ir.p)(t),n),startedByContext:c}),u),e.payload.appContext),!p&&a?{creativeId:a.additional.creativeId,interceptId:a.additional.interceptId,clickedOnPrompt:!1}:{}),{assignToUser:l})),f=Object(Li.b)(yield es(rr.h));yield Hc({payload:{transientConversationId:n,conversationResponse:b,botUserIds:f},type:Ee.L}),e.promise&&e.promise.resolve({conversationId:b.id,caseNumber:b.caseNumber})}catch(t){yield Hc({type:Ee.M,payload:{transientConversationId:e.payload.conversationId,error:Zu(t)}}),e.promise&&e.promise.reject(Zu(t)),Object(_t.b)(t)}finally{delete Qu[e.payload.conversationId]}}catch(n){}}function*tp(e){try{const t=Fr()(il()(Ht.a.getDefaultMessages($t.a.getCustomizationConfig(e)))),n=Fr()(t.map(((e,t)=>Xu(e,Ho.e,`${Ho.d}${t}`))));if(n.length){const e=yield es(rr.h),t=n.map((t=>{const n=Object(Ju.e)(e,vd.a.getSender(t));return Hc(Object(Kl.g)(t,n))}));yield Kc(t)}return n}catch(t){Object(_t.b)(t)}}function*np(e,t){try{const n=Ht.a.getContactDetailsMessage($t.a.getCustomizationConfig(e)),o=[];if(n&&Yu(n,zs.a.getChatUser(t))){const e=Xu(n,Ho.e,Ho.c),t=yield es(rr.h),a=Object(Ju.e)(t,vd.a.getSender(e));o.push(e),yield Hc(Object(Kl.g)(e,a))}return o}catch(n){Object(_t.b)(n)}}function*op(e,t){try{const n=yield Xc(tp,e),o=yield Xc(np,e,t);return[...n,...o]}catch(n){Object(_t.b)(n)}}function ap(){Qu={}}function*rp(){try{const t=s()(Object(Li.c)(yield es(rr.h)),"userId");for(;;)try{const e=yield es(rr.c),n=Object(ir.l)(e,Ho.e),o=Object(ir.j)(n,Ho.c);if(!o)break;const{payload:{users:a}}=yield $c(U.d),r=a.find((e=>e.userId===t));r&&!Yu(o,r)&&(yield Hc(Object(Kl.h)(Ho.e,Ho.c)))}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*ip(){try{yield al(Kn.c,ap)}catch(e){Object(_t.b)(e)}}function*cp(){try{yield al(Ee.K,ep)}catch(e){Object(_t.b)(e)}}function*sp(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield $c(Kn.a);yield Xc(op,e,t),yield Kc([Zc(rp),Zc(cp),Zc(ip)])}catch(e){Object(_t.b)(e)}}var lp=n(554);function*dp(e){const{payload:t}=e,{actionParams:n}=t;n.actionType===lp.a&&(yield Hc(Object(Kl.i)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}function*up(e){const{payload:t}=e,{actionParams:n}=t;n.actionType===lp.b&&(yield Hc(Object(Kl.j)({conversationId:t.conversationId,action:{attachment:n.attachment,values:n.values,actionId:n.actionId}})))}function*pp(e){yield Kc([Xc(dp,e),Xc(up,e)])}function*bp(e){const{messageId:t,conversationId:n}=e.payload,o=yield es(rr.c),a=Object(ir.j)(Object(ir.l)(o,n),t);let r;try{r=yield Xc(ru,{chatMessage:a,conversationId:n,params:{opened:!0}}),yield Xc(zd,t)}catch(i){r&&(yield Hc({type:Ee.I,payload:{chatMessage:a,conversationId:n}})),Object(_t.b)(i)}}function*fp(e){const{attachment:t}=e.payload,n=s()(t,"opened");try{return void(n||(yield Xc(bp,e)))}catch(o){Object(_t.b)(o)}}function*hp(){yield al(Ee.V,fp)}var gp=n(544),yp=n(737),Op=n(576),mp=n(468),vp=n(845),jp=n(672),Ip=n(1280),Ep=n(487),Cp=n(488);const Tp=e=>Object(Ep.e)(Object(rr.e)(e));function Sp(e){return e===lp.a||e===lp.b}function _p(e){return e===yp.a.OPEN_URL}function xp(e){return e===yp.a.DIAL}function Ap(e){return e===yp.a.FETCH_APPOINTMENT_TIME_SLOTS}function Rp(e){return e===yp.a.RESERVE_APPOINTMENT_TIME_SLOT}function Np(e){return e===yp.a.START_VIDEO_CALL}function wp(e){return e===yp.a.START_AUDIO_CALL}function Lp(e){return e===yp.a.REJOIN_CALL}function Dp(e,t){return Zd.a.makeSent().makeMessage({messageId:e.id,messagePayload:vd.a.getMessagePayload(e),conversationId:t,sender:vd.a.getSender(e),creationTime:vd.a.getCreationTime(e),clientMessageId:vd.a.getClientMessageId(e)})}function*Mp(e){try{const{payload:t}=e,{conversationId:n,cursor:o}=t,a=yield Xc(Ad,n,{size:t.size,cursor:o}),r=Fr()(a.results.map((e=>Dp(e,n))));yield Xc(Fu,r),yield Hc({payload:{conversationMessagesResponse:Object.assign(Object.assign({},a),{results:r}),conversationId:n,cursor:o},type:Ee.m}),e.promise&&e.promise.resolve()}catch(t){e.promise&&e.promise.reject(),yield Hc({type:Ee.n,payload:{conversationId:e.payload.conversationId}}),Object(_t.b)(t)}}function*Pp(e){try{const{payload:t,promise:n}=e,{conversationId:o,includeAll:a}=t,r=a?yield Xc(Ld):yield Xc(wd,o);yield Hc(Object(Kl.a)({conversationId:o,includeAll:a,deleted:!0,surveyUrl:r.surveyUrl})),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(_t.b)(t)}}function*kp(){try{yield al(Ee.i,Pp)}catch(e){Object(_t.b)(e)}}function*Up(e){try{const{payload:t,promise:n}=e,{conversationId:o,includeAll:a}=t,r=a?yield Xc(Nd):yield Xc(Rd,o);yield Hc(Object(Kl.a)({conversationId:o,includeAll:a,closed:!0,surveyUrl:r.surveyUrl})),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(_t.b)(t)}}function*Fp(){try{yield al(Ee.h,Up)}catch(e){Object(_t.b)(e)}}function*Bp(){try{yield al(Ee.l,Mp)}catch(e){Object(_t.b)(e)}}function*Gp(e){try{const{query:t,conversationId:n,faqAttachment:o}=e.payload,a=yield Xc(Fd,n,t,o);e.promise&&e.promise.resolve(a)}catch(t){e.promise&&e.promise.reject(),Object(_t.b)(t)}}function*Vp(){try{yield al(Ee.A,Gp)}catch(e){Object(_t.b)(e)}}function*zp(e){try{const t=Yl()(e,((e,t)=>{const n=mp.a.getParticipants(t);return Da()(n,(n=>{e.push({sender:n,conversationId:t.id})})),e}),[]);yield Xc(od,t)}catch(t){Object(_t.b)(t)}}function*Wp(){try{for(;;)try{const e=yield $c(Ee.f),t=yield Xc(Td,e.payload);yield Xc(zp,t.results);const n=yield es(rr.h),o=Object(Li.b)(n),a=Object(Li.d)(n);yield Hc({payload:{conversationResponse:t,botUserIds:o,chatUserId:a},type:Ee.g})}catch(e){Object(_t.b)(e)}}catch(t){Object(_t.b)(t)}}function*$p(){try{for(;;){let n,o,a;const r=yield $c(Ee.s);o=r.payload.caseId,n=r.payload.conversationId,a=r.payload.context;const i=yield es(rr.h),c=Object(Li.b)(i),s=Object(Li.d)(i);try{const e=yield Xc(xd,r.payload.caseId);yield Hc({payload:{caseId:o,conversationResponse:e,botUserIds:c,chatUserId:s},type:Ee.t})}catch(e){try{if(Object(dn.a)(e))throw e;{const e=yield Xc(Ud,Object.assign({createCase:!0,caseId:o},a));yield Hc({payload:{caseId:o,conversationResponse:e,botUserIds:c,chatUserId:s},type:Ee.t})}}catch(t){yield Hc({payload:{conversationId:n,error:Zu(t)},type:Ee.u})}}}}catch(n){Object(_t.b)(n)}}function*Hp(){try{for(;;){let t;try{const e=yield $c(Ee.v);t=e.payload.conversationId;const n=yield Xc(_d,e.payload.conversationId),o=yield es(rr.h),a=Object(Li.b)(o),r=Object(Li.d)(o);yield Hc({payload:{conversationResponse:n,botUserIds:a,chatUserId:r},type:Ee.w})}catch(e){yield Hc({payload:{conversationId:t,error:Zu(e)},type:Ee.x}),Object(_t.b)(e)}}}catch(t){Object(_t.b)(t)}}function*Kp(e){try{for(;;){const n=yield es(Tp);try{if(n){const t=e.payload,{conversationId:n}=t,o=Dp(yield Xc(Md,n,t.messageId),n);return yield Xc(Fu,o),o}yield $c(_l.f)}catch(t){if(Object(_t.b)(t),!Object(dn.c)(t))break}}return null}catch(n){return Object(_t.b)(n),null}}function*qp(e){try{const t=e.payload;yield Hc(Object(Kl.k)({type:t.actionType,payload:Mt()(e.payload,["actionType"])}))}catch(t){Object(_t.b)(t)}}function*Yp(e){try{const t=yield Xc(Kp,e);t&&(yield Hc({type:Ee.I,payload:{chatMessage:t,conversationId:vd.a.getConversationId(t)}}))}catch(t){Object(_t.b)(t)}}function*Xp(e){try{const t=yield es(rr.c),n=Object(ir.p)(t),o=Object(Li.c)(yield es(rr.h)),{sender:a,deleted:r,closed:i,caseNumber:c,conversationId:s}=e.payload,l=Object(ir.f)(n,s);(a!==o.userId||c&&l&&!l.caseNumber&&!r&&!i)&&(yield Hc(Object(Kl.a)(e.payload)),c&&l&&!l.caseNumber&&(yield Hc(Object(An.c)({action:Sa.a.NEW_CONVERSATION_CREATED,conversationId:s,additional:{caseNumber:c}}))))}catch(t){Object(_t.b)(t)}}function*Zp(e){try{const{conversationId:t,videoCallEnabled:n,audioCallEnabled:o}=e.payload;yield Hc({type:Ee.d,payload:{conversationId:t,videoCallEnabled:n,audioCallEnabled:o}})}catch(t){Object(_t.b)(t)}}function*Jp(e){try{const{payload:t}=e,{actionParams:n}=t;Sp(n.actionType)&&(yield Xc(pp,e),e.promise.resolve())}catch(t){Object(_t.b)(t)}}function*Qp(e){try{const{payload:t}=e,{actionParams:n,conversationId:o}=t;n.actionType===yp.a.ACCOUNT_LINK&&(yield Hc(Object(An.a)({ssoId:n.values,conversationId:o,messageId:n.messageId})(e.promise)))}catch(t){Object(_t.b)(t)}}function*eb(e){try{const{actionParams:{attachment:t,values:n}}=e.payload,o=t,a=yield Xc(Sd,o.submitResponseUrl,o.httpHeaders,n.secureData);return{maskedData:n.maskedData,secureFormId:a}}catch(t){return Object(_t.b)(t),null}}function*tb(e){try{const{actionParams:{messageId:t,actionType:n,values:o},conversationId:a}=e.payload;if(n===yp.a.ACCEPT_CO_BROWSE){const e=yield es((e=>Object(ir.j)(Object(ir.l)(Object(rr.c)(e),a),t))),n=vd.a.getSender(e);yield Hc(Object(oa.d)({messageId:t,conversationId:a,agentId:n})),yield Jc(Iu,{messageId:t})}return o}catch(t){return Object(_t.b)(t),null}}function*nb(e){try{const{actionParams:{attachment:t,actionId:n,values:o,messageId:a},conversationId:r}=e.payload,i=s()(Object(jp.a)(n,t),"surveyUrl","");yield Hc(Object(Kl.e)({surveyUrl:i,conversationId:r})),yield Hc({type:Ee.V,payload:{messageId:a,conversationId:r,attachment:t}});const[c]=yield qc([$c(Ee.W),$c(Ee.T),$c(Ee.X)]);return c?o:null}catch(t){return Object(_t.b)(t),null}}function*ob(e){try{const{actionParams:{actionType:t,values:n}}=e.payload;return function(e){return e===yp.a.SECURE_FORM_POST_BACK}(t)?yield Xc(eb,e):function(e){return e===yp.a.ACCEPT_CO_BROWSE||e===yp.a.DENY_CO_BROWSE}(t)?yield Xc(tb,e):function(e){return e===yp.a.SURVEY_POST_BACK}(t)?yield Xc(nb,e):n}catch(t){return Object(_t.b)(t),null}}function*ab(e){try{const{payload:o}=e,{actionParams:a,appContext:r}=o;if(!Sp(t=a.actionType)&&!_p(t)&&!xp(t)&&!Ap(t)&&!Rp(t)&&!wp(t)&&!Np(t)&&!Lp(t))try{const t=yield Xc(ob,e);i()(t)?e.promise&&e.promise.resolve():yield Hc(Object(Kl.o)({conversationId:o.conversationId,sender:o.sender,postback:{attachment:a.attachment,values:t,additional:a.additional,appContext:r,messageId:a.messageId,postbackId:a.actionId,postbackType:a.actionType},inReplyToChatMessageId:o.inReplyToChatMessageId})(e.promise))}catch(n){Object(g.a)(n),e.promise.reject()}}catch(o){Object(_t.b)(o)}var t}function*rb(e){try{const{payload:t}=e,{actionParams:n}=t;_p(n.actionType)&&(yield Hc(Object(Kl.f)({attachment:n.attachment,actionId:n.actionId})(e.promise)))}catch(t){Object(_t.b)(t)}}function*ib(e){try{const{payload:t}=e,{actionParams:n}=t;xp(n.actionType)&&(yield Hc(Object(Kl.d)({attachment:n.attachment,actionId:n.actionId})(e.promise)))}catch(t){Object(_t.b)(t)}}function*cb(e){try{const{payload:t}=e,{actionParams:{actionId:n,actionType:o,attachment:a,messageId:r,values:i},conversationId:c,appContext:l}=t;if(Lp(o))yield Hc(Object(gp.o)({conversationId:c,isPhone:l.isPhone,type:i.audioOnly?Cl.a.AUDIO:Cl.a.VIDEO,isIncomingCall:i.isIncomingCall,videoConversationId:i.videoChatConversationId,prevState:Object(vp.a)(i.currentState,i.isIncomingCall)})),e.promise&&e.promise.resolve();else if(Np(o)||wp(o)){const t=yield es(rr.b);if(Object(Cp.a)(t))return void(e.promise&&e.promise.reject());const i=Np(o)?Cl.a.VIDEO:Cl.a.AUDIO,d=s()(Object(jp.a)(n,a),"title","");let u={};n&&(u={sourceButtonId:n,messageId:r,messageText:d}),yield Hc(Object(gp.g)(Object.assign({conversationId:c,isPhone:l.isPhone,type:i},u))),e.promise&&e.promise.resolve()}}catch(t){Object(_t.b)(t)}}function*sb(e){try{const{payload:n}=e,{actionParams:o,conversationId:a,appContext:r}=n,i=Ap(o.actionType),c=Rp(o.actionType);let l,d;if(i||c)try{const t=yield es(rr.c);if(l=Object(ir.j)(Object(ir.l)(t,a),o.messageId),i&&(yield Hc({type:Ee.I,payload:{chatMessage:k()(l,{messagePayload:{attachment:{$merge:{slots:void 0}}}}),conversationId:a}}),d=yield Xc(Pd,{selectedDate:o.values.selectedDate,slotDefinitionId:o.attachment.slotDefinitionConfigId,timeZone:r.timeZone,appointmentAssetParams:o.attachment.params,messageId:o.messageId}),yield Hc({type:Ee.I,payload:{chatMessage:k()(l,{messagePayload:{attachment:{$merge:{slots:d}}}}),conversationId:a}})),c){d=yield Xc(kd,{selectedDate:o.values.selectedDate,selectedSlot:o.values.selectedSlot,timeZone:r.timeZone,slotDefinitionId:o.attachment.slotDefinitionConfigId,appointmentAssetParams:o.attachment.params,messageId:o.messageId});const e=s()(d,"slots");e&&(yield Hc({type:Ee.I,payload:{chatMessage:k()(l,{messagePayload:{attachment:{$merge:{slots:e}}}}),conversationId:a}}))}e.promise.resolve({actionType:o.actionType,response:{reservationId:s()(d,"reservationId"),selectedSlot:o.values.selectedSlot,selectedDate:o.values.selectedDate,visibleSlots:o.values.visibleSlots}})}catch(t){Object(_t.b)(t),e.promise.reject({actionType:o.actionType,response:{error:d}})}}catch(n){Object(_t.b)(n)}}function*lb(e){try{yield Kc([Xc(Jp,e),Xc(ab,e),Xc(rb,e),Xc(ib,e),Xc(Qp,e),Xc(sb,e),Xc(cb,e)])}catch(t){Object(_t.b)(t)}}function*db(e,t){try{const n=k()(e,{payload:{actionParams:{$set:Object.assign(Object.assign({},Mt()(e.payload.actionParams,["actionTypes"])),{actionType:t})}}}),o=new Promise(((e,t)=>{n.promise={resolve:e,reject:t}}));return yield Xc(lb,n),o}catch(n){return Object(_t.b)(n),null}}function*ub(e){try{let n={},o={};try{const t=e.payload.actionParams.actionTypes;for(let a=0;a<md()(t);a+=1){(yield Xc(db,e,t[a])).then((e=>{o=$r()(o,e)}),(e=>{n=$r()(n,e)}))}e.promise.resolve(o)}catch(t){e.promise.reject(n),Object(_t.b)(t)}}catch(n){Object(_t.b)(n)}}function*pb(){try{yield al(Ee.c,ub)}catch(e){Object(_t.b)(e)}}function*bb(e){try{let n,o;try{const{disclaimerStatus:t}=e.payload,a=yield es(rr.c),r=Object(ir.p)(a);n=e.payload.conversationId,o=s()(Object(ir.h)(r,n),"disclaimerStatus"),yield Hc({type:Ee.r,payload:{conversationId:n,disclaimerStatus:t}}),yield Xc(Dd,n,t),e.promise.resolve()}catch(t){e.promise.reject(),yield Hc({type:Ee.r,payload:{conversationId:n,disclaimerStatus:o}}),Object(_t.b)(t)}}catch(n){Object(_t.b)(n)}}function*fb(){try{yield al(Ee.q,bb)}catch(e){Object(_t.b)(e)}}const hb={field:"closed",values:[!0],filterType:Op.a.NIN};function*gb(e,t){try{const n=yield es(rr.c),o=Object(ir.u)(n),a=t||hb,r=Ja()(o.ids,(e=>{let t=!1;if(d()(a))return!0;Ip.a.createFilterAction(a,{getFilterBuilder:Ip.a.createFilterAction}).matches(o.byId[e],{logOnFailure:!0})&&(t=!0);return t}));r&&(yield Xc(Gd,{context:e,conversationId:r}))}catch(n){Object(_t.b)(n)}}function*yb(e,t){try{yield $c(Ee.g),yield Xc(gb,e,t)}catch(n){Object(_t.b)(n)}}function*Ob(e){try{const{context:t,conversationId:n,filters:o,includeDeleted:a}=e.payload;if(n)return void(yield Xc(Gd,{context:t,conversationId:n}));if(a)return void(yield Xc(Bd,{context:t,updateLatest:a}));const r=yield es(rr.c),i=Object(ir.p)(r);if(Object(ir.b)(i))return void(yield Xc(gb,t,o));yield Zc(yb,t,o)}catch(t){Object(_t.b)(t)}}function*mb(){try{yield al(Ee.k,Ob)}catch(e){Object(_t.b)(e)}}function*vb(e){try{const{lastReadMessageId:t}=e.payload;yield Xc(pl,{type:"MESSAGE_READ",payload:{messageId:t}})}catch(t){Object(_t.b)(t)}}function*jb(){try{yield al(Ee.O,vb)}catch(e){Object(_t.b)(e)}}function*Ib(e){try{const e=yield Xc(Wd);yield Hc({payload:{openConversationCount:e},type:Ee.ab})}catch(t){Object(_t.b)(t)}}function*Eb(){try{yield function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return Zc.apply(void 0,[ol,e,t].concat(o))}(Ee.B,Ib)}catch(e){Object(_t.b)(e)}}function*Cb(){try{yield Kc([Zc(Wp),Zc(Hp),Zc(Vp),Zc(sp),Zc(Bp),Zc(kp),Zc(Fp),Zc(Qd),Zc(cu),Zc(lu),Zc(pb),Zc(mb),Zc($p),Zc(fb),Zc(jb),Zc(hp),Zc(Eb)])}catch(e){Object(_t.b)(e)}}const Tb={},Sb="START_TYPING",_b="STOP_TYPING";function*xb(e,t){try{yield Xc(pl,{type:e,payload:{conversationId:t}})}catch(n){Object(_t.b)(n)}}function*Ab(e,t){for(;;)yield Zc(xb,Sb,e),yield ns(25e3),yield $c(t)}function*Rb(e,t){let n,o;try{for(n=js(wc.dropping(1)),o=yield Zc(Ab,e,n);;){const e=yield $c(t);if(e.type!==Ee.bb)break;n.put(e)}}catch(a){Object(_t.b)(a)}finally{yield Zc(xb,_b,e),n&&n.close(),o&&o.cancel()}}function*Nb(e,t){for(;;)try{let n;if(n=yield $c(t),n.type!==Ee.bb)continue;yield Xc(Rb,e,t)}catch(n){Object(_t.b)(n)}}function*wb(){for(;;)try{const e=yield qc([$c(Ee.bb),$c(Ee.cb)]),t=Fr()(e)[0],{payload:{conversationId:n}}=t;let o=Tb[n];o||(o=js(wc.sliding(1)),Tb[n]=o,yield Zc(Nb,n,o)),o.put(t)}catch(e){Object(_t.b)(e)}}function*Lb(){yield Zc(wb)}var Db=n(500),Mb=n.n(Db);const Pb={};function*kb(){throw yield ns(3e4),new Error("")}function*Ub(e,t,n,o){let a;yield Hc({type:Ee.a,payload:{conversationId:t,userId:n,actionTime:o}});try{for(a=yield Zc(kb);;){const o=yield $c(e);if(o.type===tt)a.isCancelled()||(yield Qc(a)),a=yield Zc(kb),yield Hc({type:Ee.a,payload:{conversationId:t,userId:n,actionTime:o.payload.actionTime}});else{const e=yield es(rr.c),a=Object(ir.l)(e,t),r=Object(ir.s)(a,n);if(r&&vd.a.getCreationTime(r)<o.payload.actionTime)break}}}catch(r){Object(_t.b)(r)}finally{yield Hc({type:Ee.b,payload:{conversationId:t,userId:n}}),a.isCancelled()||(yield Qc(a))}}function*Fb(e,t,n){for(;;)try{let o;if(o=yield $c(e),o.type!==tt)continue;yield Xc(Ub,e,t,n,o.payload.actionTime)}catch(o){}}function*Bb(e){const{payload:{conversationId:t,sender:n}}=e,o=yield es(rr.h),a=Gu()(Object(Ju.e)(o,n)),r=function(e,t){return`${e}_${t}`}(t,a);let i=Pb[r];i||(i=js(wc.sliding(1)),Pb[r]=i,yield Zc(Fb,i,t,a)),i.put(e)}function*Gb(e){try{yield Kc(e.map((e=>Xc(Bb,e))))}catch(t){Object(_t.b)(t)}}function*Vb(e){try{yield Kc(e.map((e=>Xc(Bb,e))))}catch(t){Object(_t.b)(t)}}function zb(e){return e.type===Ze}function Wb(e){return e.type===tt}function $b(e){return e.type===nt}function*Hb(e){const{data:t}=e;if(t){const e=yield es(rr.h),n=Object(Ju.e)(e,vd.a.getSender(t));yield Hc(Object(Kl.g)(t,n))}}function*Kb(e){try{const t=e.filter(zb);yield Kc(t.map((e=>Xc(Hb,e))));const n=t.reduce(((e,t)=>{const{data:n}=t;return n&&e.push(vd.a.getId(n)),e}),[]);d()(n)||(yield Xc($d,n))}catch(t){Object(_t.b)(t)}}function*qb(e){const t=e.filter(Wb);t.length&&(yield Xc(Gb,t))}function*Yb(e){const t=e.filter($b);t.length&&(yield Xc(Vb,t))}function*Xb(e){yield Kc([Xc(Kb,e),Xc(qb,e),Xc(Yb,e)])}const Zb=(()=>{const e=new Set;return{add:t=>e.add(t),has:t=>e.has(t),delete:t=>e.delete(t)}})(),Jb=(()=>{let e=[];return{set:t=>{e=t},get:()=>e,push:t=>{e=[...e,...il()(t)]}}})();function*Qb(e){const{id:t,data:n}=e;if(Zb.add(t),Da()(Jb.get(),(e=>{if(e.id===t)return e.data=n,!1})),t===s()(Gu()(Jb.get()),"id")){const{resolvedEvents:e,unresolvedEvents:t}=Yl()(Jb.get(),((e,t)=>Zb.has(t.id)&&d()(e.unresolvedEvents)?(Zb.delete(t.id),Object.assign(Object.assign({},e),{resolvedEvents:[...e.resolvedEvents,t]})):Object.assign(Object.assign({},e),{unresolvedEvents:[...e.unresolvedEvents,t]})),{resolvedEvents:[],unresolvedEvents:[]});Jb.set(t),yield Zc(Xb,e)}}function*ef(e){if(zb(e)){const t=yield Xc(Kp,e);yield Xc(Qb,{id:e.id,data:t})}}function*tf(e){if(Wb(e)){const t=Zl()(e.payload,["conversationId","sender"]);yield Xc(od,t),yield Xc(Qb,{id:e.id,data:{}})}}function*nf(e){$b(e)&&(yield Xc(Qb,{id:e.id,data:{}}))}function*of(e){yield Kc([Xc(ef,e),Xc(tf,e),Xc(nf,e)])}function*af(e){Jb.push(e),yield Kc(e.map((e=>Zc(of,e))))}var rf=n(979),cf=n.n(rf);function sf(e){return e.type===Je}function lf(e){return e.type===st}function df(e){return e.type===et}function uf(e){return e.type===Qe}function pf(e){return e.type===rt}function*bf(e){try{yield Kc(e.filter(uf).map((e=>Xc(qp,e))))}catch(t){Object(_t.b)(t)}}function*ff(e){try{yield Kc(e.filter(sf).map((e=>Xc(Yp,e))))}catch(t){Object(_t.b)(t)}}function*hf(e){try{yield Kc(cf()(e.filter(df).map((e=>[Xc(ad,{sender:e.payload.chatUserId,conversationId:e.payload.conversationId}),Hc(Object(An.c)({conversationId:e.payload.conversationId,action:Sa.a.USER_PROFILE_UPDATED,additional:{sender:e.payload.chatUserId}}))]))))}catch(t){Object(_t.b)(t)}}function*gf(e){try{yield Kc(e.filter(pf).map((e=>Xc(Xp,e))))}catch(t){Object(_t.b)(t)}}function*yf(e){try{yield Kc(e.filter(lf).map((e=>Xc(Zp,e))))}catch(t){Object(_t.b)(t)}}function*Of(e){try{yield Kc([Xc(bf,e),Xc(ff,e),Xc(hf,e),Xc(gf,e),Xc(yf,e)])}catch(t){Object(_t.b)(t)}}const mf=[Ze,tt,nt];function*vf(e){try{const{events:t}=e.payload;let n=[],o=[];Da()(t,(e=>{Cd()(mf,e.type)?n=[...n,Object.assign(Object.assign({},e),{id:Mb()()})]:o=[...o,e]})),yield Xc(af,n),yield Xc(Of,o)}catch(t){Object(g.a)(t)}}function*jf(){yield al(_l.l,vf)}function*If(){yield Kc([Zc(jf)])}var Ef=n(479),Cf=n(522);const Tf=e=>{const t=$t.a.getNoDisplayConfigFilter(e);return!d()(t)&&Object(Cf.c)(t,Ef.a.IS_CONVERSATION_OPEN)};function*Sf(e){try{const t=yield es(rr.c),n=Object(ir.p)(t);if(!Object(ir.b)(n))return;yield Hc(Object(Kl.b)({shouldFetchNumberOfOpenConversation:Tf(e.applicationConfig),size:n.ids.length}))}catch(t){Object(_t.b)(t)}}function*_f(){try{const e=yield es(rr.c),t=Object(ir.p)(e),n=Object(ir.n)(e),o=Yl()(n,((e,n,o)=>{const a=n.messages;if(!o.startsWith(Ho.e)&&Object(ir.a)(a)&&!Object(ir.y)(t,o)){const t=Object(Kl.c)(o,{size:Object(ir.k)(a).length})();e.push(Hc(t))}return e}),[]);o.length&&(yield Kc(o))}catch(e){Object(_t.b)(e)}}function*xf(e){yield Kc([Zc(Sf,e),Zc(_f)])}function*Af(){const{payload:{applicationConfig:e}}=yield $c(Kn.a);yield al(_l.m,xf,{applicationConfig:e})}function*Rf(){yield Kc([Zc(Cb),Zc(Lb),Zc(If),Zc(Af)])}function*Nf(e){try{const t=e.payload,n=Object(Li.c)(yield es(rr.h));yield Xc(Ql,Object.assign(Object.assign({},n),{customContext:t})),yield Hc(Object(An.c)({action:Sa.a.USER_PROFILE_UPDATED}))}catch(t){Object(_t.b)(t)}}function*wf(){try{yield al(U.c,Nf)}catch(e){Object(_t.b)(e)}}function*Lf(e){try{const t=e.payload,n=yield Xc(ed,t);e.promise.resolve(n);const o=n.results;yield Hc({type:U.d,payload:{users:o}})}catch(t){e.promise.reject(t),Object(_t.b)(t)}}function*Df(){try{yield al(U.b,Lf)}catch(e){console.error(e)}}function*Mf(){try{yield Kc([Zc(wf),Zc(Df)])}catch(e){Object(_t.b)(e)}}function Pf(e){return e.type===it}function kf(e){return e.type===ct}function Uf(e){return e.type===dt}function Ff(e){return e.type===ut}function Bf(e){return e.type===lt}function*Gf(e){try{yield Kc(e.filter(Pf).map((e=>Hc(Object(gp.n)({conversationId:e.payload.conversationId,videoConversationId:e.payload.videoConversationId,participantInfos:e.payload.participantInfos,type:e.payload.type})))))}catch(t){Object(_t.b)(t)}}function*Vf(e){try{yield Kc(e.filter(kf).map((e=>Hc(Object(gp.l)({notifyAgent:!1,videoConversationId:e.payload.videoConversationId})))))}catch(t){Object(_t.b)(t)}}function*zf(e){try{const t=yield es(rr.b),n=Object(Cp.g)(t);yield Kc(e.filter(Ff).map((e=>Hc(n.videoConversationId===e.payload.videoConversationId?Object(gp.i)({videoConversationId:e.payload.videoConversationId,reason:Cl.d.AGENT_ASSIGNMENT_FAILED}):Object(gp.l)({notifyAgent:!1,videoConversationId:e.payload.videoConversationId})))))}catch(t){Object(_t.b)(t)}}function*Wf(e){try{yield Kc(e.filter(Uf).map((e=>Hc(Object(gp.i)({videoConversationId:e.payload.videoConversationId,reason:Cl.d.AGENT_ASSIGNMENT_FAILED})))))}catch(t){Object(_t.b)(t)}}function*$f(e){try{yield Kc(e.filter(Bf).map((e=>Hc(Object(gp.u)({videoConversationId:e.payload.videoConversationId,callInfo:{conversation:e.payload.conversation,participant:e.payload.participant}})))))}catch(t){Object(_t.b)(t)}}function*Hf(e){try{const{events:t}=e.payload;yield Kc([Xc(Vf,t),Xc(Gf,t),Xc(Wf,t),Xc($f,t),Xc(zf,t)])}catch(t){Object(_t.b)(t)}}function*Kf(){try{yield al(_l.l,Hf)}catch(e){Object(_t.b)(e)}}var qf=n(739);function Yf(e){let{videoConversationId:t,shouldWaitForConnection:n}=e;return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post(`video-chat/conversation/accept/${t}?shouldWaitForConnection=${n}`)).data}))}function Xf(e){let{videoConversationId:t}=e;return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return Ys.post(`video-chat/conversation/leave/${t}`)}))}function Zf(e){let{conversationId:t,audioOnly:n,messageText:o,sourceButtonId:a,postBackChatMessageId:r,shouldWaitForConnection:i,videoConversationId:c,activityEventType:s}=e;return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.post(`video-chat/conversation/initiate/${t}`,{audioOnly:n,messageText:o,clickedButtonId:a,postBackChatMessageId:r,shouldWaitForConnection:i,videoChatConversationId:c,activityEventType:s})).data}))}function Jf(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.get(`video-chat/conversation/participant/connected/${e}`)).data}))}function Qf(e){return Object(ul.__awaiter)(this,void 0,void 0,(function*(){return(yield Ys.get(`video-chat/conversation/fetch/ongoing/conversation?caseId=${e}`)).data}))}function*eh(e){try{const{notifyAgent:t,isIncomingCall:n,callDetails:o,videoConversationId:a}=e.payload;if(!t)return;if(!n&&!o.hasInitiateSucceeded&&o.state===Cl.e.WAITING){if((yield $c((e=>(e.type===qf.v||e.type===qf.o)&&s()(e,"payload.videoConversationId")===a))).type===qf.o)return}if(n&&o.state===Cl.c.ACCEPTED){if((yield $c((e=>(e.type===qf.k||e.type===qf.h)&&s()(e,"payload.videoConversationId")===a))).type===qf.h)return}yield Xc(Xf,{videoConversationId:a})}catch(t){Object(_t.b)(t)}}function*th(e){try{e.payload.isOutgoingWaiting&&(yield Xc(eh,e)),yield Hc({type:Ee.Z,payload:{text:e.payload.text,sender:e.payload.sender,conversationId:e.payload.conversationId}})}catch(t){Object(_t.b)(t)}}function*nh(e){try{const{actionParams:{messageId:t,actionId:n},conversationId:o}=e.payload,a=yield es(rr.b),r=Object(Cp.g)(a),i=r.messageId;if(i&&t===i&&n!==r.sourceButtonId){const e=yield es(rr.c),n=Object(ir.j)(Object(ir.l)(e,o),t);jd.a.getAttachment(vd.a.getMessagePayload(n)).reSubmittable||(yield Hc(Object(gp.l)({notifyAgent:!0,callDetails:r,videoConversationId:r.videoConversationId})))}}catch(t){Object(_t.b)(t)}}function*oh(e){try{yield Hc(Object(gp.p)({conversationId:e.payload.conversationId,controls:Object(vp.e)(e.payload.isPhone),type:e.payload.type,messageText:e.payload.messageText,messageId:e.payload.messageId,sourceButtonId:e.payload.sourceButtonId,videoConversationId:Mb.a.v4()}))}catch(t){Object(_t.b)(t)}}function*ah(e){try{const{videoConversationId:t}=e.payload;yield Hc(Object(gp.b)({videoConversationId:t,controls:Object(vp.e)(e.payload.isPhone)})),yield Xc(Yf,{videoConversationId:t,shouldWaitForConnection:!0}),yield Hc(Object(gp.t)({videoConversationId:t}))}catch(t){if(Object(_t.b)(t),Object(dn.f)(t)){const n=s()(t,"response.data.error");yield Hc(Object(gp.d)({videoConversationId:e.payload.videoConversationId,reason:"CALL_ALREADY_ENDED"===n?Cl.b.ACCEPT_FAILED_DUE_TO_CALL_END:Cl.b.ACCEPT_FAILED_DUE_TO_OTHER_REASONS}))}}}function*rh(e){try{yield Hc(Object(gp.f)({videoConversationId:e.payload.videoConversationId}))}catch(t){Object(_t.b)(t)}}function*ih(e){try{yield Hc(Object(gp.k)({videoConversationId:e.payload.videoConversationId}))}catch(t){Object(_t.b)(t)}}function*ch(e){let t;try{const{videoConversationId:n}=e.payload,o=yield es(rr.b),a=Object(Cp.g)(o),r=a.messageId,i=a.conversationId,c=Object(Cp.k)(o,n);if(yield Hc(Object(An.c)({conversationId:i,action:c?Sa.a.AUDIO_CALL_OUTGOING_STARTING:Sa.a.VIDEO_CALL_OUTGOING_STARTING})),r){const e=yield es(rr.c);t=Object(ir.j)(Object(ir.l)(e,i),r),yield Xc(ru,{chatMessage:t,conversationId:i,params:{buttonId:a.sourceButtonId}})}const s=yield Xc(Zf,{conversationId:i,audioOnly:c,messageText:a.messageText,sourceButtonId:a.sourceButtonId,postBackChatMessageId:r,shouldWaitForConnection:!0,videoConversationId:n,activityEventType:"CALL_STARTED"});yield Hc(Object(gp.w)({agentWaitTime:s.conversation.agentWaitTime,videoConversationId:s.conversation.id}))}catch(n){t&&(yield Hc({type:Ee.I,payload:{chatMessage:t,conversationId:e.payload.conversationId}})),Object(_t.b)(n),Object(dn.f)(n)&&(yield Hc(Object(gp.i)({videoConversationId:e.payload.videoConversationId,reason:Cl.d.INITIATE_FAILED})))}}function*sh(e){try{const{conversationId:n,type:o,isPhone:a,prevState:r,videoConversationId:i}=e.payload,c=yield es(rr.b),l=Object(Cp.d)(c),u=s()(l,"state")===Cl.c.FAILED;if(Object(vp.f)({callDetails:l,rejoiningVideoConversationId:i}))return;u&&(yield Hc(Object(gp.l)({notifyAgent:!1,videoConversationId:i,callDetails:l,isIncomingCall:!0})));const p=o===Cl.a.AUDIO,b=Object(vp.b)(r);yield Hc(Object(An.c)({conversationId:n,action:Object(vp.c)(p,b)})),yield Hc(Object(gp.q)({conversationId:n,videoConversationId:i,state:b?Cl.c.ACCEPTED:Cl.c.SETUP,controls:Object(vp.e)(a),type:o}));const f=yield Xc(Qf,n);if(d()(f))return yield Hc(Object(gp.d)({videoConversationId:i,reason:Cl.b.REJOINING_FAILED_DUE_TO_CALL_END,prevState:r}));const{conversation:h}=f;if(b){try{yield Xc(Yf,{videoConversationId:h.id,shouldWaitForConnection:!0})}catch(t){if(Object(_t.b)(t),Object(dn.f)(t)){const e=s()(t,"response.data.error");return yield Hc(Object(gp.d)({videoConversationId:i,reason:"CALL_ALREADY_ENDED"===e?Cl.b.ACCEPT_FAILED_DUE_TO_CALL_END:Cl.b.ACCEPT_FAILED_DUE_TO_OTHER_REASONS,prevState:r}))}}yield Hc(Object(gp.t)({videoConversationId:h.id}))}}catch(t){if(Object(_t.b)(t),Object(dn.f)(t))return yield Hc(Object(gp.d)({videoConversationId:e.payload.videoConversationId,reason:Cl.b.REJOINING_FAILED_DUE_TO_OTHER_REASONS,prevState:e.payload.prevState}))}}function*lh(e){try{const{conversationId:t,type:n,isPhone:o,prevState:a,videoConversationId:r}=e.payload,i=yield es(rr.b),c=Object(Cp.d)(i),l=s()(c,"state")===Cl.e.FAILED;if(Object(vp.f)({callDetails:c,rejoiningVideoConversationId:r}))return;l&&(yield Hc(Object(gp.l)({notifyAgent:!1,videoConversationId:r,callDetails:c})));const u=n===Cl.a.AUDIO;yield Hc(Object(An.c)({conversationId:t,action:Object(vp.c)(u)})),yield Hc(Object(gp.r)({conversationId:t,videoConversationId:r,state:Object(vp.d)(a),controls:Object(vp.e)(o),type:n}));const p=yield Xc(Qf,e.payload.conversationId);if(d()(p))return yield Hc(Object(gp.i)({videoConversationId:r,reason:Cl.d.REJOINING_FAILED_DUE_TO_CALL_END,prevState:a}));const{conversation:b}=p;yield Hc(Object(gp.s)({videoConversationId:b.id,agentWaitTime:b.agentWaitTime}))}catch(t){if(Object(_t.b)(t),Object(dn.f)(t))return yield Hc(Object(gp.i)({videoConversationId:e.payload.videoConversationId,reason:Cl.d.REJOINING_FAILED_DUE_TO_OTHER_REASONS,prevState:e.payload.prevState}))}}function*dh(e){try{const t=e.payload,{isIncomingCall:n}=t,o=Object(ul.__rest)(t,["isIncomingCall"]);n?yield Hc(Object(gp.e)(o)):yield Hc(Object(gp.j)(o))}catch(t){Object(_t.b)(t)}}function*uh(e){try{yield Xc(Jf,e.payload.videoConversationId)}catch(t){Object(_t.b)(t)}}function*ph(){try{yield al(qf.e,ah),yield al(qf.g,rh),yield al(qf.n,ih),yield al(qf.b,eh),yield al(qf.m,oh),yield al(qf.u,ch),yield al(qf.c,th),yield al(qf.w,dh),yield al(qf.j,sh),yield al(qf.r,lh),yield al(Ee.c,nh),yield al(qf.x,uh)}catch(e){Object(_t.b)(e)}}function*bh(){yield Kc([Zc(Kf),Zc(ph)])}function fh(e){return e.type===pt}function*hh(){const e=yield es(rr.f);return d()(e)||(yield Hc(Object(oa.g)())),null}function*gh(e){try{const{events:t}=e.payload;yield Kc(t.filter(fh).map((e=>{const{status:t}=e.payload;return"LIVE"===t?Xc(hh):"COMPLETED"===t?Hc(Object(oa.c)({endedByAgent:!0})):null})))}catch(t){Object(_t.b)(t)}}function*yh(){yield al(_l.l,gh)}function*Oh(){yield Kc([Zc(Uu),Zc(yh)])}function mh(e){return e.type===ft}function*vh(e){yield Kc(e.filter(mh).map((e=>Hc({type:De,payload:e.payload}))))}function*jh(e){try{const{events:t}=e.payload;yield Kc([Xc(vh,t)])}catch(t){Object(_t.b)(t)}}function*Ih(){yield al(_l.l,jh)}const Eh=new(n(970).a),Ch=e=>Object(ul.__awaiter)(void 0,void 0,void 0,(function*(){const{httpMethod:t="GET",httpUrl:n="",httpPayload:o=tn.a,actionIdentifier:a,requestId:r}=e.params;let i,c;try{const d="POST"===t||"PUT"===t?yield Eh[t.toLowerCase()](n,o,{withCredentials:!0}):yield Eh[t.toLowerCase()](n,{withCredentials:!0});i=d.request.status,c=d.request.responseText}catch(d){Object(_t.b)(d),Object(dn.f)(d)?(i=d.request.status,c=d.request.responseText):(i=500,c="")}finally{yield(s={status:i,responseText:c,actionIdentifier:a,requestId:r},l=e.conversationId,Ys.post(`/livechat/cart/on-add-to-cart/${l}`,s))}var s,l})),Th=e=>Ys.post("/livechat/cart/update-cart",e),Sh=e=>Ys.post("/livechat/cart/remove-from-cart",e);function*_h(e){try{const{type:t,params:n,conversationId:o}=e.payload;"HTTP_REQUEST"===t&&(yield Xc(Ch,{params:n,conversationId:o}))}catch(t){Object(_t.b)(t)}}function*xh(){yield al(De,_h)}const Ah={presence:!0,format:{pattern:"^(?!\\s*$).+",message:"can only be non-empty string"}},Rh={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Ah,productCategory:{type:"string"},quantity:{type:"number"},standardPrice:{type:"number"},standardCurrency:{type:"string"},title:{type:"string"},description:{type:"string"}}}}},Nh={modifiedTime:{type:"number"},productItems:{array:{each:{sku:Ah,quantity:{type:"number"}}}}};function*wh(e){try{const n=(t=e.payload,ze()(t,Rh));if(n)return void Object(g.a)("Invalid payload passed to update cart, please check",n);yield Xc(Th,e.payload)}catch(n){Object(_t.b)(n)}var t}function*Lh(){yield al(Me,wh)}function*Dh(e){try{const n=(t=e.payload,ze()(t,Nh));if(n)return void Object(g.a)("Invalid payload passed to remove from cart, please check",n);yield Xc(Sh,e.payload)}catch(n){Object(_t.b)(n)}var t}function*Mh(){yield al(Pe,Dh)}function*Ph(){yield Kc([Zc(Ih),Zc(xh),Zc(Lh),Zc(Mh)])}function*kh(){try{yield Kc([Zc(yd),Zc(Rf),Zc(Mf),Zc(bh),Zc(Oh),Zc(Ph)])}catch(e){Object(_t.b)(e)}}function*Uh(){try{const e=yield Zc(kh);yield $c(Kn.c),yield Qc(e)}catch(e){Object(_t.b)(e)}}var Fh=n(533);function Bh(e,t){const n=Object(ao.a)(e,{path:"/conversation/:conversationId/:transientId?"});if(!n)return{};const o=s()(n.params,"conversationId"),a=s()(n.params,"transientId");return"all"===o?{isConversationPath:!1,matchedConversationId:void 0}:"new"===o?{isConversationPath:!0,matchedConversationId:t?t.slice(1):a}:{isConversationPath:!0,matchedConversationId:o}}var Gh=n(455),Vh=n(966);function*zh(e){try{const{conversationId:t,chatMessage:n}=e.payload,o=Object(Li.d)(yield es(Bn.g)),a=yield es(Bn.c),r=Object(ir.f)(a.conversations,t);if(r){const e=xi()(r.defaultMessages,"id"),a=vd.a.getId(n);if(e.includes(a))return void(yield Hc({type:Ee.O,payload:{conversationId:t,lastReadMessageId:a}}));if(function(e,t){return!(vd.a.getSender(e)===t)&&!Object(Id.f)(e)}(n,o)){const{isConversationPath:e,conversationId:n}=yield es(Fh.e),o=yield es(Bn.b),{isMinimized:a}=o,i=Object(me.b)(),c=!!e,s=!d()(r);(Object(p.B)()?s&&t===n:s)&&(yield Hc({type:Ee.P,payload:{conversationId:t,count:1}}),a&&!c&&i.push(`/conversation/${t}`))}}}catch(t){Object(_t.b)(t)}}function*Wh(){try{yield al(Ee.D,zh)}catch(e){Object(_t.b)(e)}}function*$h(e){try{const t=Object(Gh.a)();Object(Gh.b)(t)?t.open(Object(Xt.c)(e.payload.url),e.payload.target):window.open(Object(Xt.c)(e.payload.url)),e.promise.resolve()}catch(t){e.promise.reject(),Object(_t.b)(t)}}function*Hh(){try{yield al(Ee.Q,$h)}catch(e){Object(_t.b)(e)}}function*Kh(e){try{window.open(Object(Xt.b)(e.payload.phoneNumber)),e.promise.resolve()}catch(t){e.promise.reject(),Object(_t.b)(t)}}function*qh(){try{yield al(Ee.p,Kh)}catch(e){Object(_t.b)(e)}}function*Yh(e){try{const{surveyUrl:t,shouldReplace:n,conversationId:o}=e.payload,a=Object(me.b)(),r=Object(p.B)()||Object(p.F)()?`${t}&showCancel=true`:t,i=`/survey/${encodeURIComponent(`${r}&hideThankYouPage=true`)}`;return n?a.replace(i):a.push(o?`/conversation/${o}${i}`:i)}catch(t){return void Object(_t.b)(t)}}function*Xh(){try{yield al(Ee.U,Yh)}catch(e){Object(_t.b)(e)}}function*Zh(e){try{const{deleted:n,closed:o,surveyUrl:a,conversationId:r}=e.payload;try{if(n||o){const e=Object(me.b)(),{matchedConversationId:t}=Bh(e.location.pathname,e.location.hash),o=n&&r&&t===r&&!Object(p.B)();a?yield Hc(Object(Hd.n)({surveyUrl:a,shouldReplace:o,conversationId:r})):o&&e.goBack()}}catch(t){Object(_t.b)(t)}}catch(t){Object(_t.b)(t)}}function*Jh(){try{yield al(Ee.j,Zh)}catch(e){Object(_t.b)(e)}}function*Qh(){try{const{payload:{applicationConfig:e,handshakeDetails:t}}=yield $c(Kn.a);if(t){if(Object(p.E)()){const e=Object(p.g)();yield Hc(Object(Hd.b)(e))}if(Object(p.D)()){const e=Object(p.f)(),t=Object(p.c)(e);yield Hc(Object(Hd.a)(e,t,Object(Yt.a)()))}yield ns(1e3),yield Hc(Object(Hd.g)())}}catch(e){Object(_t.b)(e)}}function*eg(e){try{const{payload:t,promise:n}=e,{conversationId:o}=t;yield Xc(Vh.b,o),n&&n.resolve()}catch(t){e.promise&&e.promise.reject(),Object(_t.b)(t)}}function*tg(){try{yield al(Ee.o,eg)}catch(e){Object(_t.b)(e)}}function*ng(e){try{const t=yield es(Bn.g),n=Object(Li.d)(t),o=yield es(Bn.c),a=((e,t,n)=>{if(n){const o=Object(Fh.d)(e[n],t);return o?[{conversationId:n,count:o}]:[]}return Yl()(e,((e,n)=>{const o=Object(Fh.d)(n,t);return o&&e.push({conversationId:n.id,count:o}),e}),[])})(Object(ir.p)(o).byId,n,e);d()(a)||(yield Hc({type:Ee.N,payload:a}))}catch(t){console.warn(t)}}function*og(){try{if(Object(p.B)()){if(Object(p.H)())for(;;){yield $c(Ee.g);const{conversationId:e}=yield es(Fh.e);yield Xc(ng,e)}if(Object(p.E)()||Object(p.D)()){yield qc([$c(Ee.t),$c(Ee.u),$c(Ee.w),$c(Ee.x)]);const{conversationId:e}=yield es(Fh.e);return void(yield Xc(ng,e))}return}if(Object(p.E)()||Object(p.D)())return yield Kc([qc([$c(Ee.t),$c(Ee.w),$c(Ee.u),$c(Ee.x)]),$c(Ee.g)]),void(yield Xc(ng));if(Object(p.J)()||Object(p.G)()||Object(p.H)())for(;;)yield $c(Ee.g),yield Xc(ng)}catch(e){Object(_t.b)(e)}}function*ag(){try{yield Kc([Zc(Qh),Zc(Wh),Zc(Hh),Zc(qh),Zc(tg),Zc(Xh),Zc(Jh),Zc(og)])}catch(e){Object(_t.b)(e)}}function*rg(e){let{action:t}=e;try{const e=t.payload;if((n=e).type!==lp.h&&n.type!==lp.i)return;const o=yield es(Bn.c),a=Object(ir.d)(Object(ir.u)(o));e.type===lp.h&&(yield Xc(Kt.j,e.payload.contextId||a,e.payload.abortedProcessContext,[])),e.type===lp.i&&(yield Xc(Kt.h,e.payload.contextId||a))}catch(o){Object(_t.b)(o)}var n}function*ig(e){try{const{conversationId:t,chatMessage:n}=e.payload,o=yield Xc(Kt.d,t);if(o){const e=jd.a.getAttachment(vd.a.getMessagePayload(n));if(Object(en.c)(vd.a.getSender(n))&&e&&Object(jp.c)(e)){const e=vd.a.getId(n),a=o.messageIds;yield Xc(Kt.j,t,o.context,[...a,e])}}}catch(t){Object(_t.b)(t)}}function*cg(e){try{const{conversationId:t,chatMessage:n}=e.payload,o=yield Xc(Kt.d,t);o&&(yield Xc(Kt.j,t,o.context,[]))}catch(t){Object(_t.b)(t)}}function*sg(){yield al(Ee.D,ig)}function*lg(){yield al(Ee.G,cg)}function*dg(e){try{const t=yield Xc(Kt.d,e);t&&(yield Kc(t.messageIds.map((e=>Xc(Vd,e)))),yield Xc(Gd,{context:t.context,conversationId:e}),yield Xc(Kt.h,e))}catch(t){Object(_t.b)(t)}}function*ug(e){try{const{results:t}=e.payload.conversationResponse;yield Kc(t.map((e=>Xc(dg,e.id))))}catch(t){Object(_t.b)(t)}}function*pg(){yield al(Ee.g,ug)}function*bg(){yield Kc([Zc(sg),Zc(lg),Zc(pg)])}var fg=n(518),hg=n.n(fg),gg=n(502),yg=n.n(gg),Og=n(814);function*mg(){try{const e=yield es(Bn.b),{isMinimized:t}=e;t&&(yield Hc({type:W.d,payload:{}}))}catch(e){Object(_t.b)(e)}}function*vg(){try{const e=yield es(Bn.c),t=Object(ir.d)(Object(ir.u)(e)),n=yield Xc(me.b),o=`/conversation/${t}`,{isConversationPath:a}=Bh(n.location.pathname,n.location.hash);a?n.replace(o):n.push(o),yield Xc(mg)}catch(e){Object(_t.b)(e)}}function*jg(){try{yield $c(Ee.g),yield Xc(vg)}catch(e){Object(_t.b)(e)}}function*Ig(e){let{initialMessages:t,conversationContext:n,createCase:o,additional:a,assignToUser:r,conversationId:i}=e;try{const e=yield es(Bn.g),c=Object(Li.d)(e);let s,l;const u=yg()(t,(e=>{const t=Ro()(e)?e:e.message;return!d()(pn()(t))}));if(!d()(u)||d()(t)&&de()(t)){const e=(e=>e.map((e=>Ro()(e)?{message:{text:e},isSentByUser:!1}:Ro()(e.message)?{...e,message:{text:e.message}}:e)))(u);s=Fr()(e.map(((e,t)=>e.isSentByUser?Zd.a.makeOutgoing().makeTextMessage({text:e.message.text||"",conversationId:i,sender:c,disableManualResponse:e.message.disableManualResponse}):Xu(e.message.text,i,`${t}`,e.message.disableManualResponse)))),l=!0}else{const e=yield es(Bn.c),t=Object(ir.l)(e,Ho.e);s=Object(ir.k)(t),l=Object(ir.w)(t)}yield Hc({type:Ee.J,payload:{conversationId:i,messages:s,conversationContext:n,hasInitialItems:l,createCase:o,assignToUser:r,additional:a}})}catch(c){Object(_t.b)(c)}}function*Eg(e,t){const{payload:{silent:n},promise:o}=t;try{let a=yield es((e=>e));const r=$t.a.getCustomizationConfig(e),i=(e,t)=>s()(e,t),c=Object(ir.p)(Object(Bn.c)(a));Ie()(Object(ir.t)(c))&&(yield Hc({type:Ee.B,payload:{}}),yield $c(Ee.ab),a=yield es((e=>e)));const{isLocked:l}=Object(Fh.f)(a,r,i);if(l){if(!n){const e=Object(ir.b)(c);yield Xc(e?vg:jg)}throw Ku.a.LIMIT_REACHED}const d=`${Ho.e}_${hg()()}`;if(yield Xc(Ig,{...t.payload,conversationId:d}),n&&(yield Hc({type:Ee.K,payload:{conversationId:d,appContext:Object(Yt.a)()},promise:o})),!n){const e=Object(me.b)(),{isConversationPath:t}=Bh(e.location.pathname,e.location.hash),n=`/conversation/new/${d}`;!!t?e.replace(n):e.push(n),yield Xc(mg)}}catch(a){o&&o.reject(Zu(a)),Object(_t.b)(a)}}function*Cg(e){const{payload:t,promise:n}=e;let o;try{const e=yield es(Bn.c),a=Object(ir.p)(e);if(o=t.conversationId||Object(ir.d)(Object(ir.u)(e)),!o)return void(n&&n.reject(Ku.a.NOT_FOUND));const r=Object(me.b)(),{isConversationPath:i,matchedConversationId:c}=Bh(r.location.pathname,r.location.hash),l=!!i,u=`/conversation/${o}`;let b=o,f=[];if(c!==o){if(Object(p.z)(o)){const e=Object(p.d)(o),t=Object(p.c)(e),n=Object(ir.i)(a,e);b=t,Cd()(a.ids,n)||(yield Hc(Object(Hd.a)(e,t,Object(Yt.a)())),f=[Ee.t,Ee.u])}else Cd()(a.ids,o)||(yield Hc(Object(Hd.b)(o)),f=[Ee.w,Ee.x]);for(;!d()(f);){const[e,t]=yield qc([$c(f[0]),$c(f[1])]);if(b===(s()(e,"payload.conversationResponse.id")||s()(t,"payload.conversationId"))){if(t)throw t.payload.error;break}}}l?r.replace(u):r.push(u),yield Xc(mg),n&&n.resolve(o)}catch(a){Object(_t.b)(a),n&&n.reject(Zu(a))}finally{(yield zc(Vc,{}))&&n&&n.reject(Ku.a.UNEXPECTED_ERROR)}}function*Tg(){try{const{payload:{applicationConfig:e}}=yield $c(Kn.a);yield al(Og.c,Eg,e)}catch(e){Object(_t.b)(e)}}function*Sg(){try{yield function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];return Zc.apply(void 0,[nl,e,t].concat(o))}(Og.a,Cg)}catch(e){Object(_t.b)(e)}}var _g=n(738);const xg={[eu.b.PROGRESS_BAR]:e=>{const t=vd.a.getMessagePayload(e).attachment;return t.status===_g.a.ABORTED||t.status===_g.a.ERROR}},Ag=e=>{const t=vd.a.getMessagePayload(e).attachment,n=t&&xg[t.type];return n&&n(e)};class Rg{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=q()(this.queueItems,(t=>vd.a.getId(e.message)===vd.a.getId(t.message)));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}}const Ng="EXTERNAL_MESSAGE_SEND";function*wg(e){try{const{message:t,externalMessageId:n}=e,o=yield Xc(Yd,t);o&&(yield Hc({type:Ng,payload:{id:n,message:o}}))}catch(t){Object(_t.b)(t)}}function*Lg(e){try{for(;;){const t=yield $c(e);Ag(t.message)||(yield Xc(wg,t))}}catch(t){Object(_t.b)(t)}}let Dg;function*Mg(e){try{Dg||(Dg=yield Xc(js,new Rg),yield Jc(Lg,Dg));const t=yield es(Bn.c),n=Object(ir.d)(Object(ir.u)(t)),o=yield es(Bn.g),a=Object(Li.d)(o),r=Zd.a.makeOutgoing().makeDynamicMessage({externalMessageId:e.id,messageId:e.sprMsgId,messagePayload:e.message,conversationId:e.contextId||n,messageContext:e.messageContext,sender:e.isSentByUser?a:Ho.b});if(!r)return;const i={externalMessageId:e.id,message:r};!e.sprMsgId||Ag(r)?yield Zc(wg,i):yield Hc(Dg,i);const{payload:{id:c,message:s}}=yield $c(Ng);return{id:c,message:s}}catch(t){return void Object(_t.b)(t)}}function*Pg(e){let{action:t}=e;try{if(t.payload.type!==lp.d)return;const{id:e,message:n}=yield Xc(Mg,t.payload.payload);yield Hc(Object(Kl.l)({id:e,conversationId:vd.a.getConversationId(n),messageId:vd.a.getId(n)}))}catch(n){Object(_t.b)(n)}}function*kg(e){let{action:t}=e;try{if(t.payload.type!==lp.c)return;const{payload:e}=t.payload,n=Zd.a.makeOutgoing().makeDynamicMessage({externalMessageId:e.id,messagePayload:{events:il()(e.event)},conversationId:e.contextId,sender:Ho.b});if(!n)return;yield Xc(Yd,n)}catch(n){Object(_t.b)(n)}}var Ug=n(1048),Fg=n.n(Ug);const Bg=/\$\{(\w+)\}/g,Gg=(e,t)=>{const n=Object.keys(t);return Fg()(e,Bg,((e,o)=>n.includes(o)?t[o]:e))},Vg=(e,t)=>{const{totalUnits:n,completedUnits:o,action:a,status:r}=t,i=e[`progress.${a}.${r}.title`];return Gg(i,{completedUnits:o,totalUnits:n})},zg=(e,t)=>{const{totalUnits:n,completedUnits:o,action:a,status:r}=t,i=e[`progress.${a}.${r}.description`];return Gg(i,{completedUnits:o,totalUnits:n})};class Wg{constructor(){this.queueItems=void 0,this.queueItems=[]}isEmpty(){return 0===this.queueItems.length}put(e){const t=q()(this.queueItems,(t=>e.contextId===t.contextId));-1!==t&&this.queueItems.splice(t,1),this.queueItems.push(e)}take(){return this.queueItems.shift()}}const $g=(e,t)=>`${e}_${t}`,Hg=ll()((()=>{const e={};return{get:t=>e[t],set:(t,n)=>{e[t]=n},remove:t=>{delete e[t]}}}));function*Kg(e){for(;;)try{const{contextId:n,id:o,message:a,messageContext:r}=yield $c(e),i=a.attachment,{id:c,message:s}=yield Xc(Mg,{contextId:n,id:o,sprMsgId:Hg().get($g(n,i.action)),message:a,messageContext:r});yield Hc(Object(Kl.m)({id:c,conversationId:vd.a.getConversationId(s),messageId:vd.a.getId(s)})),(t=i).status!==_g.a.COMPLETED&&(t.status!==_g.a.ABORTED&&t.status!==_g.a.ERROR||t.enableRetry)?Hg().set($g(n,i.action),vd.a.getId(s)):Hg().remove($g(n,i.action))}catch(n){Object(_t.b)(n)}var t}let qg;function*Yg(e){let{action:t,localeData:n}=e;try{if(t.payload.type!==lp.f)return;qg||(qg=yield Xc(js,new Wg),yield Jc(Kg,qg));const{payload:{contextId:e,id:o,progressContext:a,data:r}}=t.payload;yield Hc(qg,{contextId:e,id:o,message:{attachment:{type:eu.b.PROGRESS_BAR,title:Vg(n,r),description:zg(n,r),progress:r.progress,status:r.status,action:r.action,enableCancel:r.enableCancel,enableRetry:r.enableRetry},disableManualResponse:r.disableManualResponse},messageContext:a})}catch(o){Object(_t.b)(o)}}function*Xg(e,t){try{yield Kc([Xc(Pg,{action:t,localeData:e}),Xc(kg,{action:t,localeData:e}),Xc(Yg,{action:t,localeData:e}),Xc(rg,{action:t})])}catch(n){Object(_t.b)(n)}}function*Zg(){try{const e=yield ts(Ee.y),{payload:{localeData:t}}=yield $c(W.k);yield al(e,Xg,t)}catch(e){Object(_t.b)(e)}}function*Jg(){const e=Object(u.a)();yield Object(Kt.f)(e.appId)}function*Qg(){yield al(W.f,Jg)}function*ey(){try{yield Kc([Zc(Tg),Zc(Sg),Zc(Zg),Zc(Qg)])}catch(e){Object(_t.b)(e)}}function ty(e){return Object(ir.v)(Object(ir.p)(Object(Bn.c)(e)))}function*ny(){try{let t=yield es(ty);for(;;)try{yield qc({notificationReceived:$c(Ee.P),notificationRead:$c(Ee.O),notificationsReceived:$c(Ee.N)});const e=yield es(ty);t!==e&&(Object(be.a)({topic:ee.l,payload:{data:{count:e}}}),t=e)}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*oy(){try{for(;;)try{const e=yield $c(Ee.z);Object(be.a)({topic:ee.f,payload:{data:{type:e.payload.type,payload:{...e.payload.payload,userAuthToken:yield Object(Kt.a)(kt.a.getAppId(Object(u.a)()))}}}})}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*ay(){try{yield Kc([Zc(ny),Zc(oy)])}catch(e){Object(_t.b)(e)}}var ry=n(215);async function iy(e){return(await Ge.a.get(`/livechat/upload/policy?fileName=${encodeURIComponent(e)}`)).data}async function cy(e,t){const n=await Ge.a.post(`https://${e}.s3.amazonaws.com/`,t);return decodeURIComponent(n.headers.location)}const sy=[{key:"Cache-Control",value:n.n(ry)()("max-age=31536000, no-transform, public")},{key:"Content-Type",value:e=>e.type}],ly=["key","acl","x-amz-credential","x-amz-algorithm","x-amz-date","policy","x-amz-signature","x-amz-security-token","x-amz-server-side-encryption"];function*dy(e,t){try{if(function(e){return"AZURE"===e.type}(e)){const{uploadFileOnAzure:o}=yield Promise.all([n.e(4),n.e(14)]).then(n.bind(null,1839));return yield Xc(o,e,t)}return yield Xc(cy,e.bucket,function(e,t){const n=new FormData;return ly.forEach((t=>{n.append(t,e[t])})),sy.forEach((e=>{n.append(e.key,e.value(t))})),n.append("file",t),n}(e,t))}catch(o){return}}function*uy(e){try{const t=yield Xc(iy,e.name);if(t){return yield Xc(dy,t,e)}return}catch(t){return}}var py=n(660),by=n(638);function fy(e){return new Promise((t=>{const n=document.createElement("img");n.onload=e=>{e.target&&t({height:e.target.naturalHeight,width:e.target.naturalWidth})},n.src=e}))}function*hy(e,t,n,o){try{if(a=n.type,Cd()(by.c,a)){const a=URL.createObjectURL(n),{height:r,width:i}=yield Xc(fy,a),c=yield Xc(Hd.p,Zd.a.makeOutgoing().makeImageAttachmentMessage({attachmentProperties:{height:r,width:i,url:a},conversationId:e,sender:t,inReplyToChatMessageId:o}));yield Hc(c);const s=yield Xc(uy,n);if(s){const e=Object(py.f)(c.payload.chatMessage,s,eu.b.IMAGE);yield Xc(Xd,e),URL.revokeObjectURL(a)}else yield Hc({payload:{conversationId:e,transientId:c.payload.chatMessage.id},type:Ee.F})}}catch(r){Object(_t.b)(r)}var a}function gy(e){return new Promise((t=>{const n=document.createElement("video");n.onloadeddata=()=>{n.currentTime=0},n.onseeked=e=>{const o=document.createElement("canvas");o.height=n.videoHeight,o.width=n.videoWidth;const a=o.getContext("2d");if(a){a.drawImage(n,0,0,o.width,o.height);(o.toBlob||o.msToBlob).bind(o)((e=>{const o=e?new File([e],"image.jpg",{type:"image/jpeg"}):null;t({previewImageFile:o,height:n.videoHeight,width:n.videoWidth})}))}},n.src=e,n.load()}))}function*yy(e){try{return yield Xc(uy,e)}catch(t){return void Object(_t.b)(t)}}function*Oy(e,t,n,o){try{if(a=n.type,Cd()(by.e,a)){const a=URL.createObjectURL(n),{previewImageFile:r,height:i,width:c}=yield Xc(gy,a),s=URL.createObjectURL(r),l=yield Xc(Hd.p,Zd.a.makeOutgoing().makeVideoAttachmentMessage({attachmentProperties:{height:i,width:c,previewImageUrl:s,url:a},conversationId:e,sender:t,inReplyToChatMessageId:o}));yield Hc(l);const[d,u]=yield Kc([Xc(uy,n),Xc(yy,r)]);if(d){const e=Object(py.g)(Object(py.f)(l.payload.chatMessage,d,eu.b.VIDEO),u);yield Xc(Xd,e),URL.revokeObjectURL(a),URL.revokeObjectURL(s)}else yield Hc({payload:{conversationId:e,transientId:l.payload.chatMessage.id},type:Ee.F})}}catch(r){Object(_t.b)(r)}var a}var my=n(1049);const vy={"application/pdf":my.a.PDF,"text/plain":my.a.DOCUMENT,"application/msword":my.a.WORD_DOCUMENT,"application/vnd.openxmlformats-officedocument.wordprocessingml.document":my.a.WORD_DOCUMENT,"application/vnd.ms-excel":my.a.EXCEL,"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":my.a.EXCEL,"application/vnd.ms-powerpoint":my.a.PRESENTATION,"application/vnd.openxmlformats-officedocument.presentationml.presentation":my.a.PRESENTATION,"application/onenote":my.a.ONENOTE,"application/json":my.a.DOCUMENT};function*jy(e,t,n,o){try{if(a=n.type,Cd()(by.b,a)){const a=URL.createObjectURL(n),r=yield Xc(Hd.p,Zd.a.makeOutgoing().makeDocumentAttachmentMessage({attachmentProperties:{url:a,title:n.name,documentType:vy[n.type]},conversationId:e,sender:t,inReplyToChatMessageId:o}));yield Hc(r);const i=yield Xc(uy,n);if(i){const e=Object(py.f)(r.payload.chatMessage,i,eu.b.DOCUMENT);yield Xc(Xd,e),URL.revokeObjectURL(a)}else yield Hc({payload:{conversationId:e,transientId:r.payload.chatMessage.id},type:Ee.F})}}catch(r){Object(_t.b)(r)}var a}function*Iy(e,t,n,o){try{if(a=n.type,Cd()(by.a,a)){const a=URL.createObjectURL(n),r=yield Xc(Hd.p,Zd.a.makeOutgoing().makeAudioAttachmentMessage({attachmentProperties:{url:a,mimeType:n.type,title:n.name},conversationId:e,sender:t,inReplyToChatMessageId:o}));yield Hc(r);const i=yield Xc(uy,n);if(i){const e=Object(py.f)(r.payload.chatMessage,i,eu.b.AUDIO);yield Xc(Xd,e),URL.revokeObjectURL(a)}else yield Hc({payload:{conversationId:e,transientId:r.payload.chatMessage.id},type:Ee.F})}}catch(r){Object(_t.b)(r)}var a}function*Ey(e){const{conversationId:t,chatUserId:n,file:o,inReplyToChatMessageId:a}=e.payload;yield Kc([Xc(hy,t,n,o,a),Xc(Oy,t,n,o,a),Xc(Iy,t,n,o,a),Xc(jy,t,n,o,a)])}var Cy=function*(){yield al(Og.b,Ey)};let Ty;function*Sy(){for(;;)try{let e;yield $c(_l.b),Ty=Date.now(),yield $c(_l.a),e=Date.now(),Ty&&e-Ty>=3e5&&(Ty=void 0,yield Hc({type:_l.m}))}catch(e){Object(_t.b)(e)}}function*_y(){yield Kc([Zc(Sy)])}var xy=n(1040),Ay=n(406);function*Ry(){try{for(;;)try{yield $c(W.g);Object(p.K)()?Object(be.a)({topic:ee.d}):yield Hc(Object(Ay.b)())}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*Ny(){try{for(;;)try{const e=yield $c(W.l),{isMediaOpen:t}=e.payload;t?Object(be.a)({topic:ee.h}):Object(be.a)({topic:ee.g})}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*wy(e,t){try{yield Hc(Object(Ay.i)(e,t))}catch(n){Object(_t.b)(n)}}function*Ly(e,t,n){try{const e=yield es(Bn.b),t=Object(Fn.e)(e),n=Object(Li.c)(yield es(rr.h)).userId;let o={};Da()(t,((e,t)=>{o={...o,[t]:e.enabled}})),yield Object(Kt.k)(n,o)}catch(o){yield Xc(wy,e,n),Object(_t.b)(o)}}function*Dy(){try{for(;;){const e=yield $c(W.p),{userPreferenceKey:t,newValue:n,oldValue:o}=e.payload;yield Xc(wy,t,n),yield Xc(Ly,t,n,o)}}catch(e){Object(_t.b)(e)}}function*My(){try{const{payload:{applicationConfig:e}}=yield $c(Kn.a);setTimeout((()=>{const t=s()(e,"otherConfigs.theme.icons",{});Da()(t,(e=>{Object(xy.a)(e)}))}),1e4)}catch(e){Object(_t.b)(e)}}function*Py(){try{yield Kc([Zc(Ry),Zc(Ny),Zc(Dy),Zc(My)])}catch(e){Object(_t.b)(e)}}function*ky(e){try{const{user:t,userContext:n}=e.payload||{},o=Object(Li.c)(yield es(rr.h)),a=Ws.a.getId(o),r=Object(p.M)(n);if(Object(en.a)(t)&&!Object(en.b)(a)||Object(en.b)(a)&&Object(en.d)(t,o)){const e=k()(Object(u.a)(),{userContext:{$merge:r},user:{$set:{...Object(u.a)().user||{},...t}}});Object(u.f)(e);const n=yield Xc(Ql,{...o,...t,customContext:r});return yield Hc(Object(An.c)({action:Sa.a.USER_PROFILE_UPDATED})),void(yield Hc({type:U.d,payload:{users:[n]}}))}const i=k()(Object(u.a)(),{userContext:{$set:r},user:{$set:t}});return Object(u.f)(i),void Object($n.c)({shouldReboot:!0})}catch(t){Object(_t.b)(t)}}function*Uy(){try{yield al(V,ky)}catch(e){Object(_t.b)(e)}}function*Fy(){return Is((e=>{const t=()=>{e(Object(An.g)(!0))},n=()=>{e(Object(An.g)(!1))};return window.addEventListener("online",t),window.addEventListener("offline",n),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}))}function*By(){let e;try{for(e=yield Xc(Fy);;){const t=yield $c(e);yield Hc(t)}}catch(t){Object(_t.b)(t)}finally{e&&e.close()}}function Gy(){return Is((e=>{const t=Object(u.b)();if(!t)return X.a;const n=()=>{const{visibilityState:t}=document;"hidden"===t&&e({type:_l.b}),"visible"===t&&e({type:_l.a})};return t.document.addEventListener("visibilitychange",n),()=>{t.document.removeEventListener("visibilitychange",n)}}))}function*Vy(){let e;try{for(e=yield Xc(Gy);;){const t=yield $c(e);yield Hc(t)}}catch(t){Object(_t.b)(t)}finally{e&&e.close()}}function*zy(e){try{const{ssoId:t,conversationId:n,messageId:o}=e.payload;yield Qt({ssoId:t,conversationId:n,messageId:o}),yield Hc({type:_l.e,payload:{}}),yield Hc({type:Kn.b,payload:{}}),e.promise&&e.promise.resolve()}catch(t){yield Hc({type:_l.c,payload:{}}),e.promise&&e.promise.reject()}}function*Wy(){try{yield al(_l.d,zy)}catch(e){Object(_t.b)(e)}}function*$y(){try{yield Kc([Zc(Wy)])}catch(e){Object(_t.b)(e)}}let Hy=!0;function*Ky(){for(;;)try{yield $c(W.b),yield Hc({type:W.c})}catch(e){Object(_t.b)(e)}}function*qy(){for(;;)try{yield $c(W.d),yield Hc({type:W.e})}catch(e){Object(_t.b)(e)}}function*Yy(e){Hy=!1,yield Hc(Object(An.a)({ssoId:Ht.a.getAutoLoginSSOId($t.a.getCustomizationConfig(e))})())}function*Xy(){try{const{payload:{applicationConfig:e}}=yield $c(Kn.a);if(Object(p.K)())return;if(!Hy||!Jt(e))return void(yield Zc(qy));yield $c(W.d),yield Xc(Yy,e),yield $c(_l.c),yield Zc(qy),yield Hc({type:W.d})}catch(e){Object(_t.b)(e)}}function*Zy(){yield Kc([Zc(Xy),Zc(Ky)])}var Jy=n(1050);function*Qy(e){try{const{type:t,buttonId:n,promptId:o}=e.payload,a=yield es(Bn.d),r=Ja()(a,(e=>e.id===o));if(!r)return;t!==nr.a.TRIGGERED&&(yield Hc(function(e){return{type:re.b,payload:{promptId:e}}}(o)));const i=Ja()(r.buttons,(e=>e.id===n));t===nr.a.ENGAGED&&i&&i.type===nr.b.URL&&i.value?window.open(Object(Xt.c)(i.value)):t!==nr.a.ENGAGED||i&&i.type===nr.b.CLOSE||(yield Hc(Object(fe.b)({initialMessages:Fr()([...xi()(r.messages,(e=>{let{text:t,disableManualResponse:n=!1}=e;return{message:{text:t,disableManualResponse:n}}})),i?{isSentByUser:!0,message:i.label}:void 0]),createCase:!!s()(r.additional,"createCase"),additional:{...Zl()(r.additional,["interceptId","creativeId"]),interceptTargetId:n,clickedOnPrompt:!0}}))),Object(be.a)({topic:ee.j,payload:{data:{type:t,id:o,button:i}}})}catch(t){Object(_t.b)(t)}}function*eO(){try{yield al(Jy.a,Qy)}catch(e){Object(_t.b)(e)}}function*tO(){try{const{appId:e}=Object(u.a)();yield Xc(na.remove,e)}catch(e){Object(_t.b)(e)}}function*nO(e){try{const{conversationId:t,messageId:n,agentId:o}=e.payload.state,{appId:a}=Object(u.a)();yield Xc(na.set,a,JSON.stringify({conversationId:t,messageId:n,agentId:o}))}catch(t){Object(_t.b)(t)}}function*oO(){yield al([Ou.g,Ou.h],tO)}function*aO(){yield al(Ou.j,nO)}function*rO(){yield Kc([Zc(oO),Zc(aO)])}var iO=n(1051);let cO=null;function sO(e){let{sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n}=e;if(t&&n)try{Object(iO.a)(),cO=setTimeout((()=>{sO({sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n})}),((e,t)=>{const n=60*e*1e3-t,o=60*e*1e3/3;return n<=o?Math.max(n-2e3,0):o})(t,n))}catch(o){Object(_t.b)(o)}}function*lO(){try{const{payload:{applicationConfig:e}}=yield $c(Kn.a),t=$t.a.getAutoExpireUserSessionTimeInMinutes(e),n=s()(e,"otherConfigs.settings.autoExpiryConfig.alertTime");for(;t&&n;)yield qc([$c(qf.e),$c(qf.u),$c(qf.w)]),sO({sessionExpiryTimeInMinutes:t,sessionExpiryAlertTime:n}),yield qc([$c(qf.h),$c(qf.o),$c(qf.b)]),cO&&clearTimeout(cO)}catch(e){Object(_t.b)(e)}finally{cO&&clearTimeout(cO)}}var dO=n(666);function uO(e){return e.type===ht}function*pO(e){try{const{events:t}=e.payload;yield Kc(t.filter(uO).map((e=>(dO.d.emit({type:dO.a}),null))))}catch(t){Object(_t.b)(t)}}function*bO(){try{yield al(_l.l,pO)}catch(e){Object(_t.b)(e)}}var fO=async e=>{let t;try{h.a.reset(),A(C),t=await cn(Object(u.a)()),nn({handshakeDetails:t}),bn(t.chatUser),e.hasPrompts&&n.e(46).then(n.bind(null,1850)).then((n=>{let{default:o}=n;o(e,t)})),CO(null,{applicationConfig:e,handshakeDetails:t,chatSettings:Object(u.a)(),subscribeToEvent:sn})}catch(o){const n=kt.a.getUserSettings(Object(u.a)());Object(dn.e)(o)&&n&&Wt.getOneTimeToken(n)?CO(o,{applicationConfig:e,handshakeDetails:t,chatSettings:Object(u.a)(),subscribeToEvent:sn}):await ln()}};function*hO(){try{const{payload:{applicationConfig:t}}=yield $c(Kn.a);for(;;)try{yield $c(Kn.b),yield fO(t)}catch(e){Object(_t.b)(e)}}catch(e){Object(_t.b)(e)}}function*gO(){try{yield Kc([Zc(ag),Zc(eO),Zc(ey),Zc(ay),Zc(Cy),Zc(By),Zc(Vy),Zc(_y),Zc(Py),Zc(Uy),Zc($y),Zc(bg),Zc(rO),Zc(lO),Zc(bO)])}catch(e){Object(_t.b)(e)}}function*yO(){try{yield $c(Kn.c),A(_)}catch(e){Object(_t.b)(e)}}function*OO(){try{yield Kc([Zc(hO),Zc(Zy),Zc(yO)])}catch(e){Object(_t.b)(e)}}function*mO(){try{yield Zc(OO);const e=yield Zc(gO);yield $c(Kn.c),yield Qc(e)}catch(e){Object(_t.b)(e)}}function*vO(){yield Kc([Zc(Uh),Zc(mO)])}const jO=(e,t,n)=>(new Xs).setReducer(Bn.a).setSaga(vO).setHTTPClient(Ge.a).setApplicationConfig(e).setHandshakeDetails(t).setChatSettings(n).build();function IO(e){let{applicationConfig:t,store:n,history:o}=e;const a=Object(u.b)().document,r=Object(p.K)()?p.a:p.b;yn.a.render(Object(Rn.jsx)(Mi,{applicationConfig:t,history:o,store:n}),r(a,"spr-live-chat-app"))}function EO(e,t){let{applicationConfig:n,handshakeDetails:o,chatSettings:a,subscribeToEvent:r}=t;const i=jO(n,o,a),c=Object(me.b)({isUnauthorized:!!e});r((t=>{e||i.dispatch(t)})),IO({applicationConfig:n,store:i,history:c})}function CO(e,t){let{applicationConfig:n,handshakeDetails:o,chatSettings:a,subscribeToEvent:r}=t;const i=jO(n,o,a),c=Object(me.b)({isUnauthorized:!!e,reset:!0});r((t=>{e||i.dispatch(t)})),IO({applicationConfig:n,store:i,history:c}),c.go(c.entries.length-1)}async function TO(){let e,t,o;try{if(e=Object(u.a)(),d()(e))throw new Error;await on(e),nn({getSessionToken:()=>Object(Kt.a)(e.appId)});const[a,r]=await(async e=>{const[t,n]=await Promise.allSettled([rn(e),cn(e)]),o=t.value;if(Object(p.L)()||!Jt(o))return[t,n];try{await Qt({ssoId:Ht.a.getAutoLoginSSOId($t.a.getCustomizationConfig(o))})}catch(a){Object(_t.b)(a)}return[t,{value:await cn(e)}]})(e);if(t=a.value,o=r.value,"rejected"===r.status)throw r.reason;if("rejected"===a.status)throw new Error;((e,t)=>{const{appId:n}=Object(u.a)(),{chatUser:o}=e;!s()(t,"otherConfigs.settings.disableSentry")&&Object(_t.a)()})(o,t),(e=>{const t=!Ht.a.isDebugModeDisabled(e.otherConfigs);window.sprDebugLog=function(){t&&console.debug(...arguments)}})(t),nn({applicationConfig:t,handshakeDetails:o}),t.hasPrompts&&n.e(46).then(n.bind(null,1850)).then((e=>{let{default:n}=e;n(t,o)})),EO(null,{applicationConfig:t,handshakeDetails:o,chatSettings:e,subscribeToEvent:sn})}catch(a){const n=kt.a.getUserSettings(e);Object(dn.e)(a)&&n&&Wt.getOneTimeToken(n)?EO(a,{applicationConfig:t,handshakeDetails:o,chatSettings:e,subscribeToEvent:sn}):await ln()}}const SO=()=>{!function(){async function e(){Lt(...arguments)}const t=Object(u.e)();e.q=t?t.q:[],e.loaded=!0,Object(u.b)().sprChat=e}();const e=Object(p.w)();n(1029)(`./${e.toLowerCase()}/pages`);const t=Object(u.e)();f(...t.q),TO();const{meetingId:o,user:r,otp:c}=Object(u.a)(),l=s()(r,"oneTimeToken");d()(o)&&d()(l)&&d()(c)||t("open");const{autoTrigger:b}=Object(u.a)();let h;h=!0===b?0:a()(b)?1e3*Math.max(b,0):null,i()(h)||setTimeout((()=>{t("openNewConversation")}),h)}},1875:function(e,t,n){"use strict";var o=n(10),a=n(136),r=n(58),i=n(81),c=Number.isInteger||function(e){return e<<0===e},s=n(190),l=n(1409),d=Object(a.a)((function e(t,n,o){if(0===t.length)return n;var a=t[0];if(t.length>1){var d=!Object(l.a)(o)&&Object(r.a)(a,o)?o[a]:c(t[1])?[]:{};n=e(Array.prototype.slice.call(t,1),n,d)}if(c(a)&&Object(i.a)(o)){var u=[].concat(o);return u[a]=n,u}return Object(s.a)(a,n,o)})),u=n(192),p=n(189),b=Object(o.a)((function(e){return Object(u.a)(Object(p.a)(e),d(e))}));t.a=b},392:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var o=n(384),a=n(573),r=n(804),i=n(12),c=n(574);function s(e){return Object(i.I)()||Object(r.b)(e)&&!Object(c.a)()}t.a=function(){const e=Object(a.a)();return Object(o.useMemo)((()=>s(e)),[e])}},394:function(e,t,n){"use strict";n.d(t,"b",(function(){return o.a})),n.d(t,"a",(function(){return a}));var o=n(723);const a={OPEN_LINK:"openLink",AUDIO:"audio",ATTACHMENT:"attachment",BOT_USER:"botUser",CAMERA:"camera",CHAT_USER:"chatUser",CHEVRON:"chevron",CLOSE:"close",CLOSE_CIRCLE:"closeCircle",CLOSE_CONVERSATION:"closeConversation",DELETE:"delete",DOCUMENT:"document",UNKNOWN_DOC:"unknownDoc",DOWNLOAD:"download",EMOJI:"emoji",ERROR:"error",EXCEL:"excel",IMAGE_PLACEHOLDER:"imagePlaceholder",INTERNET_DISCONNECTED:"internetDisconnected",MORE:"more",PDF:"pdf",PLAY:"play",PAUSE:"pause",PRESENTATION:"presentation",SEND:"send",SOUND_OFF:"soundOff",SOUND_ON:"soundOn",VIDEO:"video",VIDEO_ON:"videoOn",VIDEO_OFF:"videoOff",AUDIO_ON:"audioOn",AUDIO_OFF:"audioOff",END_CALL:"endCall",FULL_SCREEN:"fullScreen",EXIT_FULL_SCREEN:"exitFullScreen",ONENOTE:"onenote",LINE_LIST:"lineList",TEXT:"text",TIMER:"timer",MINIMIZE:"minimize",MAXIMIZE:"maximize"}},398:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(384),a=n(482),r=n(389);const i=e=>{const t=Object(r.c)();return Object(o.useMemo)((()=>Object(a.b)(e,t)),[e,t])}},399:function(e,t,n){"use strict";var o=n(384),a=n(577);t.a=function(){return Object(o.useContext)(a.c)}},400:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(384),a=n(592);function r(){return Object(o.useContext)(a.b).otherConfigs}},406:function(e,t,n){"use strict";n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"i",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"h",(function(){return f}));var o=n(677),a=n.n(o),r=n(459);function i(e){return{type:e?r.b:r.d}}function c(){return{type:r.j,payload:{}}}const s=a()(i,!0);a()(i,!1);function l(){return{type:r.g}}function d(e){return{type:r.l,payload:e}}function u(e,t,n){return{type:r.p,payload:{userPreferenceKey:e,newValue:t,oldValue:n}}}function p(e,t){return{type:r.q,payload:{userPreferenceKey:e,value:t}}}const b=e=>({type:r.k,payload:{localeData:e}}),f=e=>{let{value:t}=e;return{type:r.n,payload:{value:t}}}},411:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n(7),a=n(6);const r=Object(o.a)("field"),i=Object(o.a)("values"),c=Object(o.a)("filterType"),s=Object(o.a)("filters"),l=Object(o.a)("details"),d=Object(o.a)("id");class u{}u.getField=Object(a.a)(r),u.getValues=Object(a.a)(i),u.getFilterType=Object(a.a)(c),u.getFilters=Object(a.a)(s),u.getDetails=Object(a.a)(l),u.getId=Object(a.a)(d)},417:function(e,t,n){"use strict";var o=n(384),a=n(436),r=n.n(a),i=n(23),c=n.n(i),s=n(196),l=n.n(s),d=n(399),u=n(835);t.a=()=>{const{locale:e,language:t}=Object(d.a)();return Object(o.useCallback)(((n,o)=>{const a=l()(n,"langVsTranslatedFieldValues");if(!c()(a))return l()(n,o);let i=l()(a,e)||l()(a,t);return i||(i=r()(a,((e,n)=>Object(u.b)(n)===t))),l()(i,o)||l()(n,o)}),[e])}},419:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(384),a=n(592);function r(){return Object(o.useContext)(a.b)}},420:function(e,t,n){"use strict";var o=n(384),a=n(1296);t.a=function(){return Object(o.useContext)(a.a)}},421:function(e,t,n){"use strict";var o=n(388);t.a=Object(o.g)({goBack:{id:"goBack",defaultMessage:"Go back"},liveChatBox:{id:"liveChatBox",defaultMessage:"Live chat box"},liveChatNotification:{id:"liveChatNotification",defaultMessage:"Live chat notification"},closeChat:{id:"closeChat",defaultMessage:"Close chat"},liveChat:{id:"liveChat",defaultMessage:"Live chat"},conversationClosed:{id:"conversationClosed",defaultMessage:"Conversation closed"},submit:{id:"submit",defaultMessage:"Submit"},textArea:{id:"textArea",defaultMessage:"Send your message here"},attachment:{id:"attachment",defaultMessage:"Attachment"},moreActions:{id:"moreActions",defaultMessage:"More actions"},sendingMessage:{id:"sendingMessage",defaultMessage:"Sending message"},sentMessage:{id:"sentMessage",defaultMessage:"Sent message"},receivedMessage:{id:"receivedMessage",defaultMessage:"Received message"},unreadMessages:{id:"unreadMessages",defaultMessage:"{count} Unread messages"},unreadMessage:{id:"unreadMessage",defaultMessage:"{count} Unread message"},newNotifications:{id:"newNotifications",defaultMessage:"New notifications"},newNotification:{id:"newNotification",defaultMessage:"New notification"},agentImage:{id:"agentImage",defaultMessage:"Agent Image"},brandImage:{id:"brandImage",defaultMessage:"Brand Image"},homeScreen:{id:"homeScreen",defaultMessage:"Live chat home screen"},newConversationCard:{id:"newConversationCard",defaultMessage:"New conversation"},existingConversationCard:{id:"existingConversationCard",defaultMessage:"Existing conversations"},conversationScreen:{id:"conversationScreen",defaultMessage:"Conversation Screen"},conversationListScreen:{id:"conversationListScreen",defaultMessage:"Conversation List Screen"},persistentMenu:{id:"persistentMenu",defaultMessage:"Menu"},brandLogo:{id:"brandLogo",defaultMessage:"Logo of {name}"}})},429:function(e,t,n){"use strict";n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return p})),n.d(t,"s",(function(){return b})),n.d(t,"p",(function(){return f})),n.d(t,"A",(function(){return h})),n.d(t,"z",(function(){return g})),n.d(t,"v",(function(){return y})),n.d(t,"t",(function(){return O})),n.d(t,"u",(function(){return m})),n.d(t,"w",(function(){return v})),n.d(t,"x",(function(){return j})),n.d(t,"o",(function(){return I})),n.d(t,"l",(function(){return E})),n.d(t,"n",(function(){return C})),n.d(t,"D",(function(){return T})),n.d(t,"B",(function(){return S})),n.d(t,"C",(function(){return _})),n.d(t,"E",(function(){return x})),n.d(t,"y",(function(){return A})),n.d(t,"k",(function(){return R})),n.d(t,"b",(function(){return N})),n.d(t,"a",(function(){return w})),n.d(t,"q",(function(){return L})),n.d(t,"c",(function(){return D})),n.d(t,"r",(function(){return M})),n.d(t,"m",(function(){return P})),n.d(t,"j",(function(){return k}));var o=n(428),a=n(554),r=n(672),i=n(409);const c=function(){let{shouldFetchNumberOfOpenConversation:e=!1,size:t,cursor:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{payload:{shouldFetchNumberOfOpenConversation:e,size:t,cursor:n},type:o.f}},s=(e,t)=>{let{cursor:n,size:a}=t;return t=>({payload:{conversationId:e,cursor:n,size:a},type:o.l,promise:t})},l=(e,t,n)=>a=>({payload:{conversationId:e,query:t,faqAttachment:n},type:o.A,promise:a}),d=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:o.i,promise:e})},u=e=>{let{conversationId:t,includeAll:n}=e;return e=>({payload:{conversationId:t,includeAll:n},type:o.h,promise:e})},p=e=>({type:o.j,payload:e}),b=e=>t=>({payload:{conversationId:e},type:o.o,promise:t}),f=e=>({type:o.H,payload:{chatMessage:e,conversationId:i.a.getConversationId(e)}}),h=e=>{let{text:t,conversationId:n,sender:a,disableManualResponse:r,inReplyToChatMessageId:i}=e;return{type:o.Z,payload:{text:t,conversationId:n,sender:a,disableManualResponse:r,inReplyToChatMessageId:i}}},g=e=>{let{postback:t,conversationId:n,sender:a,inReplyToChatMessageId:r}=e;return e=>({type:o.Y,payload:{postback:t,conversationId:n,sender:a,inReplyToChatMessageId:r},promise:e})},y=e=>({type:o.z,payload:e}),O=e=>{let{action:t,conversationId:n}=e;const o=Object(r.a)(t.actionId,t.attachment);return y({type:a.a,payload:{contextId:n,actionId:o.params,actionPayload:t.values}})},m=e=>{let{action:t,conversationId:n}=e;const o=Object(r.a)(t.actionId,t.attachment);return y({type:a.b,payload:{contextId:n,actionId:o.params,actionPayload:t.values}})},v=e=>{let{id:t,conversationId:n,messageId:o}=e;return y({type:a.e,payload:{id:t,contextId:n,sprMsgId:o}})},j=e=>{let{id:t,conversationId:n,messageId:o}=e;return y({type:a.g,payload:{id:t,contextId:n,sprMsgId:o}})},I=e=>{let{attachment:t,actionId:n}=e;return e=>{const a=Object(r.a)(n,t);return{type:o.Q,payload:{url:a.url,target:a.target},promise:e}}},E=e=>{let{attachment:t,actionId:n}=e;return e=>{const a=Object(r.a)(n,t);return{type:o.p,payload:{phoneNumber:a.phoneNumber},promise:e}}},C=e=>{let{surveyUrl:t,shouldReplace:n,conversationId:a}=e;return{type:o.U,payload:{surveyUrl:t,shouldReplace:n,conversationId:a}}},T=()=>({type:o.W,payload:{}}),S=()=>({type:o.T,payload:{}}),_=()=>({type:o.X,payload:{}}),x=e=>{let{actionParams:t,conversationId:n,sender:a,appContext:i,inReplyToChatMessageId:c}=e;return e=>({type:o.c,payload:{actionParams:Object.assign(Object.assign({},t),{actionTypes:Object(r.b)(t)}),conversationId:n,sender:a,appContext:i,inReplyToChatMessageId:c},promise:e})},A=e=>{let{postback:t,conversationId:n,sender:a,inReplyToChatMessageId:r}=e;return{type:o.R,payload:{postback:t,conversationId:n,sender:a,inReplyToChatMessageId:r}}},R=(e,t)=>n=>({type:o.K,payload:{conversationId:e,appContext:t},promise:n}),N=e=>({type:o.v,payload:{conversationId:e}}),w=(e,t,n)=>({type:o.s,payload:{conversationId:t,caseId:e,context:n}}),L=(e,t)=>({type:o.D,payload:{chatMessage:e,conversationId:i.a.getConversationId(e),alternateUserIds:t}}),D=(e,t)=>n=>({type:o.q,payload:{conversationId:e,disclaimerStatus:t},promise:n}),M=(e,t)=>({type:o.E,payload:{chatMessageId:t,conversationId:e}});function P(e,t){return{type:o.O,payload:{conversationId:e,lastReadMessageId:t}}}function k(){return{type:o.B,payload:{}}}},437:function(e,t,n){"use strict";n.d(t,"l",(function(){return o})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"e",(function(){return p})),n.d(t,"k",(function(){return b})),n.d(t,"m",(function(){return f})),n.d(t,"i",(function(){return h}));const o="unreadCountChanged",a="externalEventTriggered",r="loaded",i="loadCompleted",c="closed",s="availabilityChanged",l="promptActionTriggered",d="mediaShown",u="mediaClosed",p="eventTriggered",b="registerDeviceTriggered",f="unregisterDeviceTriggered",h="onPermissionSeeked"},438:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={CONVERSATION_WINDOW_OPENED:{id:"CONVERSATION_WINDOW_OPENED",label:"Conversation window opened"},CONVERSATION_WINDOW_OPENED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_OPENED_FROM_JS_SDK",label:"Conversation window opened from JS SDK"},CONVERSATION_WINDOW_CLOSED:{id:"CONVERSATION_WINDOW_CLOSED",label:"Conversation window closed"},CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK:{id:"CONVERSATION_WINDOW_CLOSED_FROM_JS_SDK",label:"Conversation window closed from JS SDK"},CONVERSATION_EXPORTED:{id:"CONVERSATION_EXPORTED",label:"Conversation exported"},CONVERSATION_DELETED:{id:"CONVERSATION_DELETED",label:"Conversation deleted"},CONVERSATION_CLOSED:{id:"CONVERSATION_CLOSED",label:"Conversation closed"},CONVERSATIONS_DELETED:{id:"CONVERSATIONS_DELETED",label:"Conversations deleted"},CONVERSATIONS_CLOSED:{id:"CONVERSATIONS_CLOSED",label:"Conversations closed"},NEW_CONVERSATION_CREATED:{id:"NEW_CONVERSATION_CREATED",label:"New conversation created"},NEW_CONVERSATION_STARTED:{id:"NEW_CONVERSATION_STARTED",label:"New conversation started"},NEW_CONVERSATION_STARTED_FROM_JS_SDK:{id:"NEW_CONVERSATION_STARTED_FROM_JS_SDK",label:"New conversation started from JS SDK"},EXISTING_CONVERSATION_OPENED:{id:"EXISTING_CONVERSATION_OPENED",label:"Existing conversation opened"},TRIGGER_VISIBLE:{id:"TRIGGER_VISIBLE",label:"Trigger visible"},BUTTON_CLICKED:{id:"BUTTON_CLICKED",label:"Button clicked"},AGENT_ASSIGNED:{id:"AGENT_ASSIGNED",label:"Assignment changed"},VIDEO_CALL_OUTGOING_STARTING:{id:"VIDEO_CALL_OUTGOING_STARTING",label:"Video call outgoing starting"},AUDIO_CALL_OUTGOING_STARTING:{id:"AUDIO_CALL_OUTGOING_STARTING",label:"Audio call outgoing starting"},VIDEO_CALL_CARD_CTA_CLICKED:{id:"VIDEO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from video call card"},AUDIO_CALL_CARD_CTA_CLICKED:{id:"AUDIO_CALL_CARD_CTA_CLICKED",label:"CTA clicked from audio call card"},VIDEO_CALL_LAUNCH_CLICKED:{id:"VIDEO_CALL_LAUNCH_CLICKED",label:"Video call launch clicked"},AUDIO_CALL_LAUNCH_CLICKED:{id:"AUDIO_CALL_LAUNCH_CLICKED",label:"Audio call launch clicked"},VIDEO_CALL_LAUNCHED:{id:"VIDEO_CALL_LAUNCHED",label:"Video call launched"},AUDIO_CALL_LAUNCHED:{id:"AUDIO_CALL_LAUNCHED",label:"Audio call launched"},CONVERSATION_BACK_PRESSED:{id:"CONVERSATION_BACK_PRESSED",label:"Conversation back pressed"},CONVERSATION_LIST_BACK_PRESSED:{id:"CONVERSATION_LIST_BACK_PRESSED",label:"Conversation list back pressed"},SURVEY_BACK_PRESSED:{id:"SURVEY_BACK_PRESSED",label:"Survey back pressed"},VIDEO_CALL_JOIN_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_CTA_CLICKED",label:"Video call join CTA clicked"},VIDEO_CALL_JOIN_BACK_CTA_CLICKED:{id:"VIDEO_CALL_JOIN_BACK_CTA_CLICKED",label:"Video call join back CTA clicked"},AUDIO_CALL_JOIN_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_CTA_CLICKED",label:"Audio call join CTA clicked"},AUDIO_CALL_JOIN_BACK_CTA_CLICKED:{id:"AUDIO_CALL_JOIN_BACK_CTA_CLICKED",label:"Audio call join back CTA clicked"},VIDEO_CALL_END_CLICKED:{id:"VIDEO_CALL_END_CLICKED",label:"Video call end clicked"},AUDIO_CALL_END_CLICKED:{id:"AUDIO_CALL_END_CLICKED",label:"Audio call end clicked"},INFO_CARD_OPENED:{id:"INFO_CARD_OPENED",label:"Info card opened"},INFO_CARD_CLOSED:{id:"INFO_CARD_CLOSED",label:"Info card closed"},USER_PROFILE_UPDATED:{id:"USER_PROFILE_UPDATED",label:"User Profile Updated"},WIDGET_MAXIMIZED:{id:"WIDGET_MAXIMIZED",label:"Widget maximized"},WIDGET_MINIMIZED:{id:"WIDGET_MINIMIZED",label:"Widget minimized"},PROACTIVE_PROMPT_TRIGGERED:{id:"PROACTIVE_PROMPT_TRIGGERED",label:"Proactive prompt triggered"},PROACTIVE_PROMPT_ENGAGED:{id:"PROACTIVE_PROMPT_ENGAGED",label:"Proactive prompt engaged"},PROACTIVE_PROMPT_CLOSED:{id:"PROACTIVE_PROMPT_CLOSED",label:"Proactive prompt closed"},PAGE_OPENED:{id:"PAGE_OPENED",label:"Page opened"}}},464:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(384);const a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(o.useCallback)((e=>{t.forEach((t=>{t&&("function"===typeof t?t(e):t.current=e)}))}),[...t])}},467:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s}));const o=/^https?:\/\//i,a=e=>e.match(o)?e:`https://${e}`,r=e=>`tel:${e}`,i=e=>e.map((e=>`${e.key}=${e.value}`)).join("&"),c=e=>!(e.startsWith("http")||e.startsWith("https")||e.startsWith("www")),s=(e,t)=>{const n=new URL(e);return t.forEach((e=>{n.searchParams.set(e.key,e.value)})),n.toString()}},469:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"w",(function(){return c})),n.d(t,"p",(function(){return s})),n.d(t,"t",(function(){return l})),n.d(t,"u",(function(){return d})),n.d(t,"z",(function(){return u})),n.d(t,"x",(function(){return p})),n.d(t,"y",(function(){return b})),n.d(t,"s",(function(){return f})),n.d(t,"v",(function(){return h})),n.d(t,"q",(function(){return g})),n.d(t,"r",(function(){return y})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return m})),n.d(t,"o",(function(){return v})),n.d(t,"n",(function(){return j})),n.d(t,"d",(function(){return I})),n.d(t,"h",(function(){return E})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return T})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return _})),n.d(t,"e",(function(){return x})),n.d(t,"l",(function(){return A})),n.d(t,"m",(function(){return R})),n.d(t,"k",(function(){return N}));var o=n(404),a=n(488),r=n(521);const i=(e,t)=>Object(a.k)(Object(o.b)(e),t),c=e=>Object(a.i)(Object(o.b)(e))===r.d.INITIATE_FAILED,s=e=>Object(a.i)(Object(o.b)(e))===r.d.AGENT_ASSIGNMENT_FAILED,l=e=>Object(a.A)(Object(o.b)(e)),d=e=>Object(a.B)(Object(o.b)(e)),u=e=>Object(a.g)(Object(o.b)(e)),p=e=>Object(a.i)(Object(o.b)(e))===r.d.REJOINING_FAILED_DUE_TO_CALL_END,b=e=>Object(a.i)(Object(o.b)(e))===r.d.REJOINING_FAILED_DUE_TO_OTHER_REASONS,f=e=>Object(a.z)(Object(o.b)(e)),h=e=>Object(a.p)(Object(o.b)(e)),g=e=>Object(a.x)(Object(o.b)(e)),y=e=>Object(a.y)(Object(o.b)(e)),O=(e,t)=>Object(a.c)(Object(o.b)(e),t),m=e=>Object(a.e)(Object(o.b)(e)),v=e=>Object(a.w)(Object(o.b)(e)),j=e=>Object(a.v)(Object(o.b)(e)),I=e=>Object(a.r)(Object(o.b)(e)),E=e=>Object(a.s)(Object(o.b)(e)),C=e=>Object(a.t)(Object(o.b)(e)),T=e=>Object(a.u)(Object(o.b)(e)),S=e=>Object(a.h)(Object(o.b)(e))===r.b.ACCEPT_FAILED_DUE_TO_CALL_END,_=e=>Object(a.h)(Object(o.b)(e))===r.b.ACCEPT_FAILED_DUE_TO_OTHER_REASONS,x=e=>S(e)||_(e),A=e=>Object(a.h)(Object(o.b)(e))===r.b.REJOINING_FAILED_DUE_TO_CALL_END,R=e=>Object(a.h)(Object(o.b)(e))===r.b.REJOINING_FAILED_DUE_TO_OTHER_REASONS,N=e=>Object(a.o)(Object(o.b)(e))},471:function(e,t,n){"use strict";var o=n(429);n.d(t,"a",(function(){return o.f})),n.d(t,"b",(function(){return o.g})),n.d(t,"c",(function(){return o.h})),n.d(t,"d",(function(){return o.l})),n.d(t,"e",(function(){return o.n})),n.d(t,"f",(function(){return o.o})),n.d(t,"g",(function(){return o.q})),n.d(t,"h",(function(){return o.r})),n.d(t,"i",(function(){return o.t})),n.d(t,"j",(function(){return o.u})),n.d(t,"k",(function(){return o.v})),n.d(t,"l",(function(){return o.w})),n.d(t,"m",(function(){return o.x})),n.d(t,"n",(function(){return o.y})),n.d(t,"o",(function(){return o.z})),n.d(t,"p",(function(){return o.B})),n.d(t,"q",(function(){return o.C})),n.d(t,"r",(function(){return o.D})),n.d(t,"s",(function(){return o.E}));n(842)},476:function(e,t,n){"use strict";var o=n(728);const a=new(n(812).a);a.on((e=>{const{topic:t,payload:n={}}=e;t&&Object(o.a)({topic:t,payload:{response:{data:n.data,error:n.error},request:n.request}})})),t.a=function(e){a.emit(e)}},477:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return p}));var o=n(463),a=n(730);const r=e=>{let{ssoId:t,conversationId:n,messageId:a}=e;return e=>({type:o.d,payload:{ssoId:t,conversationId:n,messageId:a},promise:e})};function i(){return{type:o.i,payload:{}}}function c(e){return{type:o.f,payload:{status:e?a.a.CONNECTED:a.a.DISCONNECTED}}}function s(e){let{waitTime:t,reason:n}=e;return{type:o.k,payload:{waitTime:t,reason:n}}}function l(){return{type:o.n,payload:{}}}function d(e){return{type:o.h,payload:e}}function u(){return{type:o.g,payload:{}}}function p(){return{type:o.j,payload:{}}}},479:function(e,t,n){"use strict";t.a={TOTAL_TIME_SPENT:"browsingSession.timeSpentOnSite",ACTIVE_TIME_SPENT:"browsingSession.timeFocusedOnSite",HORIZONTAL_PAGE_SCROLL_DEPTH:"browsingSession.horizontalPageScrollDepth",VERTICAL_PAGE_SCROLL_DEPTH:"browsingSession.verticalPageScrollDepth",INACTIVE_TIME_SPENT:"",DEVICE_TYPE:"userInfo.deviceType",TIME_SPENT_ON_SESSION:"browsingSession.timeSpentOnSession",USER_AGENT:"userInfo.userAgent",CURRENT_URL:"browsingSession.currentURL",INTERCEPT_ENGAGED_IN_SESSION_KEY:"intercept.engaged.in.session.key",INTERCEPT_CLOSED_IN_SESSION_KEY:"intercept.closed.in.session.key",DEPENDENT_DURATION_KEY:"dependant.duration.key",PAGE_REFERRER:"browsingSession.pageReferrer",BUSINESS_HOURS:"BUSINESS_HOURS",AVAILABLE_AGENTS:"AVAILABLE_AGENTS",AGENT_OUT_OF_CAPACITY:"AGENT_OUT_OF_CAPACITY",IS_CONVERSATION_OPEN:"IS_CONVERSATION_OPEN",USER_IP_DETAILS_COUNTRY:"userIPDetails.countryLong",USER_IP_DETAILS_CITY:"userIPDetails.city",USER_IP_DETAILS_REGION:"userIPDetails.region",NUM_SNOOZE_ALLOWED:"NUM_SNOOZE_ALLOWED",PROFILE_CUSTOM_FIELD:"PROFILE_CUSTOM_FIELD"}},489:function(e,t,n){"use strict";var o=n(1033),a=n(384);t.a=function(){return Object(a.useContext)(o.a)}},490:function(e,t,n){"use strict";var o=n(384),a=n(425),r=n(445);t.a=(e,t)=>{let{onSuccess:n,onFailure:i,ignoreResults:c}=t;const s=Object(o.useRef)(0),[l,d]=Object(o.useState)(),u=a.a.getType(e),p=a.a.getUrl(e),b=Object(o.useCallback)((()=>(s.current+=1,s.current)),[]),f=Object(o.useCallback)((e=>s.current===e),[]);return[Object(o.useCallback)((async e=>{const t=b();try{const o=await r.a[u](p,e);return!c&&f(t)&&d(o.data),n&&n(o.data),o.data}catch(o){throw i&&i(o),!c&&f(t)&&d(void 0),o}}),[u,p,b,f]),{data:l}]}},504:function(e,t,n){"use strict";var o=n(1036),a=n(384);t.a=function(){return Object(a.useContext)(o.a)}},519:function(e,t,n){"use strict";var o=n(438);n.d(t,"a",(function(){return o.a}))},520:function(e,t,n){"use strict";var o=n(384),a=n(731);t.a=function(){return Object(o.useContext)(a.a)}},522:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var o=n(123),a=n.n(o),r=n(83),i=n.n(r),c=n(411),s=n(479);const l=(e,t)=>{const n=c.a.getField(e);if(n)return n===t;let o=!1;return a()(c.a.getFilters(e),(e=>!l(e,t)||(o=!0,!1))),o},d=e=>!!e&&!!e.match(/PROFILE\.(\w+)/),u=e=>d(e)?e.match(/PROFILE\.(\w+)/)[1]:"",p=e=>{let{currentValueMap:t,filter:n}=e;const o=c.a.getField(n);return o&&d(o)?t[s.a.PROFILE_CUSTOM_FIELD](n):i()(t[o])?t[o](n):t[o]}},523:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(384),a=n(1020);t.default=function(e,t){var n=a.useFirstMountState();o.useEffect((function(){if(!n)return e()}),t)}},532:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var o=n(391),a=n(385),r=n(384),i=n.n(r),c=n(408),s=n.n(c),l=n(470),d=n(394),u=n(386),p=n(390);const b=Object(u.a)("button",{target:"e1hw652w0"})("background-color:transparent;border-radius:4px;border:0;cursor:pointer;height:40px;position:relative;width:40px;:before{content:'';display:block;opacity:0;position:absolute;transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4,0,0.2,1);bottom:0;left:0;right:0;top:0;background:none;border-radius:4px;box-sizing:border-box;transform:scale(0);transition-property:transform,opacity;}&:hover:before,&:focus:before{border:none;opacity:1;transform:scale(1);}",p.k,"{&:hover:before,&:focus:before{opacity:0;transform:scale(0);}&:active:before{border:none;opacity:1;transform:scale(1);}}"),f={name:"1qlyuxe",styles:"position:relative;height:12px;width:12px;flex:0 0 auto;"};var h=i.a.forwardRef(((e,t)=>{const{iconName:n,iconCss:i,Icon:c,onLoad:u,onClick:p,...h}=e,{isKeyboardEventLast:g}=Object(l.a)(),y=Object(r.useCallback)((e=>{g||e.currentTarget.blur(),p&&p(e)}),[g,p]);return Object(a.jsx)(b,Object(o.a)({},h,{ref:t,className:s()("center-x-y",e.className),onClick:y}),Object(a.jsx)(d.b,{alt:c,name:n,css:Object(a.css)([f,i],""),onLoad:u,"aria-hidden":!0,focusable:!1}),e.children)}))},533:function(e,t,n){"use strict";n.d(t,"g",(function(){return D})),n.d(t,"c",(function(){return M})),n.d(t,"f",(function(){return P})),n.d(t,"d",(function(){return k})),n.d(t,"e",(function(){return U})),n.d(t,"b",(function(){return F})),n.d(t,"a",(function(){return B})),n.d(t,"h",(function(){return G}));n(82);var o,a=n(196),r=n.n(a),i=n(436),c=n.n(i),s=n(460),l=n.n(s),d=n(1453),u=n.n(d),p=n(388),b=n(394),f=n(384);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h.apply(this,arguments)}function g(e,t){let{title:n,titleId:a,...r}=e;return f.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 11.063",ref:t,"aria-labelledby":a},r),n?f.createElement("title",{id:a},n):null,o||(o=f.createElement("g",null,f.createElement("path",{d:"M6.979 4.274c-1.128 0-2.081.951-2.083 2.08A2.101 2.101 0 0 0 7 8.48a2.1 2.1 0 0 0 2.102-2.099 2.1 2.1 0 0 0-2.123-2.107z"}),f.createElement("path",{d:"M13.5 2.063h-3.052c-.02-.016-.039-.031-.057-.058C9.99 1.386 9.581.772 9.184.151 9.108.032 9.024 0 8.891 0 7.616.004 6.34.004 5.065.001c-.09 0-.143.026-.192.101-.42.635-.844 1.267-1.262 1.903a.202.202 0 0 1-.059.058H.5a.5.5 0 0 0-.5.5v8a.5.5 0 0 0 .5.5h13a.5.5 0 0 0 .5-.5v-8a.5.5 0 0 0-.5-.5zM7.351 9.858c-2.052.198-3.653-1.335-3.832-3.115a3.501 3.501 0 0 1 3.396-3.865 3.496 3.496 0 0 1 3.582 3.372 3.494 3.494 0 0 1-3.146 3.608z"}))))}const y=f.forwardRef(g);n.p;var O=n(839),m=n(403),v=n(487),j=n(404),I=n(407),E=n(517),C=n(468),T=n(126),S=n(415),_=n(1030);const x=/^CASE_(\w+)/,A=/^CONVERSATION_(\w+)/,R=Object(p.g)({image:{id:"image",defaultMessage:"Image"},video:{id:"video",defaultMessage:"Video"},attachment:{id:"attachment",defaultMessage:"Attachment"},card:{id:"card",defaultMessage:"Card"},carousel:{id:"carousel",defaultMessage:"Carousel"},progressBar:{id:"progressBar",defaultMessage:"Progress Bar"},audio:{id:"audio",defaultMessage:"Audio"},document:{id:"document",defaultMessage:"Document"},form:{id:"form",defaultMessage:"Form"},contactDetailsForm:{id:"contactDetailsForm",defaultMessage:"Contact Details Form"},feedbackSurvey:{id:"feedbackSurvey",defaultMessage:"Feedback Survey"},secureForm:{id:"secureForm",defaultMessage:"Secure Form"},survey:{id:"survey",defaultMessage:"Survey"},cobrowseInvite:{id:"cobrowseInvite",defaultMessage:"Co-browse invite"},quickSelectCard:{id:"quickSelectCard",defaultMessage:"Quick Select Card"},disclaimerCard:{id:"disclaimerCard",defaultMessage:"Disclaimer Card"},appointment:{id:"appointment",defaultMessage:"Appointment"},faq:{id:"faq",defaultMessage:"Frequently Asked Questions"},productCard:{id:"productCard",defaultMessage:"Product Card"},productShowcaseCard:{id:"productShowcaseCard",defaultMessage:"Product Showcase Card"},productBanner:{id:"productBanner",defaultMessage:"Product Banner"},productList:{id:"productList",defaultMessage:"Product List"}}),N={[S.b.IMAGE]:R.image,[S.b.VIDEO]:R.video,[S.b.CARD]:R.card,[S.b.CAROUSEL]:R.carousel,[S.b.RICH_TEXT_CAROUSEL]:R.carousel,[S.b.PROGRESS_BAR]:R.progressBar,[S.b.AUDIO]:R.audio,[S.b.DOCUMENT]:R.document,[S.b.CONTACT_DETAILS_FORM]:R.contactDetailsForm,[S.b.FORM]:R.form,[S.b.FEEDBACK_FORM]:R.feedbackSurvey,[S.b.SECURE_FORM]:R.secureForm,[S.b.SURVEY]:R.survey,[S.b.CO_BROWSE_INVITE]:R.cobrowseInvite,[S.b.QUICK_SELECT_CARD]:R.quickSelectCard,[S.b.DISCLAIMER_CARD]:R.disclaimerCard,[S.b.APPOINTMENT]:R.appointment,[S.b.FAQ]:R.faq,[S.b.PRODUCT_CARD]:R.productCard,[S.b.PRODUCT_SHOWCASE_CARD]:R.productShowcaseCard,[S.b.PRODUCT_BANNER]:R.productBanner,[S.b.PRODUCT_LIST]:R.productList,DEFAULT:R.attachment},w={[S.b.IMAGE]:{Component:y,label:R.image,name:b.a.CAMERA},[S.b.VIDEO]:{Component:O.a,label:R.video,name:b.a.ATTACHMENT},[S.b.CARD]:{Component:O.a,label:R.card,name:b.a.ATTACHMENT},[S.b.CAROUSEL]:{Component:O.a,label:R.carousel,name:b.a.ATTACHMENT},[S.b.RICH_TEXT_CAROUSEL]:{Component:O.a,label:R.carousel,name:b.a.ATTACHMENT},[S.b.PROGRESS_BAR]:{Component:O.a,label:R.progressBar,name:b.a.ATTACHMENT},[S.b.AUDIO]:{Component:O.a,label:R.audio,name:b.a.ATTACHMENT},[S.b.DOCUMENT]:{Component:O.a,label:R.document,name:b.a.ATTACHMENT},[S.b.CONTACT_DETAILS_FORM]:{Component:O.a,label:R.contactDetailsForm,name:b.a.ATTACHMENT},[S.b.FORM]:{Component:O.a,label:R.form,name:b.a.ATTACHMENT},[S.b.FEEDBACK_FORM]:{Component:O.a,label:R.feedbackSurvey,name:b.a.ATTACHMENT},[S.b.SECURE_FORM]:{Component:O.a,label:R.secureForm,name:b.a.ATTACHMENT},[S.b.SURVEY]:{Component:O.a,label:R.survey,name:b.a.ATTACHMENT},DEFAULT:{Component:O.a,label:R.attachment,name:b.a.ATTACHMENT}},L=e=>e&&!!e.match(A),D=e=>e&&!!e.match(x),M=e=>D(e)?e.match(x)[0].split("_")[1]:void 0;function P(e,t,n){const o=Object(j.e)(e),a=Object(I.p)(Object(j.c)(e)),i=Object(v.a)(o),c=Object(v.d)(o),s=m.a.getMaximumOpenConversations(t),d=r()(s,"limit"),u=Object(I.t)(a),p=!!d&&!l()(u)&&d<=u,b=!!r()(s,"replaceNewConversationButton");let f;return i?f=c:p&&(f=b?void 0:n(s,"label")),{isLocked:i||p,lockReason:f}}const k=(e,t)=>{const n=c()(C.a.getReadStatusList(e),(e=>e.userId===t));return r()(n,"unreadCount",0)},U=e=>{const t=Object(j.c)(e),n=Object(I.p)(t),o=Object(E.b)().location.pathname,a=Object(_.a)(o,{path:"/conversation/:conversationId/:transientId?"});if(!a)return{isConversationPath:!1,conversationId:void 0};const i=r()(a,"params.conversationId"),c=r()(a,"params.transientId");if("survey"===c)return{isConversationPath:!0,conversationId:i};if("all"===i)return{isConversationPath:!1,conversationId:void 0};if("new"===i)return{isConversationPath:!0,conversationId:c||T.e};if("last"===i){return{isConversationPath:!0,conversationId:Object(I.b)(n)?Object(I.d)(Object(I.u)(t))||T.e:void 0}}return L(i)?{isConversationPath:!0,conversationId:i}:D(i)?{isConversationPath:!0,conversationId:Object(I.i)(n,M(i))}:{isConversationPath:!0,conversationId:i}},F=e=>w[e]||w.DEFAULT,B=e=>N[e]||N.DEFAULT,G=(e,t)=>-1===u()(Object(I.q)(e),t)},534:function(e,t,n){"use strict";var o=n(384),a=n(1022);var r=function(){return Object(o.useContext)(a.a)};t.a=e=>{const[t,n]=r(),a=Object(o.useCallback)((t=>{n({stateKey:e,state:t})}),[e,n]);return[t&&t.stateKey===e?t.state:null,a]}},535:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(391),a=(n(384),n(1299)),r=n(399),i=n(385);var c=e=>{const{direction:t}=Object(r.a)();return Object(i.jsx)(a.a,Object(o.a)({},e,{direction:t}),e.children)}},539:function(e,t,n){"use strict";var o=n(384),a=n(1023);t.a=function(){return Object(o.useContext)(a.b)}},541:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(384),a=n(1041);function r(){return Object(o.useContext)(a.a)}},543:function(e,t,n){"use strict";var o=n(384);const a={childList:!0,subtree:!0,attributes:!0};t.a=(e,t)=>{const[n,r]=Object(o.useState)();Object(o.useLayoutEffect)((()=>{const o=[];if(n){if(e.MutationObserver){const r=new e.MutationObserver(t);r.observe(n,a),o.push((()=>r.disconnect()))}else e.document.addEventListener("DOMSubtreeModified",t),o.push((()=>e.document.removeEventListener("DOMSubtreeModified",t)));o.push((()=>e.removeEventListener("resize",t)),(()=>e.document.removeEventListener("transitionend",t)))}return()=>{o.forEach((e=>e()))}}),[n,t]);return Object(o.useCallback)((e=>{e&&r(e)}),[])}},544:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"k",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"x",(function(){return d})),n.d(t,"l",(function(){return u})),n.d(t,"m",(function(){return p})),n.d(t,"n",(function(){return b})),n.d(t,"d",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"t",(function(){return g})),n.d(t,"u",(function(){return y})),n.d(t,"p",(function(){return O})),n.d(t,"v",(function(){return m})),n.d(t,"i",(function(){return v})),n.d(t,"w",(function(){return j})),n.d(t,"q",(function(){return I})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return C})),n.d(t,"o",(function(){return T})),n.d(t,"e",(function(){return S})),n.d(t,"j",(function(){return _}));var o=n(739);function a(e){return{type:o.e,payload:e}}function r(e){return{type:o.f,payload:e}}function i(e){return{type:o.l,payload:e}}function c(e){return{type:o.t,payload:e}}function s(e){return{type:o.g,payload:e}}function l(e){return{type:o.n,payload:e}}function d(e){return{type:o.x,payload:e}}function u(e){return{type:o.b,payload:e}}function p(e){return{type:o.c,payload:e}}function b(e){return{type:o.d,payload:e}}function f(e){return{type:o.h,payload:e}}function h(e){return{type:o.m,payload:e}}function g(e){return{type:o.k,payload:e}}function y(e){return{type:o.s,payload:e}}function O(e){return{type:o.u,payload:e}}function m(e){return{type:o.a,payload:e}}function v(e){return{type:o.o,payload:e}}function j(e){return{type:o.v,payload:e}}function I(e){return{type:o.i,payload:e}}function E(e){return{type:o.p,payload:e}}function C(e){return{type:o.q,payload:e}}function T(e){return{type:o.w,payload:e}}function S(e){return{type:o.j,payload:e}}function _(e){return{type:o.r,payload:e}}},556:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e,t)=>e&&e[t];const n=t(e,"fullName"),o=t(e,"firstName"),a=t(e,"lastName");if(n)return n;const r=a?` ${a}`:"",i=o||"";return`${i}${r}`}},557:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(391),a=n(384),r=n.n(a),i=n(591),c=n(385);const s=r.a.createContext((()=>i.c)),l=e=>function(t){return Object(c.jsx)(s.Consumer,null,(n=>Object(c.jsx)(e,Object(o.a)({},t,{getUserType:n}))))};t.b=s},558:function(e,t,n){"use strict";var o=n(400),a=n(389),r=n(417),i=n(533);const c=e=>e;t.a=()=>{const e=Object(r.a)(),t=Object(o.a)(),n=Object(a.d)(c);return Object(i.f)(n,t,e)}},570:function(e,t,n){"use strict";var o=n(384),a=n(412),r=n.n(a),i=n(122),c=n.n(i),s=n(84),l=n.n(s),d=n(502),u=n.n(d),p=n(83),b=n.n(p),f=n(123),h=n.n(f),g=n(455),y=n(121);let O=[],m=!1;const v=()=>Object(g.a)().history,j=()=>{try{O.length>0&&setTimeout((()=>{try{h()(O,(e=>e()))}catch(e){Object(y.b)(e)}}),0)}catch(e){O=[],Object(y.b)(e)}},I=()=>{const e=Object(g.a)();Object(g.b)(e)&&!m&&((()=>{if(m)return;m=!0;const e=Object(g.a)(),t=v().pushState,n=v().replaceState;e.history.pushState=function(){for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];const r=t.call(e.history,...o);return j(),r},e.history.replaceState=function(){for(var t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];const r=n.call(e.history,...o);return j(),r}})(),e.addEventListener("popstate",j),e.addEventListener("hashchange",j))};var E=()=>Object(o.useCallback)((e=>((e=>{b()(e)&&(O.push(e),I())})(e),()=>{(e=>{b()(e)&&(O=u()(O,(t=>t!==e)))})(e)})),[]),C=n(454);t.a=()=>{const e=E(),t=Object(o.useRef)(Object(C.b)()),n=Object(o.useRef)({}),a=Object(o.useRef)(""),i=Object(o.useCallback)((()=>{a.current=t.current,t.current=Object(C.b)(),a.current!==t.current&&c()(n.current,(e=>{e({currentUrl:t.current,previousUrl:a.current})}))}),[]);return{subscribe:Object(o.useCallback)(((t,o)=>{n.current={...n.current,[t]:o};let a=null;return 1===l()(n.current).length&&(a=e(i)),()=>{n.current=r()(n.current,t),0===l()(n.current).length&&null!==a&&a()}}),[]),getValue:Object(o.useCallback)((()=>t.current),[])}}},574:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var o=n(455),a=n(12);const r=()=>Object(a.K)()&&Object(o.c)(),i=()=>Object(a.L)()&&Object(o.c)()},576:function(e,t,n){"use strict";t.a={AND:"AND",OR:"OR",LT:"LT",LTE:"LTE",GT:"GT",GTE:"GTE",EQUALS:"EQUALS",NOT_EQUALS:"NOT_EQUALS",REGEX:"REGEX",IN:"IN",CONTAINS:"CONTAINS",NIN:"NIN",EXISTS:"EXISTS",MISSING:"MISSING"}},577:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var o=n(391),a=(n(384),n(196)),r=n.n(a),i=n(569);n.d(t,"b",(function(){return i.b}));var c=n(520),s=n(426),l=n(403),d=n(398),u=n(406),p=n(385);const b=e=>{const t=Object(c.a)(),n=Object(d.a)(u.d),a=s.a.getDefaultLocale(e.applicationConfig),b=s.a.getSupportedLocales(e.applicationConfig),f=l.a.getExternalLocaleData(s.a.getCustomizationConfig(e.applicationConfig)),h=r()(t,"timeZone");return Object(p.jsx)(i.a,Object(o.a)({onLoadLocaleData:n,defaultLocale:a,supportedLocales:b,externalLocaleData:f,timeZone:h},e))};t.c=i.c},578:function(e,t,n){"use strict";n.d(t,"l",(function(){return b})),n.d(t,"h",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"g",(function(){return m})),n.d(t,"m",(function(){return v})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return E})),n.d(t,"e",(function(){return T})),n.d(t,"f",(function(){return S})),n.d(t,"a",(function(){return _})),n.d(t,"k",(function(){return x}));var o=n(386),a=n(196),r=n.n(a),i=n(385),c=n(535),s=n(723),l=n(387),d=n(423),u=n(636);const p={PULSE:e=>{const t=Object(l.f)("trigger.borderColor")({theme:e}),n=i.keyframes`0%{box-shadow:0 0 0 0 ${Object(d.j)(t,.6)}}100%{box-shadow:0 0 0 10px ${Object(d.j)(t,0)}}`;return Object(i.css)("animation:",n," 2s ease infinite;")}},b=e=>{const{triggerAnimationInfo:t,theme:n}=e,o=r()(t,"effect"),a=p[o];return a?a(n):""},f=e=>{const t=Object(l.f)("trigger.yPadding")({theme:e});return 0===t?20:t},h=e=>0===Object(l.f)("trigger.xPadding")({theme:e})?20:Object(l.f)("trigger.xPadding")({theme:e}),g=function(){let{leftOffset:e=0,rightOffset:t=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n=>{let{theme:o}=n;const a=Object(l.f)("trigger.align","right")({theme:o});return`${a}: ${h(o)+(a===u.f.LEFT?e:t)}px`}},y=e=>{const t=Object(l.f)("trigger.size")(e);return Math.min(Object(l.f)("trigger.borderRadius",t/2)(e),t/2)*(1-2**-.5)},O=e=>.13*Object(l.f)("trigger.overlayIconButton.button.height")(e),m=e=>f(e.theme)+Object(l.f)("trigger.size")(e)-.5*Object(l.f)("trigger.overlayIconButton.button.height")(e)-(y(e)-O(e)),v=e=>-.5*Object(l.f)("trigger.overlayIconButton.button.height")(e)+(y(e)-O(e)),j=Object(o.a)("div",{target:"e1hh16yv0"})("width:",(e=>Object(l.f)("trigger.overlayIconButton.button.width")(e)),"px;height:",(e=>Object(l.f)("trigger.overlayIconButton.button.height")(e)),"px;border-radius:",(e=>Object(l.a)("trigger.overlayIconButton.borderRadius",Object(l.f)("trigger.overlayIconButton.button.height")(e)/2+"px")(e)),";background-color:",Object(l.f)("trigger.removeIcon.backgroundColor"),";bottom:",(e=>m(e)),"px;",(e=>g({leftOffset:v(e),rightOffset:v(e)})(e)),";position:fixed;z-index:",(e=>Object(l.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(l.f)("frame.translateZ")(e)),"px);cursor:pointer;display:flex;align-items:center;justify-content:center;visibility:hidden;"),I=Object(o.a)("div",{target:"e1hh16yv1"})({name:"l1tuuh",styles:"width:100%;height:100%;display:flex;align-items:center;justify-content:center;"}),E=Object(o.a)(s.a,{target:"e1hh16yv2"})("width:",(e=>Object(l.f)("trigger.overlayIconButton.icon.width")(e)),"px;height:",(e=>Object(l.f)("trigger.overlayIconButton.icon.height")(e)),"px;fill:",Object(l.f)("trigger.removeIcon.fill"),";"),C=`\n  ${j} {\n    visibility: visible;\n  }\n  & ~ .notification-container {\n    visibility: hidden;\n  }\n`,T=Object(o.a)("div",{target:"e1hh16yv3"})((e=>e.enableTriggerHideIcon&&`\n    &:hover {\n      ${e.applyRemoveIconStyles&&C};\n    }\n  `),";"),S=Object(o.a)("div",{target:"e1hh16yv4"})("background:transparent;overflow:hidden;box-shadow:",Object(l.f)("trigger.boxShadow"),";border-radius:",(e=>Object(l.a)("trigger.borderRadius",Object(l.f)("trigger.size")(e)/2+"px}")(e)),";bottom:",(e=>f(e.theme)),"px;height:",Object(l.f)("trigger.size"),"px;position:fixed;",g(),";transition:",(e=>{let{enableTriggerWidthTransition:t}=e;return t?"width 0.08s":"none"}),";visibility:",(e=>{let{showTrigger:t}=e;return t?"visible":"hidden"}),";width:",(e=>{let{showLabel:t,labelWidth:n,showTrigger:o,theme:a}=e;return t?o?`${n+26+8+48}px`:"100%":`${Object(l.f)("trigger.size")({theme:a})}px`}),";z-index:",(e=>Object(l.f)("frame.zIndex")(e)),";transform:translatez(",(e=>Object(l.f)("frame.translateZ")(e)),"px);"),_=Object(o.a)(c.a,{target:"e1hh16yv5"})("border-radius:",(e=>Object(l.a)("trigger.borderRadius",Object(l.f)("trigger.size")(e)/2+"px}")(e)),";border:0 none;height:100%;width:100%;"),x=(e,t)=>{const n=!(Object(l.f)("trigger.icon.url")({theme:e})&&t.isMinimized);return Object(i.css)("body{",n&&`background-color: ${Object(l.f)("trigger.backgroundColor")({theme:e})}`,";}")}},579:function(e,t,n){"use strict";var o=n(384),a=n.n(o),r=n(742),i=n.n(r),c=n(460),s=n.n(c),l=n(747),d=n(385);const u=e=>{let{shouldPlay:t,unreadCount:n,children:r}=e;const{play:c}=Object(l.b)(),u=i()(n);return Object(o.useEffect)((()=>{s()(u)||c&&t&&n>u&&c(l.a.MESSAGE)}),[n,c,u,t]),Object(d.jsx)(a.a.Fragment,null,r)};t.a=a.a.memo(u)},592:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n(391),a=n(384),r=n.n(a),i=n(385);const c=r.a.createContext(void 0),s=e=>function(t){return Object(i.jsx)(c.Consumer,null,(n=>Object(i.jsx)(e,Object(o.a)({},t,{customization:n.otherConfigs}))))};t.b=c},595:function(e,t,n){var o=n(1432),a=n(135),r=n(1433);e.exports=function(e){return a(e)?r(e):o(e)}},622:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n(384),a=n(1797),r=n(401),i=n(196),c=n.n(i),s=n(634);var l=e=>{if(!e.search.includes("preview=1"))return null;const t=c()(e.state,"sprPreview.type");switch(t){case s.a.DIALOGUE:return{type:t,message:c()(e.state,"sprPreview.message"),title:c()(e.state,"sprPreview.title"),cancelLabel:c()(e.state,"sprPreview.cancelLabel"),confirmationLabel:c()(e.state,"sprPreview.confirmationLabel"),onConfirm:c()(e.state,"sprPreview.onConfirm"),onCancel:c()(e.state,"sprPreview.onCancel")};case s.a.IMAGE:case s.a.VIDEO:return{type:t,url:c()(e.state,"sprPreview.url"),downloadParams:c()(e.state,"sprPreview.downloadParams")};default:return null}},d=n(385);const u=Object(r.a)((()=>Promise.all([n.e(0),n.e(25)]).then(n.bind(null,1856))));t.b=Object(a.a)((e=>{let{location:t}=e;const n=Object(o.useMemo)((()=>l(t)),[t.search,t.state]);return n?Object(d.jsx)(o.Suspense,{fallback:null},Object(d.jsx)(u,{previewItem:n})):null}))},633:function(e,t,n){"use strict";var o=c(n(1436)),a=c(n(1441)),r=c(n(1027)),i=c(n(1024));function c(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:i.default,TransitionGroup:r.default,ReplaceTransition:a.default,CSSTransition:o.default}},634:function(e,t,n){"use strict";t.a={IMAGE:"IMAGE",VIDEO:"VIDEO",DIALOGUE:"DIALOGUE"}},636:function(e,t,n){"use strict";n.d(t,"g",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return d}));var o=n(749);const a={[o.a.CROSS]:{height:14,width:14},[o.a.CHEVRON]:{height:18,width:18}},r="280px",i={HORIZONTAL:"horizontal",VERTICAL:"vertical"},c={TOP:"top",BOTTOM:"bottom",TEXT_TOP:"text-top"},s={FIXED:"fixed",VARIABLE:"variable"},l={TRIGGER_LEFT_BOX_LEFT:"TL_BL",TRIGGER_LEFT_BOX_RIGHT:"TL_BR",TRIGGER_RIGHT_BOX_LEFT:"TR_BL",TRIGGER_RIGHT_BOX_RIGHT:"TR_BR"},d={LEFT:"left",RIGHT:"right"}},638:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return c}));const o=["video/mp4","video/quicktime"],a=["audio/mp3","audio/x-mp3","audio/mpeg","audio/x-mpeg","audio/mpeg3","audio/x-mpeg-3"],r=[...a,"audio/wav","audio/x-wav","audio/wave","audio/x-wave","audio/vnd.wave"],i=["image/jpeg","image/png","image/gif"],c=["application/pdf","text/plain","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/onenote","application/json"]},659:function(e,t,n){"use strict";var o=n(384),a=n(413),r=n.n(a),i=n(1017),c=n(570),s=n(411);var l=()=>{const{subscribe:e,getValue:t}=Object(c.a)();return{subscribe:Object(o.useCallback)(((t,n)=>{const o=s.a.getId(t);return e(o,n)}),[e]),getValue:t}},d=n(412),u=n.n(d),p=n(431),b=n.n(p),f=n(196),h=n.n(f),g=n(475),y=n.n(g),O=n(123),m=n.n(O),v=n(523),j=n.n(v),I=(n(391),n(1019));n(385);var E=function(){return Object(o.useContext)(I.b)},C=n(410);const T=(e,t)=>(y()(h()(e,t))||C.a).startTime||0,S=e=>{let{startTime:t,expectedElapsedTime:n,onTimeout:o}=e;const a=n-(t?Date.now()-t:0);let r;return a>0&&(r=window.setTimeout((()=>{o()}),a)),r};var _=()=>{const{pagesMetaData:e,currentPageUrl:t}=E(),n=Object(o.useRef)(T(e,t));n.current=T(e,t);const a=Object(o.useRef)({}),r=Object(o.useCallback)(((e,t)=>{const o=s.a.getId(e),r=b()(s.a.getValues(e));return a.current={...a.current,[o]:{timeoutId:S({startTime:n.current,expectedElapsedTime:r,onTimeout:t}),onChangeCallback:t,filterValue:r}},()=>{clearTimeout(h()(a.current,`${o}.timeoutId`)),a.current=u()(a.current,o)}}),[]);j()((()=>{m()(a.current,(e=>{const{timeoutId:t,onChangeCallback:o,filterValue:a}=e;clearTimeout(t),o(),e.timeoutId=S({startTime:n.current,expectedElapsedTime:a,onTimeout:o})}))}),[t]);return{subscribe:r,getValue:Object(o.useCallback)((()=>n.current?Date.now()-n.current:0),[])}},x=n(389),A=n(742),R=n.n(A),N=n(122),w=n.n(N),L=n(460),D=n.n(L),M=n(407),P=n(396),k=n(398),U=n(429),F=n(477);const B=e=>Object(M.t)(Object(M.p)(Object(P.c)(e))),G={fetchOpenConversationCount:U.j,initPusherConnection:F.e};var V=()=>{const e=Object(o.useRef)(),t=Object(o.useRef)({}),{fetchOpenConversationCount:n,initPusherConnection:a}=Object(k.a)(G),r=Object(x.d)(B);e.current=r;const i=R()(r);Object(o.useEffect)((()=>{D()(e.current)&&n()}),[]),j()((()=>{w()(t.current,(e=>{e()}))}),[e.current]),j()((()=>{D()(i)&&r&&a()}),[r,i,a]);return{subscribe:Object(o.useCallback)(((e,n)=>{const o=s.a.getId(e);return t.current={...t.current,[o]:n},()=>{t.current=u()(t.current,o)}}),[]),getValue:Object(o.useCallback)((()=>e.current),[])}},z=n(538),W=n(485);var $=()=>{const e=Object(o.useRef)(0),t=Object(z.a)();e.current=W.a.getTimeToAvailability(t);const n=Object(o.useRef)({}),a=Object(o.useCallback)((()=>e.current),[]);return{subscribe:Object(o.useCallback)(((t,o)=>{const a=s.a.getId(t),r=h()(t,"details.timeToBusinessHours");let i,c=-1;return!D()(r)&&r>0?c=r:!D()(e.current)&&e.current>0&&(c=e.current),c>=0&&(i=window.setTimeout(o,c)),n.current={...n.current,[a]:i},()=>{clearTimeout(h()(n.current,`${a}.timeoutId`)),n.current=u()(n.current,a)}}),[]),getValue:a}};var H=()=>{const e=Object(o.useRef)(0),t=Object(z.a)();e.current=W.a.getNoOfAgentsAvailable(t);const n=Object(o.useRef)({});j()((()=>{w()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(o.useCallback)(((e,t)=>{const o=s.a.getId(e);return n.current={...n.current,[o]:t},()=>{n.current=u()(n.current,o)}}),[]),getValue:Object(o.useCallback)((()=>e.current),[])}};var K=()=>{const e=Object(o.useRef)(0),t=Object(z.a)();e.current=W.a.getNumberOfPendingCases(t);const n=Object(o.useRef)({});j()((()=>{w()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(o.useCallback)(((e,t)=>{const o=s.a.getId(e);return n.current={...n.current,[o]:t},()=>{n.current=u()(n.current,o)}}),[]),getValue:Object(o.useCallback)((()=>e.current),[])}},q=n(520);var Y=()=>{const{device:e}=Object(q.a)(),t=Object(o.useRef)({}),n=Object(o.useRef)(e);n.current=e,j()((()=>{w()(t.current,(e=>{e()}))}),[n.current]);const a=Object(o.useCallback)(((e,n)=>{const o=s.a.getId(e);return t.current={...t.current,[o]:n},()=>{t.current=u()(t.current,o)}}),[]);return{getValue:Object(o.useCallback)((()=>n.current),[]),subscribe:a}},X=n(479);const Z="city",J="countryLong",Q="region";var ee=()=>{const e=Object(o.useRef)(0),t=Object(z.a)();e.current=W.a.getUserIPDetails(t);const n=Object(o.useRef)({});j()((()=>{w()(n.current,(e=>{e()}))}),[e.current]);return{subscribe:Object(o.useCallback)(((e,t)=>{const o=s.a.getId(e);return n.current={...n.current,[o]:t},()=>{n.current=u()(n.current,o)}}),[]),getValue:Object(o.useCallback)((()=>t=>{const n=s.a.getField(t),o=e.current||C.a;switch(n){case X.a.USER_IP_DETAILS_CITY:return o[Z];case X.a.USER_IP_DETAILS_COUNTRY:return o[J];case X.a.USER_IP_DETAILS_REGION:return o[Q];default:return}}),[])}},te=n(522),ne=n(15),oe=n(12);var ae=()=>{const e=Object(ne.a)(),t=Object(o.useRef)(e.userContext),n=Object(o.useRef)({}),a=Object(o.useCallback)((e=>{t.current=e,w()(n.current,(e=>{e()}))}),[]);Object(o.useEffect)((()=>(Object(oe.O)("userContext",a),()=>{Object(oe.P)("userContext",a)})),[]);return{subscribe:Object(o.useCallback)(((e,t)=>{const o=e.id;return n.current={...n.current,[o]:t},()=>{n.current=u()(n.current,o)}}),[]),getValue:Object(o.useCallback)((()=>e=>{var n,o;const a=e.field,r=Object(te.a)(a);return null===(n=t.current)||void 0===n||null===(o=n[r])||void 0===o?void 0:o[0]}),[])}},re=n(454);var ie=()=>{const{getValue:e,subscribe:t}=l(),{getValue:n,subscribe:a}=_(),{getValue:r,subscribe:i}=V(),{getValue:c,subscribe:d}=$(),{getValue:u,subscribe:p}=H(),{getValue:b,subscribe:f}=K(),{getValue:h,subscribe:g}=Y(),{getValue:y,subscribe:O}=ee(),{getValue:m,subscribe:v}=ae();return{getValue:Object(o.useCallback)((()=>({[X.a.CURRENT_URL]:e(),[X.a.TOTAL_TIME_SPENT]:n(),[X.a.IS_CONVERSATION_OPEN]:r(),[X.a.AVAILABLE_AGENTS]:u(),[X.a.AGENT_OUT_OF_CAPACITY]:b(),[X.a.BUSINESS_HOURS]:c(),[X.a.DEVICE_TYPE]:h(),[X.a.USER_IP_DETAILS_CITY]:y(),[X.a.USER_IP_DETAILS_COUNTRY]:y(),[X.a.USER_IP_DETAILS_REGION]:y(),[X.a.USER_AGENT]:Object(re.e)(),[X.a.PROFILE_CUSTOM_FIELD]:m()})),[e,n,r,c,u,b,h,y,m]),subscribe:Object(o.useCallback)(((e,n)=>{if(Object(te.d)(s.a.getField(e)))return v(e,n);switch(s.a.getField(e)){case X.a.TOTAL_TIME_SPENT:return a(e,n);case X.a.CURRENT_URL:return t(e,n);case X.a.IS_CONVERSATION_OPEN:return i(e,n);case X.a.AVAILABLE_AGENTS:return p(e,n);case X.a.AGENT_OUT_OF_CAPACITY:return f(e,n);case X.a.BUSINESS_HOURS:return d(e,n);case X.a.DEVICE_TYPE:return g(e,n);case X.a.USER_IP_DETAILS_CITY:case X.a.USER_IP_DETAILS_COUNTRY:case X.a.USER_IP_DETAILS_REGION:return O(e,n);default:return null}}),[t,a,i,d,p,f,g,O,v])}};t.a=(e,t)=>{const{_getStaticValueMap:n=r.a}=t||C.a,{getValue:a,subscribe:c}=ie(),s=Object(o.useCallback)((()=>({...n(),...a()})),[a,n]);return Object(i.a)(e,{...t,getValue:s,subscribe:c})}},662:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return I}));var o=n(384),a=n.n(o),r=n(1035),i=n.n(r),c=n(1034),s=n(834),l=n(389),d=n(196),u=n.n(d),p=n(400),b=n(403);const f=()=>{const e=Object(p.a)();return!!u()(b.a.getUserPreferences(e),"enableSoundNotification")};var h=n(396),g=n(449);const y=e=>Object(g.e)(Object(h.b)(e));var O=n(385);const m={MESSAGE:"MESSAGE",AGENT_ASSIGNMENT:"AGENT_ASSIGNMENT",CALL:"CALL"},v=a.a.createContext({}),j={[m.MESSAGE]:"https://sprcdn-assets.sprinklr.com/738/notification-4de93778-e7e2-403b-9035-46fddfe6df16-1610394477.mp3",[m.AGENT_ASSIGNMENT]:"https://sprcdn-assets.sprinklr.com/787/6279cf0d-c15c-4f6b-8889-d1be2f9c0264-2132784780.wav",[m.CALL]:"https://sprcdn-assets.sprinklr.com/787/64639b8e-faae-45ad-b7c5-450884c15e2f-2786217496.mp3"},I=e=>{let{children:t}=e;const[n,,a,r]=i()({src:"","data-testid":"messageAudio"}),[d,,u,p]=i()({src:"","data-testid":"callPickedByAgentNotifAudio"}),[b,,h,g]=i()({src:"",loop:!0,"data-testid":"callAudio"}),I=Object(s.a)(),E=(()=>{const e=Object(l.d)(y).enableSoundNotification.enabled,t=f();return e&&t})(),C=f(),T=Object(o.useCallback)((()=>{r.current&&(r.current.src=j.MESSAGE),p.current&&(p.current.src=j.AGENT_ASSIGNMENT),g.current&&(g.current.src=j.CALL)}),[]),S=Object(o.useCallback)((e=>{switch(e){case m.MESSAGE:if(!E)return;return a.play();case m.AGENT_ASSIGNMENT:return u.play();case m.CALL:return h.play()}}),[a,u,h,E]),_=Object(o.useCallback)((e=>{switch(e){case m.MESSAGE:return a.pause();case m.AGENT_ASSIGNMENT:return u.pause();case m.CALL:return h.pause()}}),[a,u,h]),x=Object(o.useMemo)((()=>({play:S,pause:_})),[S,_]);return Object(O.jsx)(v.Provider,{value:x},Object(O.jsx)(c.b,{onClick:T},C&&n,I&&d,I&&b,t))};t.c=v},668:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var o=n(814);const a=e=>{let{file:t,conversationId:n,sender:a,inReplyToChatMessageId:r}=e;return{type:o.b,payload:{file:t,conversationId:n,chatUserId:a,inReplyToChatMessageId:r}}},r=(e,t)=>{let{initialMessages:n,createCase:a,conversationContext:r,silent:i,assignToUser:c,additional:s}=e;return{type:o.c,payload:{initialMessages:n,createCase:a,assignToUser:c,silent:i,conversationContext:r,additional:s},promise:t}},i=(e,t)=>{let{conversationId:n}=e;return{type:o.a,payload:{conversationId:n},promise:t}}},677:function(e,t,n){var o=n(199),a=n(824),r=n(735),i=n(671),c=o((function(e,t){var n=i(t,r(c));return a(e,32,void 0,t,n)}));c.placeholder={},e.exports=c},678:function(e,t,n){"use strict";n.d(t,"p",(function(){return a})),n.d(t,"d",(function(){return r})),n.d(t,"g",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"k",(function(){return d})),n.d(t,"a",(function(){return u})),n.d(t,"l",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"f",(function(){return g})),n.d(t,"n",(function(){return y})),n.d(t,"o",(function(){return O})),n.d(t,"i",(function(){return m}));var o=n(740);function a(){return{type:o.m,payload:{}}}function r(e){let{messageId:t,conversationId:n,agentId:a}=e;return{type:o.i,payload:{messageId:t,conversationId:n,agentId:a}}}function i(){return{type:o.n,payload:{}}}function c(e){return{type:o.g,payload:{messageId:e.messageId,endedByAgent:e.endedByAgent,markCompletedSession:e.markCompletedSession}}}function s(e){return{type:o.h,payload:e}}function l(){return{type:o.d,payload:{}}}function d(e){return{type:o.f,payload:e}}function u(e){return{type:o.b,payload:e}}function p(){return{type:o.e,payload:{}}}function b(){return{type:o.c,payload:{}}}function f(e){return{type:o.a,payload:e}}function h(e){return{type:o.o,payload:e}}function g(e){return{type:o.p,payload:e}}function y(e){return{type:o.k,payload:e}}function O(e){return{type:o.l,payload:e}}const m=e=>({type:o.j,payload:e})},723:function(e,t,n){"use strict";var o=n(391),a=n(384),r=n(500),i=n.n(r),c=n(443),s=n(196),l=n.n(s),d=n(395),u=n(1040),p=n(386),b=n(387);const f=Object(p.a)("div",{target:"e1hxxqun0"})("border-radius:20px;background-color:",(e=>!e.svgLoaded&&Object(b.b)("azure")(e)),";");var h=n(385);const g=e=>{let{name:t,className:n,theme:r,window:c,css:s,onLoad:d,...p}=e;const b=Object(a.useMemo)((()=>`${t}_${i()()}`),[t]),[g,y]=Object(a.useState)(!1);return Object(a.useEffect)((()=>{g&&d&&d()}),[g,d]),Object(a.useEffect)((()=>{const e=l()(r,["icons",t]);!async function(e,t,n,o){const a=e.document.getElementById(t),r=(await Object(u.a)(n)).documentElement.cloneNode(!0);r.setAttribute("class","spa full-height full-width"),r.setAttribute("style","top:0px; left:0px"),a&&a.appendChild(r),o()}(c,b,e,(()=>{y(!0)}))}),[b,t]),Object(h.jsx)(f,Object(o.a)({key:b,className:`spr ${n}`,css:s,id:b,svgLoaded:g,"data-testid":"Custom header icon"},p))},y=e=>{const{name:t,className:n,theme:o,css:r,onClick:i,onKeyPress:c,alt:s,onLoad:d}=e,u=l()(o,`icons.${t}`);if(Object(a.useEffect)((()=>{!u&&d&&d()}),[u,d]),u)return Object(h.jsx)(g,e);const p=s;return Object(h.jsx)(p,{className:n,css:r,onClick:i,onKeyPress:c,"aria-hidden":e["aria-hidden"],focusable:!!e.focusable})};t.a=Object(a.memo)(Object(d.c)((e=>Object(h.jsx)(c.FrameContextConsumer,null,(t=>{let{window:n}=t;return Object(h.jsx)(y,Object(o.a)({},e,{window:n}))})))))},725:function(e,t,n){var o=n(20).isFinite;e.exports=function(e){return"number"==typeof e&&o(e)}},726:function(e,t){e.exports=function(e){return null===e}},727:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o=new(n(812).a)},728:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return h}));var o=n(553),a=n.n(o),r=n(123),i=n.n(r),c=n(83),s=n.n(c),l=n(427),d=n.n(l),u=n(435);const p={};function b(e,t){const{topic:n,subscriber:o}=t;if(d()(n)&&s()(o)){const e=p[n];p[n]=e?[...e,o]:[o]}}function f(e,t){const{topic:n,subscriber:o}=t;if(d()(n)&&s()(o)){const e=p[n],t=a()(e,(e=>e===o));-1!==t&&(e.splice(t,1),p[n]=e)}}function h(e){let{topic:t,payload:n}=e;const o=p[t];i()(o,((e,t)=>{try{e(n)}catch(o){Object(u.a)(o)}}))}},729:function(e,t,n){var o=n(87),a=n(241),r=n(200),i=n(992),c=n(1370),s=n(201),l=n(85);e.exports=function(e,t,n){if((e=l(e))&&(n||void 0===t))return a(e);if(!e||!(t=o(t)))return e;var d=s(e),u=s(t),p=c(d,u),b=i(d,u)+1;return r(d,p,b).join("")}},731:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));n(391);var o=n(384),a=n.n(o),r=n(392),i=n(454),c=n(43),s=n(570),l=n(385);const d=a.a.createContext({});t.b=e=>{const[t,n]=Object(o.useState)((()=>Object(i.a)())),a=Object(r.a)(),{subscribe:u}=Object(s.a)();Object(o.useEffect)((()=>{const e=u("page-context-change-subscriber",(()=>{n(Object(i.a)())}));return()=>{e()}}),[]);const p=Object(o.useMemo)((()=>({...t,device:a?c.b:c.a})),[t,a]);return Object(l.jsx)(d.Provider,{value:p},e.children)}},742:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(384);t.default=function(e){var t=o.useRef();return o.useEffect((function(){t.current=e})),t.current}},743:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(384);const a=e=>{const t=Object(o.useRef)(e);return t.current=e,t}},744:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return b}));var o=n(384),a=n.n(o),r=n(389),i=n(534),c=n(666),s=n(459),l=n(12),d=n(385);const u="sessionExpiryModal",p=a.a.createContext(null),b=Object(o.memo)((e=>{const[t,n]=Object(o.useState)(null),[a,b]=Object(i.a)(u),f=Object(r.c)(),h=Object(l.L)();return Object(o.useEffect)((()=>{const e=c.d.on((e=>{switch(e.type){case c.c:n(e.payload.targetDate);break;case c.b:n(null)}}));return()=>e()}),[h]),Object(o.useEffect)((()=>{if(t)return h&&f({type:s.d}),void b(!0);a&&b(!1)}),[t]),Object(d.jsx)(p.Provider,{value:t},e.children)}));t.c=p},745:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={NEW:"NEW",EXISTING:"EXISTING",LAST:"LAST"}},746:function(e,t,n){"use strict";var o=function(){};e.exports=o},747:function(e,t,n){"use strict";var o=n(384),a=n(662);n.d(t,"a",(function(){return a.b})),t.b=function(){return Object(o.useContext)(a.c)}},748:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(388);const a=Object(o.g)({agentViewingYourScreen:{id:"agentViewingYourScreen",defaultMessage:"{agentName} is viewing your screen"},agentControllingYourScreen:{id:"agentControllingYourScreen",defaultMessage:"{agentName} is controlling your screen"},screenSharing:{id:"screenSharing",defaultMessage:"Screen Sharing"},screenInControl:{id:"screenInControl",defaultMessage:"Screen in Control"},stopScreenControl:{id:"stopScreenControl",defaultMessage:"Stop Screen Control"},stopCobrowsing:{id:"stopCobrowsing",defaultMessage:"Stop Co-browsing"},allowScreenControl:{id:"allowScreenControl",defaultMessage:"Allow Screen Control"},cobrowseRemoteControlConfirmationMessage:{id:"cobrowseRemoteControlConfirmationMessage",defaultMessage:"{agentName} is requesting permission to control your screen. Clicking \u2018Accept\u2019 will allow {agentName} to interact with your screen."},accept:{id:"accept",defaultMessage:"Accept"},deny:{id:"deny",defaultMessage:"Deny"},settingUpCobrowsing:{id:"settingUpCobrowsing",defaultMessage:"Setting up Co-browsing with {agentName}"},cobrowsingFailed:{id:"cobrowsingFailed",defaultMessage:"Co-browsing Failed"},settingUpWentWrong:{id:"settingUpWentWrong",defaultMessage:"Sorry, something went wrong while setting up. Please try again in sometime."}})},749:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={BOX:"box",BUBBLE:"bubble",COLLABORATORS:"collaborators",CLOUD:"cloud",MIC:"mic",ELLIPSIS:"ellipsis",ELLIPSIS_STROKE:"ellipsis-stroke",CROSS:"cross",CHEVRON:"chevron",MINIMIZE:"minimize"}},796:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var o=n(391),a=n(384),r=n.n(a),i=n(82),c=n.n(i),s=n(389),l=n(392),d=n(398),u=n(742),p=n.n(u),b=n(489),f=n(747),h=n(504),g=n(662),y=n(404),O=n(488);const m=e=>Object(O.w)(Object(y.b)(e));var v=n(469);function j(){!function(){const e=Object(s.d)(m),{play:t,pause:n}=Object(f.b)(),o=Object(b.a)(),r=Object(h.a)();Object(a.useEffect)((()=>(e&&(o.info({message:"Playing incoming ringing tone"}),r.info({eventType:"CALL_RINGING"}),t(g.b.CALL)),()=>{o.info({message:"Pausing incoming ringing tone"}),n(g.b.CALL)})),[e,o])}(),function(){const e=Object(s.d)(v.u),{play:t,pause:n}=Object(f.b)(),o=Object(b.a)();Object(a.useEffect)((()=>(e&&(o.info({message:"Playing Outgoing ringing tone"}),t(g.b.CALL)),()=>{o.info({message:"Pausing Outgoing ringing tone"}),n(g.b.CALL)})),[e,o])}()}var I=n(1033),E=n(1036),C=n(449),T=n(396),S=n(401),_=n(406),x=n(385);const A=e=>Object(O.e)(Object(y.b)(e)),R=e=>Object(O.g)(Object(y.b)(e)),N=e=>Object(C.g)(Object(T.b)(e)),w=e=>Object(O.w)(Object(y.b)(e)),L=e=>Object(O.j)(Object(y.b)(e)),D=e=>Object(O.l)(Object(y.b)(e)),M=Object(S.a)((()=>n.e(15).then(n.bind(null,1868)))),P=e=>{const t=Object(l.a)(),n=Object(s.d)(R),r=Object(s.d)(A),i=Object(s.d)(w),u=Object(s.d)(N),f=Object(d.a)(_.g),h=Object(s.d)(L),g=Object(s.d)(D),y=Object(b.a)();j();const O=p()(h);return Object(a.useEffect)((()=>{t&&u&&h&&h!==O&&f()}),[t,u,h,O,f]),Object(a.useEffect)((()=>{const e=()=>{y.info({message:`Currently on live chat tab: ${!document.hidden}`})};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}}),[y]),c()(n)&&(i||c()(r))||t&&u&&!g?null:Object(x.jsx)(a.Suspense,{fallback:null},Object(x.jsx)(M,Object(o.a)({},e,{outgoingCallDetails:n,incomingCallDetails:r})))},k=e=>Object(O.d)(Object(y.b)(e)),U=e=>Object(O.q)(Object(y.b)(e)),F=e=>{const t=Object(s.d)(k),n=Object(s.d)(U);return Object(x.jsx)(E.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId},Object(x.jsx)(I.b,{videoConversationId:t.videoConversationId,conversationId:t.conversationId,isAudioCall:n},Object(x.jsx)(P,e)))};t.b=r.a.memo(F)},801:function(e,t,n){"use strict";var o=n(386),a=(n(384),n(387)),r=n(421),i=n(391),c=n(388),s=n(385);var l=e=>Object(s.jsx)("div",{className:"sr-only"},Object(s.jsx)(c.b,Object(i.a)({},e.message,{values:{count:`${e.unreadCount}`}})));const d=Object(o.a)("div",{target:"e1bo82op0"})("background:",Object(a.f)("notification.backgroundColor"),";color:",Object(a.f)("notification.color"),";font-size:",Object(a.e)("xs"),";font-weight:600;box-shadow:0px 2px 4px 0px rgba(0,0,0,0.2);border-radius:50%;");t.a=function(e){return Object(s.jsx)(d,{"aria-live":"polite",className:`center-x-y ${e.className}`},Object(s.jsx)(l,{message:1===e.count?r.a.newNotification:r.a.newNotifications}),(t=e.count)>=10?"9+":t);var t}},814:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));const o="@conversation/NEW_CONVERSATION_OPEN",a="@conversation/EXISTING_CONVERSATION_OPEN",r="@conversation/MEDIA_SEND"},829:function(e,t,n){var o=n(142),a=n(133),r=n(29),i=n(427),c=n(595);e.exports=function(e){if(null==e)return 0;if(r(e))return i(e)?c(e):e.length;var t=a(e);return"[object Map]"==t||"[object Set]"==t?e.size:o(e).length}},832:function(e,t,n){"use strict";var o=n(384),a=n(389),r=n(425),i=n(490),c=n(404),s=n(439),l=n(430),d=n(833);const u=(new r.a).setUrl("/video-chat/conversation/log/event").setType(l.a.POST).build(),p="AUDIO_CALL",b="VIDEO_CALL";t.a=e=>{let{videoConversationId:t,conversationId:n,isAudioCall:r}=e;const[l]=Object(i.a)(u,{ignoreResults:!0}),f=Object(o.useCallback)((e=>{const t=Date.now();return e.forEach((e=>{e.offsetTime=t-e.logTime})),l(e)}),[l]),h=Object(a.d)(c.h),g=Object(s.d)(h),y=r?p:b,O=Object(o.useCallback)((e=>{const{message:o}=e;return{videoConversationId:t,logMessage:`USER: ${o}`,loggerSnUserId:g,category:y,loggerSnType:"SPRINKLR_LIVE_CHAT",logTime:Date.now(),additionalDetails:{conversationId:n}}}),[n,t,g,y]),m=Object(o.useMemo)((()=>new d.a(f,{batch:!0,adapter:O,skip:!t})),[f,O,t]);return Object(o.useEffect)((()=>()=>{m.cleanup()}),[]),m}},833:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n(435),a=n(121);const r="debug",i="info",c="warning",s="error";class l{constructor(e,t){let{batch:n,skip:l,adapter:d}=t;this.batch=void 0,this.logFn=void 0,this.logQueue=void 0,this.batchTimeoutId=void 0,this.skip=void 0,this.adapter=void 0,this.batchLogs=()=>{this.batchTimeoutId&&clearTimeout(this.batchTimeoutId),this.batchTimeoutId=window.setTimeout((()=>{this.logQueue.length&&(this.logFn(this.logQueue),this.logQueue=[]),this.batchLogs()}),5e3)},this.log=e=>{if(this.skip)return;(e=>{const{level:t,message:n,category:l}=e,d=`timeStamp: ${Date.now()} category: ${l} message: ${n}`;switch(t){case r:Object(o.a)(d);break;case s:Object(a.b)(d);break;case i:console.info(d);break;case c:console.warn(d)}})(e);const t=this.adapter(e);return this.batch?(this.batchTimeoutId||this.batchLogs(),this.logQueue.push(t)):this.logFn(t)},this.debug=e=>{this.log({...e,level:r})},this.info=e=>{this.log({...e,level:i})},this.warning=e=>{this.log({...e,level:c})},this.error=e=>{this.log({...e,level:s})},this.cleanup=()=>{this.batchTimeoutId&&(clearTimeout(this.batchTimeoutId),this.logQueue.length&&this.logFn(this.logQueue))},this.logFn=e,this.logQueue=[],this.batch=!!n,this.skip=l,this.adapter=d,this.batchTimeoutId=null}}},834:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n(419),a=n(426);const r=()=>{const e=Object(o.a)();return!!e&&!!a.a.getCallAccountId(e)}},836:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={BUNDLE_DOWNLOAD_FAILED:"BUNDLE_DOWNLOAD_FAILED",SESSION_CREATION_FAILED:"SESSION_CREATION_FAILED",OTP_SEND_FAILED:"OTP_SEND_FAILED",POSTBACK_SEND_FAILED:"POSTBACK_SEND_FAILED",RESUME_SESSION_FAILED:"RESUME_SESSION_FAILED"}},837:function(e,t,n){"use strict";var o=n(384),a=n(1034);t.a=function(){const e=Object(o.useContext)(a.a),t=Object(o.useRef)(null);return Object(o.useEffect)((()=>()=>{t.current&&e.removePublisher(t.current)}),[]),Object(o.useCallback)((n=>{t.current=n.current,t.current&&e.addPublisher(t.current)}),[e])}},838:function(e,t,n){"use strict";var o=n(384),a=n(543);t.a=(e,t)=>{const[n,r]=Object(o.useState)(),i=Object(a.a)(e,t);Object(o.useEffect)((()=>{const o=[];if(n)if(e.ResizeObserver){const a=new e.ResizeObserver(t);a.observe(n),o.push((()=>a.disconnect()))}else i(n);return()=>{o.forEach((e=>e()))}}),[n]);return Object(o.useCallback)((e=>{e&&r(e)}),[])}},839:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o,a=n(384);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r.apply(this,arguments)}function i(e,t){let{title:n,titleId:i,...c}=e;return a.createElement("svg",r({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 12 14",enableBackground:"new 0 0 12 14",xmlSpace:"preserve",ref:t,"aria-labelledby":i},c),n?a.createElement("title",{id:i},n):null,o||(o=a.createElement("g",{id:"engagement-score"},a.createElement("g",{id:"Smart-asset-recommendation_01-Copy-34",transform:"translate(-411.000000, -423.000000)"},a.createElement("g",{id:"sid-attachment",transform:"translate(411.000000, 423.000000)"},a.createElement("path",{id:"Path",d:"M4.198631,14c-0.795512,0-1.522396-0.264849-1.975732-0.533564 c-0.935669-0.604609-1.488565-1.349375-1.661586-2.226082c-0.269682-1.364355,0.514231-2.51606,0.548062-2.56439 L6.67506,0.873082c1.065194-1.312643,2.615621-0.865591,3.290308-0.449953 c1.521429,1.023147,1.054561,2.670234,0.598326,3.400017L6.271988,10.15873 c-0.629257,1.008649-1.688651,0.968534-2.244446,0.690638c-0.036731-0.018849-0.072495-0.04108-0.105359-0.067179 c-0.939536-0.751049-0.665021-1.85394-0.25035-2.41167l3.49426-5.083352C7.351682,3.016519,7.721889,2.94789,7.99157,3.133961 c0.270648,0.186071,0.339277,0.555795,0.152723,0.82596L4.637467,9.060672 C4.509876,9.241426,4.356186,9.554121,4.612336,9.807854C4.772792,9.864884,5.048273,9.876,5.27639,9.511591l4.291706-6.33655 c0.103426-0.170605,0.640856-1.156538-0.245517-1.753897c-0.086994-0.050747-1.072927-0.605092-1.70315,0.171571 l-5.53862,7.766636l0,0c0,0-0.52873,0.794545-0.352809,1.660136c0.111159,0.545162,0.488133,1.028462,1.12029,1.437335 c0.171088,0.09956,1.90517,1.040545,3.079589-0.574644l4.485993-6.424994c0.18752-0.269198,0.557729-0.335411,0.827411-0.14644 c0.268715,0.187521,0.334443,0.557728,0.146922,0.826927l-4.492759,6.433692C6.1096,13.653474,5.108202,14,4.198631,14z"}))))))}const c=a.forwardRef(i);n.p},840:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return a}));const o={NEW_CONVERSATION:"NEW_CONVERSATION",CLOSE:"CLOSE",URL:"OPEN_URL"},a={ENGAGED:"ENGAGED",CLOSED:"CLOSED",TRIGGERED:"TRIGGERED"}},841:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n(384),a=n.n(o),r=n(385);const i=a.a.createContext("MOBILE");t.b=e=>Object(r.jsx)(i.Provider,{value:e.device},e.children)},842:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var o=n(428);const a=(e,t)=>{const n={conversationId:t};return e?{type:o.bb,payload:n}:{type:o.cb,payload:n}}},844:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={NOT_FOUND:"NOT_FOUND",UNEXPECTED_ERROR:"UNEXPECTED_ERROR",NOT_ACCEPTABLE:"NOT_ACCEPTABLE",LIMIT_REACHED:"LIMIT_REACHED"}},845:function(e,t,n){"use strict";n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return g}));var o=n(82),a=n.n(o),r=n(196),i=n.n(r),c=n(826),s=n(521),l=n(1047),d=n(438);const u=e=>({[c.a.MIC]:!1,[c.a.CAMERA]:!1,[c.a.DRAG]:!e,[c.a.FULL_SCREEN]:e}),p=e=>e===s.c.WAITING,b=e=>e===s.e.WAITING?s.e.WAITING:s.e.SETUP,f=(e,t)=>((e,t)=>{switch(e.state){case l.a.CALL_INITIATED:case l.a.CALL_STARTING:return t.WAITING;case l.a.CALL_OFFER_ACCEPTED:return t.SETUP;default:return t.JOINED}})(e,t?s.c:s.e),h=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?e?d.a.AUDIO_CALL_JOIN_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_CTA_CLICKED:e?d.a.AUDIO_CALL_JOIN_BACK_CTA_CLICKED:d.a.VIDEO_CALL_JOIN_BACK_CTA_CLICKED},g=e=>{let{callDetails:t,rejoiningVideoConversationId:n}=e;const o=i()(t,"state"),r=o===s.c.FAILED||o===s.e.FAILED;return!a()(t)&&(t.videoConversationId!==n||!r||!((c=t.reason)===s.b.REJOINING_FAILED_DUE_TO_OTHER_REASONS||c===s.d.REJOINING_FAILED_DUE_TO_OTHER_REASONS));var c}},951:function(e,t,n){"use strict";n.d(t,"a",(function(){return $})),n.d(t,"c",(function(){return h.h})),n.d(t,"d",(function(){return h.i})),n.d(t,"b",(function(){return h.g})),n.d(t,"e",(function(){return h.m}));var o=n(391),a=n(384),r=n.n(a),i=n(385),c=n(389),s=n(395),l=n(388),d=n(82),u=n.n(d),p=n(742),b=n.n(p),f=n(443),h=n(578),g=n(964),y=n(965),O=n(400),m=n(837),v=n(398),j=n(417),I=n(420),E=n(392),C=n(196),T=n.n(C),S=n(419),_=n(659),x=n(426),A=n(403);var R=n(406),N=n(435),w=n(396),L=n(449);const D=e=>Object(L.g)(Object(w.b)(e)),M=e=>Object(w.b)(e).meta.isTriggerHiddenDueToDisplayConfig;var P=n(387),k=n(421),U=n(451),F=n(394),B=n(519);const G=e=>Object(L.g)(Object(w.b)(e)),V=e=>Object(L.f)(Object(w.b)(e)),z=e=>Object(w.d)(e),W=e=>e?Math.ceil(e.clientWidth):0;var $=r.a.memo(Object(l.h)((e=>{const t=Object(a.useRef)(null),n=Object(O.a)(),r=Object(s.b)(),l=Object(E.a)(),d=Object(a.useRef)(),p=Object(a.useRef)(),C=Object(j.a)()(A.a.getTriggerConfig(n),"label");(()=>{const e=Object(v.a)(R.h),t=Object(S.a)(),n=x.a.getNoDisplayConfigFilter(t),{hasPassed:o}=Object(_.a)(n,{defaultValue:!1,logOnSuccess:!0}),a=Object(c.d)(D),r=Object(c.d)(M);!u()(n)&&a&&r!==o&&(o&&Object(N.a)("Sprinklr Chat hidden by display criteria"),e({value:o}))})();const[L,$]=Object(a.useState)(!0),[H,K]=Object(a.useState)(C),[q,Y]=Object(a.useState)(!1),[X,Z]=Object(a.useState)(!1),[J,Q]=Object(a.useState)(!1),[ee,te]=Object(a.useState)(0),ne=Object(c.d)(w.b),oe=Object(c.d)(G),ae=Object(c.d)(V),re=Object(c.d)(z),ie=Object(v.a)(R.g),ce=Object(v.a)(R.c),se=Object(I.a)(),le=A.a.getAnimationInfoOfTrigger(n),{showChatTriggerAnimation:de}=(()=>{const[e,t]=Object(a.useState)(!1),n=Object(S.a)(),o=x.a.getTriggerAnimationConfigFilter(n),{hasPassed:r}=Object(_.a)(o,{defaultValue:!1,logOnSuccess:!0}),i=A.a.getAnimationInfoOfTrigger(x.a.getCustomizationConfig(n)),c=T()(i,"effect");return Object(a.useEffect)((()=>{!u()(o)&&c&&t(r)}),[o,c,r]),{showChatTriggerAnimation:e}})(),ue=b()(ae),pe=b()(J),be=b()(H);Object(a.useEffect)((()=>{(ue||!pe)&&!(ae||!J)&&se({action:B.a.TRIGGER_VISIBLE})}),[J,pe,ae,ue,se]),Object(a.useEffect)((()=>(J&&!l&&(d.current=window.requestAnimationFrame((()=>{window.requestAnimationFrame((()=>{Z(!0)}))}))),()=>{d.current&&window.cancelAnimationFrame(d.current)})),[J,l]),Object(a.useEffect)((()=>{const e=l?"":C;be!==e&&K(e)}),[l,C,be]);const fe=e.intl.formatMessage,he=A.a.canTriggerBeManuallyRemoved(n)&&oe&&u()(re),ge=Object(a.useMemo)((()=>Object(P.f)("trigger.icon.type")({theme:r})),[r]),ye=Object(a.useMemo)((()=>Object(P.f)("trigger.closeIcon.type")({theme:r})),[r]),Oe=Object(m.a)(),me=Object(a.useCallback)((()=>{ie(!oe)}),[oe,ie]),ve=Object(a.useCallback)((()=>{q&&(Q(!0),te(W(p.current))),Oe(t)}),[q,Oe]),je=Object(a.useCallback)((()=>{te(W(p.current))}),[]),Ie=Object(a.useCallback)((e=>{Y(e),Q(e),te(W(p.current))}),[]),Ee=Object(a.useCallback)((e=>{$(e)}),[]);return ae||l&&!oe?null:Object(i.jsx)(h.e,{enableTriggerHideIcon:he,applyRemoveIconStyles:L,"data-testid":"triggerContainer"},Object(i.jsx)(h.f,{showTrigger:J,showLabel:oe&&!!H,css:de?Object(h.l)({triggerAnimationInfo:le,theme:r}):"",labelWidth:ee,enableTriggerWidthTransition:X,theme:r,className:"spr-chat__trigger-box spr-live-chat-frame"},Object(i.jsx)(g.a,null,(e=>{let{ChatTriggerPage:n}=e;return Object(i.jsx)(h.a,{"aria-label":fe(k.a.liveChat),name:"spr-chat__trigger-frame",contentDidMount:ve},Object(i.jsx)(i.Global,{styles:Object(h.k)(r,{isMinimized:oe})}),Object(i.jsx)("div",{className:"full-height full-width",ref:t},Object(i.jsx)(f.FrameContextConsumer,null,(e=>{let{window:t}=e;return Object(i.jsx)(y.a,{window:t,onResize:je,resizeRefs:p},(e=>Object(i.jsx)(n,Object(o.a)({},ne,{triggerIconName:ge,closeIconName:ye,label:H,innerLabelRef:e,onClick:me,onLoad:Ie,toggleRemoveIconVisibility:Ee}))))}))))}))),he&&Object(i.jsx)(h.c,{onClick:ce},Object(i.jsx)(h.d,null,Object(i.jsx)(h.b,{alt:U.a,name:F.a.CLOSE}))))})))},964:function(e,t,n){"use strict";var o=n(384),a=n(386);const r=Object(a.a)("div",{target:"e1ippspd0"})({name:"1enwibq",styles:"position:absolute;top:0;left:0;height:100%;width:100%;overflow:hidden;"});var i=n(416),c=n(1028),s=n(12),l=n(385);t.a=e=>{const t=Object(c.a)(),[a,d]=Object(o.useState)();Object(o.useEffect)((()=>{n(1029)(`./${t.toLowerCase()}/pages`).then((e=>{d(e)}))}),[]);let u=null;return Object(s.K)()&&!a&&(u=Object(l.jsx)(i.c,{className:"flex-row-container center-x-y full-height"})),a&&(u=e.children(a)),Object(l.jsx)(r,{className:e.className},u)}},965:function(e,t,n){"use strict";var o=n(384),a=n.n(o),r=n(512),i=n.n(r),c=n(838),s=n(464),l=n(385);var d=e=>{const t=Object(c.a)(e.window,e.onResize),n=Object(o.useMemo)((()=>[...i()(e.resizeRefs||[]),t]),[t,e.resizeRefs]),r=Object(s.a)(...n);return Object(l.jsx)(a.a.Fragment,null,e.children(r))};t.a=d},966:function(e,t,n){"use strict";n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return m}));var o=n(123),a=n.n(o),r=n(1459),i=n.n(r),c=n(23),s=n.n(c),l=n(82),d=n.n(l),u=n(518),p=n.n(u);function b(e){const t=function(e){let{url:t,data:n,method:o="GET",contentType:r}=e;const c=p()(),l=document.createElement("form"),{body:u}=document;if(l.setAttribute("id",`spr-chat-download-form-${c}`),l.setAttribute("target","_top"),l.setAttribute("action",t),l.setAttribute("method",o),l.style.display="none",r&&(l.enctype=r),!d()(n)){let e="";a()(n,((t,n)=>{e+=`<input type="hidden" id="${n}" name="${n}" value=${s()(t)?`'${i()(JSON.stringify(t))}'`:`"${i()(t)}"`} />`})),l.innerHTML=e}return u.appendChild(l),l}(e);t.submit(),setTimeout((()=>{var e;(e=t)&&e.parentNode&&e.parentNode.removeChild(e)}),3e4)}var f=n(15),h=n(511),g=n(125),y=n(454);async function O(e){const t=await Object(h.a)(g.a.getAppId(Object(f.a)()));b({url:"https://prod-video-chat-chat.sprinklr.com/api/livechat/conversation/downloadChatTranscript",data:{timeZone:Object(y.f)(),"x-chat-token":t,conversationId:e}})}async function m(e){const t=await Object(h.a)(g.a.getAppId(Object(f.a)()));b({url:"https://prod-video-chat-chat.sprinklr.com/api/livechat/conversation/downloadAttachment",data:{timeZone:Object(y.f)(),"x-chat-token":t,...e}})}},991:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={ALL_SYSTEMS_OPERATIONAL:"ALL_SYSTEMS_OPERATIONAL",SERVICE_UNDER_MAINTENANCE:"SERVICE_UNDER_MAINTENANCE",PARTIALLY_DEGRADED_SERVICE:"PARTIALLY_DEGRADED_SERVICE",DEGRADED_SYSTEM_SERVICE:"DEGRADED_SYSTEM_SERVICE",MINOR_SYSTEM_OUTAGE:"MINOR_SYSTEM_OUTAGE",PARTIAL_SYSTEM_OUTAGE:"PARTIAL_SYSTEM_OUTAGE",MAJOR_SYSTEM_OUTAGE:"MAJOR_SYSTEM_OUTAGE"}},992:function(e,t,n){var o=n(669);e.exports=function(e,t){for(var n=e.length;n--&&o(t,e[n],0)>-1;);return n}}}]);